import{u as e,a as r,s as o,l as t,y as a,m as l,b as s}from"../index.ade06175.js";import{A as i}from"./AuthErrorHandler.873781f2.js";export default function(){const n=e(),{logout:u,resetErrors:c,user:m,updateUserDetails:d}=r(e=>({logout:e.logout,resetErrors:e.resetErrors,updateUserDetails:e.updateUserDetails,user:e.user})),p=o(),[f,g]=t({image:"",username:"",bio:"",email:"",password:""}),[b,v]=t(!1);a(()=>{g({image:m.image,username:m.username,bio:m.bio,email:m.email,password:""})},[m]),a(()=>{c()},[c]);const $=f.image===m.image&&f.username===m.username&&f.email===m.email&&f.bio===m.bio&&!f.password;return l`<div class="settings-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Your Settings</h1><${i}/><form ref=${p} onSubmit=${async e=>{if(e.preventDefault(),!function(e){let r=void 0,o=e[0],t=1;for(;t<e.length;){const a=e[t],l=e[t+1];if(t+=2,("optionalAccess"===a||"optionalCall"===a)&&null==o)return;"access"===a||"optionalAccess"===a?(r=o,o=l(o)):"call"!==a&&"optionalCall"!==a||(o=l((...e)=>o.call(r,...e)),r=void 0)}return o}([p,"access",e=>e.current,"optionalAccess",e=>e.checkValidity,"call",e=>e()]))return;const r=Object.entries(f).reduce((e,[r,o])=>null==o?e:{...e,[r]:o},{});v(!0),await d(r),n.route("/@"+f.username)}}><fieldset><fieldset class="form-group"><input class="form-control" type="url" placeholder="URL of profile picture" aria-label="URL of profile picture" value=${f.image} onInput=${e=>g(r=>({...r,image:e.currentTarget.value}))}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username" aria-label="Username" value=${f.username} onInput=${e=>g(r=>({...r,username:e.currentTarget.value}))}/></fieldset><fieldset class="form-group"><textarea class="form-control form-control-lg" placeholder="Short bio about you" aria-label="Short bio about you" rows=${8} value=${f.bio} onInput=${e=>g(r=>({...r,bio:e.currentTarget.value}))}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="email" placeholder="Email" aria-label="Email" required value=${f.email} onInput=${e=>g(r=>({...r,email:e.currentTarget.value}))}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="New Password" aria-label="New Password" required pattern=".{8,}" autocomplete="new-password" value=${f.password} onInput=${e=>g(r=>({...r,password:e.currentTarget.value}))}/></fieldset><button class="btn btn-lg btn-primary pull-xs-right" disabled=${$}>Update Settings<${s} show=${b} style=${{marginLeft:"0.5rem"}} strokeColor="#fff" width="1em"/></button></fieldset></form><hr/><button class="btn btn-outline-danger" onClick=${()=>{u(),n.route("/")}}>Or click here to logout.</button></div></div></div></div>`}