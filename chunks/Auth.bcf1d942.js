import{a as e,u as r,b as s,p as t,l as a,y as o,m as l,L as i}from"../index.4bf87375.js";import{A as n}from"./AuthErrorHandler.55d4b9a8.js";import{L as c}from"./LoadingIndicator.f4e3707b.js";const d=(e,r)=>r.target.value;export default function({isRegister:u}){const f=e(),{login:p,register:m,resetErrors:g}=r(e=>({login:e.login,register:e.register,resetErrors:e.resetErrors})),$=s(),[v,h]=t(d,""),[b,w]=t(d,""),[x,y]=t(d,""),[E,A]=a(!1);return o(()=>{g()},[g]),l`<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">${u?"Sign up":"Sign in"}</h1><p class="text-xs-center">${u?l`<${i} href="/login">Have an account?<//>`:l`<${i} href="/register">Need an account?<//>`}</p><${n}/><form ref=${$} onSubmit=${async e=>{e.preventDefault(),function(e){let r=void 0,s=e[0],t=1;for(;t<e.length;){const a=e[t],o=e[t+1];if(t+=2,("optionalAccess"===a||"optionalCall"===a)&&null==s)return;"access"===a||"optionalAccess"===a?(r=s,s=o(s)):"call"!==a&&"optionalCall"!==a||(s=o((...e)=>s.call(r,...e)),r=void 0)}return s}([$,"access",e=>e.current,"optionalAccess",e=>e.checkValidity,"call",e=>e()])&&(A(!0),u?await m({username:v,email:b,password:x}):await p({email:b,password:x}),f.route("/"))}}>${u&&l`<fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username" aria-label="Username" required value=${v} onInput=${h}/></fieldset>`}<fieldset class="form-group"><input class="form-control form-control-lg" type="email" placeholder="Email" aria-label="Email" required value=${b} onInput=${w}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password" aria-label="Password" required pattern=".{8,}" minLength=${8} value=${x} onInput=${y}/></fieldset><button class="btn btn-lg btn-primary pull-xs-right" disabled=${u&&!v||!b||!x}>${u?"Sign up":"Sign in"}<${c} show=${E} style=${{marginLeft:"0.5rem"}} strokeColor="#fff" width="1em"/></button></form></div></div></div></div>`}