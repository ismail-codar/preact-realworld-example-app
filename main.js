!function(n){var t={};function e(c){if(t[c])return t[c].exports;var a=t[c]={i:c,l:!1,exports:{}};return n[c].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=n,e.c=t,e.d=function(n,t,c){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:c})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var c=Object.create(null);if(e.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var a in n)e.d(c,a,function(t){return n[t]}.bind(null,a));return c},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=11)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return O; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hydrate", function() { return S; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createElement", function() { return h; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return h; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Fragment", function() { return p; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createRef", function() { return y; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isValidElement", function() { return l; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Component", function() { return d; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "cloneElement", function() { return q; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createContext", function() { return B; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "toChildArray", function() { return b; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__u", function() { return L; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "options", function() { return n; });\nvar n,l,u,i,t,o,r,f={},e=[],c=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function a(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t,o,r=arguments,f={};for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),"function"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),null!=n.vnode&&n.vnode(r),r}function y(){return{current:null}}function p(n){return n.children}function d(n,l){this.props=n,this.context=l}function _(n,l){if(null==l)return n.__?_(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?_(n):null}function w(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return w(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!g.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(g)}function g(){for(var n;g.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=$(f,o,i,l.__n,void 0!==f.ownerSVGElement,null!=o.__h?[r]:null,u,null==r?_(o):r,o.__h),j(u,o),t!=r&&w(o)))})}function m(n,l,u,i,t,o,r,c,s,h){var y,d,w,k,g,m,b,A=i&&i.__k||e,P=A.length;for(s==f&&(s=null!=r?r[0]:P?_(i,0):null),u.__k=[],y=0;y<l.length;y++)if(null!=(k=u.__k[y]=null==(k=l[y])||"boolean"==typeof k?null:"string"==typeof k||"number"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(p,{children:k},null,null,null):null!=k.__e||null!=k.__c?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(w=A[y])||w&&k.key==w.key&&k.type===w.type)A[y]=void 0;else for(d=0;d<P;d++){if((w=A[d])&&k.key==w.key&&k.type===w.type){A[d]=void 0;break}w=null}g=$(n,k,w=w||f,t,o,r,c,s,h),(d=k.ref)&&w.ref!=d&&(b||(b=[]),w.ref&&b.push(w.ref,null,k),b.push(d,k.__c||g,k)),null!=g?(null==m&&(m=g),s=x(n,k,w,A,r,g,s),h||"option"!=u.type?"function"==typeof u.type&&(u.__d=s):n.value=""):s&&w.__e==s&&s.parentNode!=n&&(s=_(w))}if(u.__e=m,null!=r&&"function"!=typeof u.type)for(y=r.length;y--;)null!=r[y]&&a(r[y]);for(y=P;y--;)null!=A[y]&&L(A[y],A[y]);if(b)for(y=0;y<b.length;y++)I(b[y],b[++y],b[++y])}function b(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){b(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o,r){var f,e,c;if(void 0!==l.__d)f=l.__d,l.__d=void 0;else if(t==u||o!=r||null==o.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(o),f=null;else{for(e=r,c=0;(e=e.nextSibling)&&c<i.length;c+=2)if(e==o)break n;n.insertBefore(o,r),f=r}return void 0!==f?f:o.nextSibling}function A(n,l,u,i,t){var o;for(o in u)"children"===o||"key"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&"function"!=typeof l[o]||"children"===o||"key"===o||"value"===o||"checked"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){"-"===l[0]?n.setProperty(l,u):n[l]=null==u?"":"number"!=typeof u||c.test(l)?u:u+"px"}function C(n,l,u,i,t){var o,r,f;if(t&&"className"==l&&(l="class"),"style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||P(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else"o"===l[0]&&"n"===l[1]?(o=l!==(l=l.replace(/Capture$/,"")),(r=l.toLowerCase())in n&&(l=r),l=l.slice(2),n.l||(n.l={}),n.l[l+o]=u,f=o?N:z,u?i||n.addEventListener(l,f,o):n.removeEventListener(l,f,o)):"list"!==l&&"tagName"!==l&&"form"!==l&&"type"!==l&&"size"!==l&&"download"!==l&&"href"!==l&&!t&&l in n?n[l]=null==u?"":u:"function"!=typeof u&&"dangerouslySetInnerHTML"!==l&&(l!==(l=l.replace(/xlink:?/,""))?null==u||!1===u?n.removeAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase()):n.setAttributeNS("http://www.w3.org/1999/xlink",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function z(l){this.l[l.type+!1](n.event?n.event(l):l)}function N(l){this.l[l.type+!0](n.event?n.event(l):l)}function T(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,t.__e&&("function"==typeof t.type&&t.__k.length>1&&T(t,l,u),l=x(u,t,t,n.__k,null,t.__e,l),"function"==typeof n.type&&(n.__d=l)))}function $(l,u,i,t,o,r,f,e,c){var a,h,v,y,_,w,k,g,b,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if("function"==typeof P){if(g=u.props,b=(a=P.contextType)&&t[a.__c],x=a?b?b.props.value:a.__:t,i.__c?k=(h=u.__c=i.__c).__=h.__E:("prototype"in P&&P.prototype.render?u.__c=h=new P(g,x):(u.__c=h=new d(g,x),h.constructor=P,h.render=M),b&&b.sub(h),h.props=g,h.state||(h.state={}),h.context=x,h.__n=t,v=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=P.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=s({},h.__s)),s(h.__s,P.getDerivedStateFromProps(g,h.__s))),y=h.props,_=h.state,v)null==P.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(g,x),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(g,h.__s,x)||u.__v===i.__v){h.props=g,h.state=h.__s,u.__v!==i.__v&&(h.__d=!1),h.__v=u,u.__e=i.__e,u.__k=i.__k,h.__h.length&&f.push(h),T(u,e,l);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(g,h.__s,x),null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(y,_,w)})}h.context=x,h.props=g,h.state=h.__s,(a=n.__r)&&a(u),h.__d=!1,h.__v=u,h.__P=l,a=h.render(h.props,h.state,h.context),h.state=h.__s,null!=h.getChildContext&&(t=s(s({},t),h.getChildContext())),v||null==h.getSnapshotBeforeUpdate||(w=h.getSnapshotBeforeUpdate(y,_)),A=null!=a&&a.type==p&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),h.base=u.__e,u.__h=null,h.__h.length&&f.push(h),k&&(h.__E=h.__=null),h.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=H(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(c||null!=r)&&(u.__e=e,u.__h=!!c,r[r.indexOf(e)]=null),n.__e(l,u,i)}return u.__e}function j(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function H(n,l,u,i,t,o,r,c){var s,a,h,v,y,p=u.props,d=l.props;if(t="svg"===l.type||t,null!=o)for(s=0;s<o.length;s++)if(null!=(a=o[s])&&((null===l.type?3===a.nodeType:a.localName===l.type)||n==a)){n=a,o[s]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS("http://www.w3.org/2000/svg",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,c=!1}if(null===l.type)p===d||c&&n.data===d||(n.data=d);else{if(null!=o&&(o=e.slice.call(n.childNodes)),h=(p=u.props||f).dangerouslySetInnerHTML,v=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(v||h)&&(v&&(h&&v.__html==h.__html||v.__html===n.innerHTML)||(n.innerHTML=v&&v.__html||""))}A(n,d,p,t,c),v?l.__k=[]:(s=l.props.children,m(n,Array.isArray(s)?s:[s],l,u,i,"foreignObject"!==l.type&&t,o,r,f,c)),c||("value"in d&&void 0!==(s=d.value)&&(s!==n.value||"progress"===l.type&&!s)&&C(n,"value",s,p.value,!1),"checked"in d&&void 0!==(s=d.checked)&&s!==n.checked&&C(n,"checked",s,p.checked,!1))}return n}function I(l,u,i){try{"function"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||I(t,null,u)),i||"function"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&a(o)}function M(n,l,u){return this.constructor(n,u)}function O(l,u,i){var t,r,c;n.__&&n.__(l,u),r=(t=i===o)?null:i&&i.__k||u.__k,l=h(p,null,[l]),c=[],$(u,(t?u:i||u).__k=l,r||f,f,void 0!==u.ownerSVGElement,i&&!t?[i]:r?null:u.childNodes.length?e.slice.call(u.childNodes):null,c,i||f,t),j(c,l)}function S(n,l){O(n,l,o)}function q(n,l,u){var i,t,o,r=arguments,f=s({},n.props);for(o in l)"key"==o?i=l[o]:"ref"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function B(n,l){var u={__c:l="__cC"+r++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n,u,i){return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t,o=l.__h;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return l.__h=o,u.__E=u}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},d.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=s({},this.state),"function"==typeof n&&(n=n(s({},u),this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},d.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},d.prototype.render=p,u=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,o=f,r=0;\n//# sourceMappingURL=preact.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QvZGlzdC9wcmVhY3QubW9kdWxlLmpzP2RhNjUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIG4sbCx1LGksdCxvLHIsZj17fSxlPVtdLGM9L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtmdW5jdGlvbiBzKG4sbCl7Zm9yKHZhciB1IGluIGwpblt1XT1sW3VdO3JldHVybiBufWZ1bmN0aW9uIGEobil7dmFyIGw9bi5wYXJlbnROb2RlO2wmJmwucmVtb3ZlQ2hpbGQobil9ZnVuY3Rpb24gaChuLGwsdSl7dmFyIGksdCxvLHI9YXJndW1lbnRzLGY9e307Zm9yKG8gaW4gbClcImtleVwiPT1vP2k9bFtvXTpcInJlZlwiPT1vP3Q9bFtvXTpmW29dPWxbb107aWYoYXJndW1lbnRzLmxlbmd0aD4zKWZvcih1PVt1XSxvPTM7bzxhcmd1bWVudHMubGVuZ3RoO28rKyl1LnB1c2gocltvXSk7aWYobnVsbCE9dSYmKGYuY2hpbGRyZW49dSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmbnVsbCE9bi5kZWZhdWx0UHJvcHMpZm9yKG8gaW4gbi5kZWZhdWx0UHJvcHMpdm9pZCAwPT09ZltvXSYmKGZbb109bi5kZWZhdWx0UHJvcHNbb10pO3JldHVybiB2KG4sZixpLHQsbnVsbCl9ZnVuY3Rpb24gdihsLHUsaSx0LG8pe3ZhciByPXt0eXBlOmwscHJvcHM6dSxrZXk6aSxyZWY6dCxfX2s6bnVsbCxfXzpudWxsLF9fYjowLF9fZTpudWxsLF9fZDp2b2lkIDAsX19jOm51bGwsX19oOm51bGwsY29uc3RydWN0b3I6dm9pZCAwLF9fdjpvfTtyZXR1cm4gbnVsbD09byYmKHIuX192PXIpLG51bGwhPW4udm5vZGUmJm4udm5vZGUocikscn1mdW5jdGlvbiB5KCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19ZnVuY3Rpb24gcChuKXtyZXR1cm4gbi5jaGlsZHJlbn1mdW5jdGlvbiBkKG4sbCl7dGhpcy5wcm9wcz1uLHRoaXMuY29udGV4dD1sfWZ1bmN0aW9uIF8obixsKXtpZihudWxsPT1sKXJldHVybiBuLl9fP18obi5fXyxuLl9fLl9fay5pbmRleE9mKG4pKzEpOm51bGw7Zm9yKHZhciB1O2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXJldHVybiB1Ll9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnR5cGU/XyhuKTpudWxsfWZ1bmN0aW9uIHcobil7dmFyIGwsdTtpZihudWxsIT0obj1uLl9fKSYmbnVsbCE9bi5fX2Mpe2ZvcihuLl9fZT1uLl9fYy5iYXNlPW51bGwsbD0wO2w8bi5fX2subGVuZ3RoO2wrKylpZihudWxsIT0odT1uLl9fa1tsXSkmJm51bGwhPXUuX19lKXtuLl9fZT1uLl9fYy5iYXNlPXUuX19lO2JyZWFrfXJldHVybiB3KG4pfX1mdW5jdGlvbiBrKGwpeyghbC5fX2QmJihsLl9fZD0hMCkmJnUucHVzaChsKSYmIWcuX19yKyt8fHQhPT1uLmRlYm91bmNlUmVuZGVyaW5nKSYmKCh0PW4uZGVib3VuY2VSZW5kZXJpbmcpfHxpKShnKX1mdW5jdGlvbiBnKCl7Zm9yKHZhciBuO2cuX19yPXUubGVuZ3RoOyluPXUuc29ydChmdW5jdGlvbihuLGwpe3JldHVybiBuLl9fdi5fX2ItbC5fX3YuX19ifSksdT1bXSxuLnNvbWUoZnVuY3Rpb24obil7dmFyIGwsdSxpLHQsbyxyLGY7bi5fX2QmJihyPShvPShsPW4pLl9fdikuX19lLChmPWwuX19QKSYmKHU9W10sKGk9cyh7fSxvKSkuX192PWksdD0kKGYsbyxpLGwuX19uLHZvaWQgMCE9PWYub3duZXJTVkdFbGVtZW50LG51bGwhPW8uX19oP1tyXTpudWxsLHUsbnVsbD09cj9fKG8pOnIsby5fX2gpLGoodSxvKSx0IT1yJiZ3KG8pKSl9KX1mdW5jdGlvbiBtKG4sbCx1LGksdCxvLHIsYyxzLGgpe3ZhciB5LGQsdyxrLGcsbSxiLEE9aSYmaS5fX2t8fGUsUD1BLmxlbmd0aDtmb3Iocz09ZiYmKHM9bnVsbCE9cj9yWzBdOlA/XyhpLDApOm51bGwpLHUuX19rPVtdLHk9MDt5PGwubGVuZ3RoO3krKylpZihudWxsIT0oaz11Ll9fa1t5XT1udWxsPT0oaz1sW3ldKXx8XCJib29sZWFuXCI9PXR5cGVvZiBrP251bGw6XCJzdHJpbmdcIj09dHlwZW9mIGt8fFwibnVtYmVyXCI9PXR5cGVvZiBrP3YobnVsbCxrLG51bGwsbnVsbCxrKTpBcnJheS5pc0FycmF5KGspP3YocCx7Y2hpbGRyZW46a30sbnVsbCxudWxsLG51bGwpOm51bGwhPWsuX19lfHxudWxsIT1rLl9fYz92KGsudHlwZSxrLnByb3BzLGsua2V5LG51bGwsay5fX3YpOmspKXtpZihrLl9fPXUsay5fX2I9dS5fX2IrMSxudWxsPT09KHc9QVt5XSl8fHcmJmsua2V5PT13LmtleSYmay50eXBlPT09dy50eXBlKUFbeV09dm9pZCAwO2Vsc2UgZm9yKGQ9MDtkPFA7ZCsrKXtpZigodz1BW2RdKSYmay5rZXk9PXcua2V5JiZrLnR5cGU9PT13LnR5cGUpe0FbZF09dm9pZCAwO2JyZWFrfXc9bnVsbH1nPSQobixrLHc9d3x8Zix0LG8scixjLHMsaCksKGQ9ay5yZWYpJiZ3LnJlZiE9ZCYmKGJ8fChiPVtdKSx3LnJlZiYmYi5wdXNoKHcucmVmLG51bGwsayksYi5wdXNoKGQsay5fX2N8fGcsaykpLG51bGwhPWc/KG51bGw9PW0mJihtPWcpLHM9eChuLGssdyxBLHIsZyxzKSxofHxcIm9wdGlvblwiIT11LnR5cGU/XCJmdW5jdGlvblwiPT10eXBlb2YgdS50eXBlJiYodS5fX2Q9cyk6bi52YWx1ZT1cIlwiKTpzJiZ3Ll9fZT09cyYmcy5wYXJlbnROb2RlIT1uJiYocz1fKHcpKX1pZih1Ll9fZT1tLG51bGwhPXImJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHUudHlwZSlmb3IoeT1yLmxlbmd0aDt5LS07KW51bGwhPXJbeV0mJmEoclt5XSk7Zm9yKHk9UDt5LS07KW51bGwhPUFbeV0mJkwoQVt5XSxBW3ldKTtpZihiKWZvcih5PTA7eTxiLmxlbmd0aDt5KyspSShiW3ldLGJbKyt5XSxiWysreV0pfWZ1bmN0aW9uIGIobixsKXtyZXR1cm4gbD1sfHxbXSxudWxsPT1ufHxcImJvb2xlYW5cIj09dHlwZW9mIG58fChBcnJheS5pc0FycmF5KG4pP24uc29tZShmdW5jdGlvbihuKXtiKG4sbCl9KTpsLnB1c2gobikpLGx9ZnVuY3Rpb24geChuLGwsdSxpLHQsbyxyKXt2YXIgZixlLGM7aWYodm9pZCAwIT09bC5fX2QpZj1sLl9fZCxsLl9fZD12b2lkIDA7ZWxzZSBpZih0PT11fHxvIT1yfHxudWxsPT1vLnBhcmVudE5vZGUpbjppZihudWxsPT1yfHxyLnBhcmVudE5vZGUhPT1uKW4uYXBwZW5kQ2hpbGQobyksZj1udWxsO2Vsc2V7Zm9yKGU9cixjPTA7KGU9ZS5uZXh0U2libGluZykmJmM8aS5sZW5ndGg7Yys9MilpZihlPT1vKWJyZWFrIG47bi5pbnNlcnRCZWZvcmUobyxyKSxmPXJ9cmV0dXJuIHZvaWQgMCE9PWY/ZjpvLm5leHRTaWJsaW5nfWZ1bmN0aW9uIEEobixsLHUsaSx0KXt2YXIgbztmb3IobyBpbiB1KVwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxvIGluIGx8fEMobixvLG51bGwsdVtvXSxpKTtmb3IobyBpbiBsKXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGxbb118fFwiY2hpbGRyZW5cIj09PW98fFwia2V5XCI9PT1vfHxcInZhbHVlXCI9PT1vfHxcImNoZWNrZWRcIj09PW98fHVbb109PT1sW29dfHxDKG4sbyxsW29dLHVbb10saSl9ZnVuY3Rpb24gUChuLGwsdSl7XCItXCI9PT1sWzBdP24uc2V0UHJvcGVydHkobCx1KTpuW2xdPW51bGw9PXU/XCJcIjpcIm51bWJlclwiIT10eXBlb2YgdXx8Yy50ZXN0KGwpP3U6dStcInB4XCJ9ZnVuY3Rpb24gQyhuLGwsdSxpLHQpe3ZhciBvLHIsZjtpZih0JiZcImNsYXNzTmFtZVwiPT1sJiYobD1cImNsYXNzXCIpLFwic3R5bGVcIj09PWwpaWYoXCJzdHJpbmdcIj09dHlwZW9mIHUpbi5zdHlsZS5jc3NUZXh0PXU7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgaSYmKG4uc3R5bGUuY3NzVGV4dD1pPVwiXCIpLGkpZm9yKGwgaW4gaSl1JiZsIGluIHV8fFAobi5zdHlsZSxsLFwiXCIpO2lmKHUpZm9yKGwgaW4gdSlpJiZ1W2xdPT09aVtsXXx8UChuLnN0eWxlLGwsdVtsXSl9ZWxzZVwib1wiPT09bFswXSYmXCJuXCI9PT1sWzFdPyhvPWwhPT0obD1sLnJlcGxhY2UoL0NhcHR1cmUkLyxcIlwiKSksKHI9bC50b0xvd2VyQ2FzZSgpKWluIG4mJihsPXIpLGw9bC5zbGljZSgyKSxuLmx8fChuLmw9e30pLG4ubFtsK29dPXUsZj1vP046eix1P2l8fG4uYWRkRXZlbnRMaXN0ZW5lcihsLGYsbyk6bi5yZW1vdmVFdmVudExpc3RlbmVyKGwsZixvKSk6XCJsaXN0XCIhPT1sJiZcInRhZ05hbWVcIiE9PWwmJlwiZm9ybVwiIT09bCYmXCJ0eXBlXCIhPT1sJiZcInNpemVcIiE9PWwmJlwiZG93bmxvYWRcIiE9PWwmJlwiaHJlZlwiIT09bCYmIXQmJmwgaW4gbj9uW2xdPW51bGw9PXU/XCJcIjp1OlwiZnVuY3Rpb25cIiE9dHlwZW9mIHUmJlwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIiE9PWwmJihsIT09KGw9bC5yZXBsYWNlKC94bGluazo/LyxcIlwiKSk/bnVsbD09dXx8ITE9PT11P24ucmVtb3ZlQXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsbC50b0xvd2VyQ2FzZSgpKTpuLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLGwudG9Mb3dlckNhc2UoKSx1KTpudWxsPT11fHwhMT09PXUmJiEvXmFyLy50ZXN0KGwpP24ucmVtb3ZlQXR0cmlidXRlKGwpOm4uc2V0QXR0cmlidXRlKGwsdSkpfWZ1bmN0aW9uIHoobCl7dGhpcy5sW2wudHlwZSshMV0obi5ldmVudD9uLmV2ZW50KGwpOmwpfWZ1bmN0aW9uIE4obCl7dGhpcy5sW2wudHlwZSshMF0obi5ldmVudD9uLmV2ZW50KGwpOmwpfWZ1bmN0aW9uIFQobixsLHUpe3ZhciBpLHQ7Zm9yKGk9MDtpPG4uX19rLmxlbmd0aDtpKyspKHQ9bi5fX2tbaV0pJiYodC5fXz1uLHQuX19lJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC50eXBlJiZ0Ll9fay5sZW5ndGg+MSYmVCh0LGwsdSksbD14KHUsdCx0LG4uX19rLG51bGwsdC5fX2UsbCksXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50eXBlJiYobi5fX2Q9bCkpKX1mdW5jdGlvbiAkKGwsdSxpLHQsbyxyLGYsZSxjKXt2YXIgYSxoLHYseSxfLHcsayxnLGIseCxBLFA9dS50eXBlO2lmKHZvaWQgMCE9PXUuY29uc3RydWN0b3IpcmV0dXJuIG51bGw7bnVsbCE9aS5fX2gmJihjPWkuX19oLGU9dS5fX2U9aS5fX2UsdS5fX2g9bnVsbCxyPVtlXSksKGE9bi5fX2IpJiZhKHUpO3RyeXtuOmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFApe2lmKGc9dS5wcm9wcyxiPShhPVAuY29udGV4dFR5cGUpJiZ0W2EuX19jXSx4PWE/Yj9iLnByb3BzLnZhbHVlOmEuX186dCxpLl9fYz9rPShoPXUuX19jPWkuX19jKS5fXz1oLl9fRTooXCJwcm90b3R5cGVcImluIFAmJlAucHJvdG90eXBlLnJlbmRlcj91Ll9fYz1oPW5ldyBQKGcseCk6KHUuX19jPWg9bmV3IGQoZyx4KSxoLmNvbnN0cnVjdG9yPVAsaC5yZW5kZXI9TSksYiYmYi5zdWIoaCksaC5wcm9wcz1nLGguc3RhdGV8fChoLnN0YXRlPXt9KSxoLmNvbnRleHQ9eCxoLl9fbj10LHY9aC5fX2Q9ITAsaC5fX2g9W10pLG51bGw9PWguX19zJiYoaC5fX3M9aC5zdGF0ZSksbnVsbCE9UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJihoLl9fcz09aC5zdGF0ZSYmKGguX19zPXMoe30saC5fX3MpKSxzKGguX19zLFAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGcsaC5fX3MpKSkseT1oLnByb3BzLF89aC5zdGF0ZSx2KW51bGw9PVAuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZudWxsIT1oLmNvbXBvbmVudFdpbGxNb3VudCYmaC5jb21wb25lbnRXaWxsTW91bnQoKSxudWxsIT1oLmNvbXBvbmVudERpZE1vdW50JiZoLl9faC5wdXNoKGguY29tcG9uZW50RGlkTW91bnQpO2Vsc2V7aWYobnVsbD09UC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJmchPT15JiZudWxsIT1oLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJmguY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhnLHgpLCFoLl9fZSYmbnVsbCE9aC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09aC5zaG91bGRDb21wb25lbnRVcGRhdGUoZyxoLl9fcyx4KXx8dS5fX3Y9PT1pLl9fdil7aC5wcm9wcz1nLGguc3RhdGU9aC5fX3MsdS5fX3YhPT1pLl9fdiYmKGguX19kPSExKSxoLl9fdj11LHUuX19lPWkuX19lLHUuX19rPWkuX19rLGguX19oLmxlbmd0aCYmZi5wdXNoKGgpLFQodSxlLGwpO2JyZWFrIG59bnVsbCE9aC5jb21wb25lbnRXaWxsVXBkYXRlJiZoLmNvbXBvbmVudFdpbGxVcGRhdGUoZyxoLl9fcyx4KSxudWxsIT1oLmNvbXBvbmVudERpZFVwZGF0ZSYmaC5fX2gucHVzaChmdW5jdGlvbigpe2guY29tcG9uZW50RGlkVXBkYXRlKHksXyx3KX0pfWguY29udGV4dD14LGgucHJvcHM9ZyxoLnN0YXRlPWguX19zLChhPW4uX19yKSYmYSh1KSxoLl9fZD0hMSxoLl9fdj11LGguX19QPWwsYT1oLnJlbmRlcihoLnByb3BzLGguc3RhdGUsaC5jb250ZXh0KSxoLnN0YXRlPWguX19zLG51bGwhPWguZ2V0Q2hpbGRDb250ZXh0JiYodD1zKHMoe30sdCksaC5nZXRDaGlsZENvbnRleHQoKSkpLHZ8fG51bGw9PWguZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fCh3PWguZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoeSxfKSksQT1udWxsIT1hJiZhLnR5cGU9PXAmJm51bGw9PWEua2V5P2EucHJvcHMuY2hpbGRyZW46YSxtKGwsQXJyYXkuaXNBcnJheShBKT9BOltBXSx1LGksdCxvLHIsZixlLGMpLGguYmFzZT11Ll9fZSx1Ll9faD1udWxsLGguX19oLmxlbmd0aCYmZi5wdXNoKGgpLGsmJihoLl9fRT1oLl9fPW51bGwpLGguX19lPSExfWVsc2UgbnVsbD09ciYmdS5fX3Y9PT1pLl9fdj8odS5fX2s9aS5fX2ssdS5fX2U9aS5fX2UpOnUuX19lPUgoaS5fX2UsdSxpLHQsbyxyLGYsYyk7KGE9bi5kaWZmZWQpJiZhKHUpfWNhdGNoKGwpe3UuX192PW51bGwsKGN8fG51bGwhPXIpJiYodS5fX2U9ZSx1Ll9faD0hIWMscltyLmluZGV4T2YoZSldPW51bGwpLG4uX19lKGwsdSxpKX1yZXR1cm4gdS5fX2V9ZnVuY3Rpb24gaihsLHUpe24uX19jJiZuLl9fYyh1LGwpLGwuc29tZShmdW5jdGlvbih1KXt0cnl7bD11Ll9faCx1Ll9faD1bXSxsLnNvbWUoZnVuY3Rpb24obil7bi5jYWxsKHUpfSl9Y2F0Y2gobCl7bi5fX2UobCx1Ll9fdil9fSl9ZnVuY3Rpb24gSChuLGwsdSxpLHQsbyxyLGMpe3ZhciBzLGEsaCx2LHkscD11LnByb3BzLGQ9bC5wcm9wcztpZih0PVwic3ZnXCI9PT1sLnR5cGV8fHQsbnVsbCE9bylmb3Iocz0wO3M8by5sZW5ndGg7cysrKWlmKG51bGwhPShhPW9bc10pJiYoKG51bGw9PT1sLnR5cGU/Mz09PWEubm9kZVR5cGU6YS5sb2NhbE5hbWU9PT1sLnR5cGUpfHxuPT1hKSl7bj1hLG9bc109bnVsbDticmVha31pZihudWxsPT1uKXtpZihudWxsPT09bC50eXBlKXJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKTtuPXQ/ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixsLnR5cGUpOmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobC50eXBlLGQuaXMmJntpczpkLmlzfSksbz1udWxsLGM9ITF9aWYobnVsbD09PWwudHlwZSlwPT09ZHx8YyYmbi5kYXRhPT09ZHx8KG4uZGF0YT1kKTtlbHNle2lmKG51bGwhPW8mJihvPWUuc2xpY2UuY2FsbChuLmNoaWxkTm9kZXMpKSxoPShwPXUucHJvcHN8fGYpLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLHY9ZC5kYW5nZXJvdXNseVNldElubmVySFRNTCwhYyl7aWYobnVsbCE9bylmb3IocD17fSx5PTA7eTxuLmF0dHJpYnV0ZXMubGVuZ3RoO3krKylwW24uYXR0cmlidXRlc1t5XS5uYW1lXT1uLmF0dHJpYnV0ZXNbeV0udmFsdWU7KHZ8fGgpJiYodiYmKGgmJnYuX19odG1sPT1oLl9faHRtbHx8di5fX2h0bWw9PT1uLmlubmVySFRNTCl8fChuLmlubmVySFRNTD12JiZ2Ll9faHRtbHx8XCJcIikpfUEobixkLHAsdCxjKSx2P2wuX19rPVtdOihzPWwucHJvcHMuY2hpbGRyZW4sbShuLEFycmF5LmlzQXJyYXkocyk/czpbc10sbCx1LGksXCJmb3JlaWduT2JqZWN0XCIhPT1sLnR5cGUmJnQsbyxyLGYsYykpLGN8fChcInZhbHVlXCJpbiBkJiZ2b2lkIDAhPT0ocz1kLnZhbHVlKSYmKHMhPT1uLnZhbHVlfHxcInByb2dyZXNzXCI9PT1sLnR5cGUmJiFzKSYmQyhuLFwidmFsdWVcIixzLHAudmFsdWUsITEpLFwiY2hlY2tlZFwiaW4gZCYmdm9pZCAwIT09KHM9ZC5jaGVja2VkKSYmcyE9PW4uY2hlY2tlZCYmQyhuLFwiY2hlY2tlZFwiLHMscC5jaGVja2VkLCExKSl9cmV0dXJuIG59ZnVuY3Rpb24gSShsLHUsaSl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIGw/bCh1KTpsLmN1cnJlbnQ9dX1jYXRjaChsKXtuLl9fZShsLGkpfX1mdW5jdGlvbiBMKGwsdSxpKXt2YXIgdCxvLHI7aWYobi51bm1vdW50JiZuLnVubW91bnQobCksKHQ9bC5yZWYpJiYodC5jdXJyZW50JiZ0LmN1cnJlbnQhPT1sLl9fZXx8SSh0LG51bGwsdSkpLGl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGwudHlwZXx8KGk9bnVsbCE9KG89bC5fX2UpKSxsLl9fZT1sLl9fZD12b2lkIDAsbnVsbCE9KHQ9bC5fX2MpKXtpZih0LmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXt0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2gobCl7bi5fX2UobCx1KX10LmJhc2U9dC5fX1A9bnVsbH1pZih0PWwuX19rKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspdFtyXSYmTCh0W3JdLHUsaSk7bnVsbCE9byYmYShvKX1mdW5jdGlvbiBNKG4sbCx1KXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihuLHUpfWZ1bmN0aW9uIE8obCx1LGkpe3ZhciB0LHIsYztuLl9fJiZuLl9fKGwsdSkscj0odD1pPT09byk/bnVsbDppJiZpLl9fa3x8dS5fX2ssbD1oKHAsbnVsbCxbbF0pLGM9W10sJCh1LCh0P3U6aXx8dSkuX19rPWwscnx8ZixmLHZvaWQgMCE9PXUub3duZXJTVkdFbGVtZW50LGkmJiF0P1tpXTpyP251bGw6dS5jaGlsZE5vZGVzLmxlbmd0aD9lLnNsaWNlLmNhbGwodS5jaGlsZE5vZGVzKTpudWxsLGMsaXx8Zix0KSxqKGMsbCl9ZnVuY3Rpb24gUyhuLGwpe08obixsLG8pfWZ1bmN0aW9uIHEobixsLHUpe3ZhciBpLHQsbyxyPWFyZ3VtZW50cyxmPXMoe30sbi5wcm9wcyk7Zm9yKG8gaW4gbClcImtleVwiPT1vP2k9bFtvXTpcInJlZlwiPT1vP3Q9bFtvXTpmW29dPWxbb107aWYoYXJndW1lbnRzLmxlbmd0aD4zKWZvcih1PVt1XSxvPTM7bzxhcmd1bWVudHMubGVuZ3RoO28rKyl1LnB1c2gocltvXSk7cmV0dXJuIG51bGwhPXUmJihmLmNoaWxkcmVuPXUpLHYobi50eXBlLGYsaXx8bi5rZXksdHx8bi5yZWYsbnVsbCl9ZnVuY3Rpb24gQihuLGwpe3ZhciB1PXtfX2M6bD1cIl9fY0NcIityKyssX186bixDb25zdW1lcjpmdW5jdGlvbihuLGwpe3JldHVybiBuLmNoaWxkcmVuKGwpfSxQcm92aWRlcjpmdW5jdGlvbihuLHUsaSl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwodT1bXSwoaT17fSlbbF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBpfSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihuKXt0aGlzLnByb3BzLnZhbHVlIT09bi52YWx1ZSYmdS5zb21lKGspfSx0aGlzLnN1Yj1mdW5jdGlvbihuKXt1LnB1c2gobik7dmFyIGw9bi5jb21wb25lbnRXaWxsVW5tb3VudDtuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dS5zcGxpY2UodS5pbmRleE9mKG4pLDEpLGwmJmwuY2FsbChuKX19KSxuLmNoaWxkcmVufX07cmV0dXJuIHUuUHJvdmlkZXIuX189dS5Db25zdW1lci5jb250ZXh0VHlwZT11fW49e19fZTpmdW5jdGlvbihuLGwpe2Zvcih2YXIgdSxpLHQsbz1sLl9faDtsPWwuX187KWlmKCh1PWwuX19jKSYmIXUuX18pdHJ5e2lmKChpPXUuY29uc3RydWN0b3IpJiZudWxsIT1pLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKHUuc2V0U3RhdGUoaS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IobikpLHQ9dS5fX2QpLG51bGwhPXUuY29tcG9uZW50RGlkQ2F0Y2gmJih1LmNvbXBvbmVudERpZENhdGNoKG4pLHQ9dS5fX2QpLHQpcmV0dXJuIGwuX19oPW8sdS5fX0U9dX1jYXRjaChsKXtuPWx9dGhyb3cgbn19LGw9ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4mJnZvaWQgMD09PW4uY29uc3RydWN0b3J9LGQucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKG4sbCl7dmFyIHU7dT1udWxsIT10aGlzLl9fcyYmdGhpcy5fX3MhPT10aGlzLnN0YXRlP3RoaXMuX19zOnRoaXMuX19zPXMoe30sdGhpcy5zdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG49bihzKHt9LHUpLHRoaXMucHJvcHMpKSxuJiZzKHUsbiksbnVsbCE9biYmdGhpcy5fX3YmJihsJiZ0aGlzLl9faC5wdXNoKGwpLGsodGhpcykpfSxkLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihuKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLG4mJnRoaXMuX19oLnB1c2gobiksayh0aGlzKSl9LGQucHJvdG90eXBlLnJlbmRlcj1wLHU9W10saT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBQcm9taXNlP1Byb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSk6c2V0VGltZW91dCxnLl9fcj0wLG89ZixyPTA7ZXhwb3J0e08gYXMgcmVuZGVyLFMgYXMgaHlkcmF0ZSxoIGFzIGNyZWF0ZUVsZW1lbnQsaCxwIGFzIEZyYWdtZW50LHkgYXMgY3JlYXRlUmVmLGwgYXMgaXNWYWxpZEVsZW1lbnQsZCBhcyBDb21wb25lbnQscSBhcyBjbG9uZUVsZW1lbnQsQiBhcyBjcmVhdGVDb250ZXh0LGIgYXMgdG9DaGlsZEFycmF5LEwgYXMgX191LG4gYXMgb3B0aW9uc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmVhY3QubW9kdWxlLmpzLm1hcFxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.deleteFollowProfile = exports.postFollowProfile = exports.putProfile = exports.getProfile = exports.deleteFavoriteArticle = exports.postFavoriteArticle = exports.postComment = exports.deleteComment = exports.getCommentsByArticle = exports.getFavoritedArticles = exports.getProfileArticles = exports.getArticlesByTag = exports.getFeeds = exports.getArticles = exports.putArticle = exports.getArticle = exports.postArticle = exports.getAllTags = exports.postRegister = exports.postLogin = exports.request = exports.limit = void 0;\nvar request_1 = __importDefault(__webpack_require__(14));\nexports.limit = 10;\nexports.request = new request_1.default({\n    prefix: "https://conduit.productionready.io" + "/api",\n    headers: {\n        \'Content-Type\': \'application/json\',\n    },\n});\nfunction postLogin(form) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post(\'/users/login\', { user: form }).then(function (res) { return res.user; })];\n        });\n    });\n}\nexports.postLogin = postLogin;\nfunction postRegister(form) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post(\'/users\', { user: form }).then(function (res) { return res.user; })];\n        });\n    });\n}\nexports.postRegister = postRegister;\nfunction getAllTags() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.get(\'/tags\').then(function (res) { return res.tags; })];\n        });\n    });\n}\nexports.getAllTags = getAllTags;\nfunction postArticle(form) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post(\'/articles\', { article: form })\n                    .then(function (res) { return res.article; })];\n        });\n    });\n}\nexports.postArticle = postArticle;\nfunction getArticle(slug) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.get("/articles/" + slug).then(function (res) { return res.article; })];\n        });\n    });\n}\nexports.getArticle = getArticle;\nfunction putArticle(slug, form) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.put("/articles/" + slug, { article: form })\n                    .then(function (res) { return res.article; })];\n        });\n    });\n}\nexports.putArticle = putArticle;\nfunction getArticles(page) {\n    if (page === void 0) { page = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var params;\n        return __generator(this, function (_a) {\n            params = { limit: exports.limit, offset: (page - 1) * exports.limit };\n            return [2 /*return*/, exports.request.get(\'/articles\', { params: params })];\n        });\n    });\n}\nexports.getArticles = getArticles;\nfunction getFeeds(page) {\n    if (page === void 0) { page = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var params;\n        return __generator(this, function (_a) {\n            params = { limit: exports.limit, offset: (page - 1) * exports.limit };\n            return [2 /*return*/, exports.request.get(\'/articles/feed\', { params: params })];\n        });\n    });\n}\nexports.getFeeds = getFeeds;\nfunction getArticlesByTag(tagName, page) {\n    if (page === void 0) { page = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var params;\n        return __generator(this, function (_a) {\n            params = { tag: tagName, limit: exports.limit, offset: (page - 1) * exports.limit };\n            return [2 /*return*/, exports.request.get(\'/articles\', { params: params })];\n        });\n    });\n}\nexports.getArticlesByTag = getArticlesByTag;\nfunction getProfileArticles(username, page) {\n    if (page === void 0) { page = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var params;\n        return __generator(this, function (_a) {\n            params = { limit: exports.limit, offset: (page - 1) * exports.limit, author: username };\n            return [2 /*return*/, exports.request.get(\'/articles\', { params: params })];\n        });\n    });\n}\nexports.getProfileArticles = getProfileArticles;\nfunction getFavoritedArticles(username, page) {\n    if (page === void 0) { page = 1; }\n    return __awaiter(this, void 0, void 0, function () {\n        var params;\n        return __generator(this, function (_a) {\n            params = { limit: exports.limit, offset: (page - 1) * exports.limit, favorited: username };\n            return [2 /*return*/, exports.request.get(\'/articles\', { params: params })];\n        });\n    });\n}\nexports.getFavoritedArticles = getFavoritedArticles;\nfunction getCommentsByArticle(slug) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.get("/articles/" + slug + "/comments").then(function (res) { return res.comments; })];\n        });\n    });\n}\nexports.getCommentsByArticle = getCommentsByArticle;\nfunction deleteComment(slug, commentId) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.delete("/articles/" + slug + "/comments/" + commentId)];\n        });\n    });\n}\nexports.deleteComment = deleteComment;\nfunction postComment(slug, body) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post("/articles/" + slug + "/comments", { comment: { body: body } })\n                    .then(function (res) { return res.comment; })];\n        });\n    });\n}\nexports.postComment = postComment;\nfunction postFavoriteArticle(slug) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post("/articles/" + slug + "/favorite").then(function (res) { return res.article; })];\n        });\n    });\n}\nexports.postFavoriteArticle = postFavoriteArticle;\nfunction deleteFavoriteArticle(slug) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.delete("/articles/" + slug + "/favorite").then(function (res) { return res.article; })];\n        });\n    });\n}\nexports.deleteFavoriteArticle = deleteFavoriteArticle;\nfunction getProfile(username) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.get("/profiles/" + username).then(function (res) { return res.profile; })];\n        });\n    });\n}\nexports.getProfile = getProfile;\nfunction putProfile(form) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.put(\'/user\', form).then(function (res) { return res.profile; })];\n        });\n    });\n}\nexports.putProfile = putProfile;\nfunction postFollowProfile(username) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.post("/profiles/" + username + "/follow").then(function (res) { return res.profile; })];\n        });\n    });\n}\nexports.postFollowProfile = postFollowProfile;\nfunction deleteFollowProfile(username) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, exports.request.delete("/profiles/" + username + "/follow").then(function (res) { return res.profile; })];\n        });\n    });\n}\nexports.deleteFollowProfile = deleteFollowProfile;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy50cz83ZjkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGZXRjaFJlcXVlc3QgZnJvbSAnLi91dGlscy9yZXF1ZXN0J1xuXG5leHBvcnQgY29uc3QgbGltaXQgPSAxMFxuXG5leHBvcnQgY29uc3QgcmVxdWVzdCA9IG5ldyBGZXRjaFJlcXVlc3Qoe1xuICBwcmVmaXg6IGAke3Byb2Nlc3MuZW52LkFQSV9IT1NUfS9hcGlgLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pXG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9zdExvZ2luRm9ybSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0TG9naW4oZm9ybTogUG9zdExvZ2luRm9ybSkge1xuICByZXR1cm4gcmVxdWVzdC5wb3N0PFVzZXJSZXNwb25zZT4oJy91c2Vycy9sb2dpbicsIHsgdXNlcjogZm9ybSB9KS50aGVuKHJlcyA9PiByZXMudXNlcilcbn1cblxuaW50ZXJmYWNlIFBvc3RSZWdpc3RlckZvcm0gZXh0ZW5kcyBQb3N0TG9naW5Gb3JtIHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvc3RSZWdpc3Rlcihmb3JtOiBQb3N0UmVnaXN0ZXJGb3JtKSB7XG4gIHJldHVybiByZXF1ZXN0LnBvc3Q8VXNlclJlc3BvbnNlPignL3VzZXJzJywgeyB1c2VyOiBmb3JtIH0pLnRoZW4ocmVzID0+IHJlcy51c2VyKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsVGFncygpIHtcbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PFRhZ3NSZXNwb25zZT4oJy90YWdzJykudGhlbihyZXMgPT4gcmVzLnRhZ3MpXG59XG5cbmludGVyZmFjZSBQb3N0QXJ0aWNsZUZvcm0ge1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIHRhZ0xpc3Q6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9zdEFydGljbGUoZm9ybTogUG9zdEFydGljbGVGb3JtKSB7XG4gIHJldHVybiByZXF1ZXN0LnBvc3Q8QXJ0aWNsZVJlc3BvbnNlPignL2FydGljbGVzJywgeyBhcnRpY2xlOiBmb3JtIH0pXG4gICAgLnRoZW4ocmVzID0+IHJlcy5hcnRpY2xlKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QXJ0aWNsZShzbHVnOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PEFydGljbGVSZXNwb25zZT4oYC9hcnRpY2xlcy8ke3NsdWd9YCkudGhlbihyZXMgPT4gcmVzLmFydGljbGUpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXRBcnRpY2xlKHNsdWc6IHN0cmluZywgZm9ybTogUG9zdEFydGljbGVGb3JtKSB7XG4gIHJldHVybiByZXF1ZXN0LnB1dDxBcnRpY2xlUmVzcG9uc2U+KGAvYXJ0aWNsZXMvJHtzbHVnfWAsIHsgYXJ0aWNsZTogZm9ybSB9KVxuICAgIC50aGVuKHJlcyA9PiByZXMuYXJ0aWNsZSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFydGljbGVzKHBhZ2UgPSAxKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHsgbGltaXQsIG9mZnNldDogKHBhZ2UgLSAxKSAqIGxpbWl0IH1cbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PEFydGljbGVzUmVzcG9uc2U+KCcvYXJ0aWNsZXMnLCB7IHBhcmFtcyB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmVlZHMocGFnZSA9IDEpIHtcbiAgY29uc3QgcGFyYW1zID0geyBsaW1pdCwgb2Zmc2V0OiAocGFnZSAtIDEpICogbGltaXQgfVxuICByZXR1cm4gcmVxdWVzdC5nZXQ8QXJ0aWNsZXNSZXNwb25zZT4oJy9hcnRpY2xlcy9mZWVkJywgeyBwYXJhbXMgfSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFydGljbGVzQnlUYWcodGFnTmFtZTogc3RyaW5nLCBwYWdlID0gMSkge1xuICBjb25zdCBwYXJhbXMgPSB7IHRhZzogdGFnTmFtZSwgbGltaXQsIG9mZnNldDogKHBhZ2UgLSAxKSAqIGxpbWl0IH1cbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PEFydGljbGVzUmVzcG9uc2U+KCcvYXJ0aWNsZXMnLCB7IHBhcmFtcyB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UHJvZmlsZUFydGljbGVzKHVzZXJuYW1lOiBzdHJpbmcsIHBhZ2UgPSAxKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHsgbGltaXQsIG9mZnNldDogKHBhZ2UgLSAxKSAqIGxpbWl0LCBhdXRob3I6IHVzZXJuYW1lIH1cbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PEFydGljbGVzUmVzcG9uc2U+KCcvYXJ0aWNsZXMnLCB7IHBhcmFtcyB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmF2b3JpdGVkQXJ0aWNsZXModXNlcm5hbWU6IHN0cmluZywgcGFnZSA9IDEpIHtcbiAgY29uc3QgcGFyYW1zID0geyBsaW1pdCwgb2Zmc2V0OiAocGFnZSAtIDEpICogbGltaXQsIGZhdm9yaXRlZDogdXNlcm5hbWUgfVxuICByZXR1cm4gcmVxdWVzdC5nZXQ8QXJ0aWNsZXNSZXNwb25zZT4oJy9hcnRpY2xlcycsIHsgcGFyYW1zIH0pXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDb21tZW50c0J5QXJ0aWNsZShzbHVnOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PENvbW1lbnRzUmVzcG9uc2U+KGAvYXJ0aWNsZXMvJHtzbHVnfS9jb21tZW50c2ApLnRoZW4ocmVzID0+IHJlcy5jb21tZW50cylcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQoc2x1Zzogc3RyaW5nLCBjb21tZW50SWQ6IG51bWJlcikge1xuICByZXR1cm4gcmVxdWVzdC5kZWxldGUoYC9hcnRpY2xlcy8ke3NsdWd9L2NvbW1lbnRzLyR7Y29tbWVudElkfWApXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwb3N0Q29tbWVudChzbHVnOiBzdHJpbmcsIGJvZHk6IHN0cmluZykge1xuICByZXR1cm4gcmVxdWVzdC5wb3N0PENvbW1lbnRSZXNwb25zZT4oYC9hcnRpY2xlcy8ke3NsdWd9L2NvbW1lbnRzYCwgeyBjb21tZW50OiB7IGJvZHkgfSB9KVxuICAgIC50aGVuKHJlcyA9PiByZXMuY29tbWVudClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBvc3RGYXZvcml0ZUFydGljbGUoc2x1Zzogc3RyaW5nKSB7XG4gIHJldHVybiByZXF1ZXN0LnBvc3Q8QXJ0aWNsZVJlc3BvbnNlPihgL2FydGljbGVzLyR7c2x1Z30vZmF2b3JpdGVgKS50aGVuKHJlcyA9PiByZXMuYXJ0aWNsZSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUZhdm9yaXRlQXJ0aWNsZShzbHVnOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlcXVlc3QuZGVsZXRlPEFydGljbGVSZXNwb25zZT4oYC9hcnRpY2xlcy8ke3NsdWd9L2Zhdm9yaXRlYCkudGhlbihyZXMgPT4gcmVzLmFydGljbGUpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9maWxlKHVzZXJuYW1lOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHJlcXVlc3QuZ2V0PFByb2ZpbGVSZXNwb25zZT4oYC9wcm9maWxlcy8ke3VzZXJuYW1lfWApLnRoZW4ocmVzID0+IHJlcy5wcm9maWxlKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHV0UHJvZmlsZShmb3JtOiBQYXJ0aWFsPFByb2ZpbGU+KSB7XG4gIHJldHVybiByZXF1ZXN0LnB1dDxQcm9maWxlUmVzcG9uc2U+KCcvdXNlcicsIGZvcm0pLnRoZW4ocmVzID0+IHJlcy5wcm9maWxlKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcG9zdEZvbGxvd1Byb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gcmVxdWVzdC5wb3N0PFByb2ZpbGVSZXNwb25zZT4oYC9wcm9maWxlcy8ke3VzZXJuYW1lfS9mb2xsb3dgKS50aGVuKHJlcyA9PiByZXMucHJvZmlsZSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUZvbGxvd1Byb2ZpbGUodXNlcm5hbWU6IHN0cmluZykge1xuICByZXR1cm4gcmVxdWVzdC5kZWxldGU8UHJvZmlsZVJlc3BvbnNlPihgL3Byb2ZpbGVzLyR7dXNlcm5hbWV9L2ZvbGxvd2ApLnRoZW4ocmVzID0+IHJlcy5wcm9maWxlKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7OztBQUNBOzs7QUFDQTtBQUZBO0FBUUE7OztBQUNBOzs7QUFDQTtBQUZBO0FBSUE7OztBQUNBOzs7QUFDQTtBQUZBO0FBV0E7OztBQUNBO0FBQ0E7OztBQUNBO0FBSEE7QUFLQTs7O0FBQ0E7OztBQUNBO0FBRkE7QUFJQTs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFIQTtBQUtBO0FBQUE7Ozs7QUFDQTtBQUNBOzs7QUFDQTtBQUhBO0FBS0E7QUFBQTs7OztBQUNBO0FBQ0E7OztBQUNBO0FBSEE7QUFLQTtBQUFBOzs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFIQTtBQUtBO0FBQUE7Ozs7QUFDQTtBQUNBOzs7QUFDQTtBQUhBO0FBS0E7QUFBQTs7OztBQUNBO0FBQ0E7OztBQUNBO0FBSEE7QUFLQTs7O0FBQ0E7OztBQUNBO0FBRkE7QUFJQTs7O0FBQ0E7OztBQUNBO0FBRkE7QUFJQTs7O0FBQ0E7QUFDQTs7O0FBQ0E7QUFIQTtBQUtBOzs7QUFDQTs7O0FBQ0E7QUFGQTtBQUlBOzs7QUFDQTs7O0FBQ0E7QUFGQTtBQUlBOzs7QUFDQTs7O0FBQ0E7QUFGQTtBQUlBOzs7QUFDQTs7O0FBQ0E7QUFGQTtBQUlBOzs7QUFDQTs7O0FBQ0E7QUFGQTtBQUlBOzs7QUFDQTs7O0FBQ0E7QUFGQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useState", function() { return m; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useReducer", function() { return p; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useEffect", function() { return y; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useLayoutEffect", function() { return l; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useRef", function() { return h; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useImperativeHandle", function() { return s; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useMemo", function() { return _; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useCallback", function() { return A; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useContext", function() { return F; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useDebugValue", function() { return T; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "useErrorBoundary", function() { return d; });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\nvar t,u,r,o=0,i=[],c=preact__WEBPACK_IMPORTED_MODULE_0__["options"].__r,f=preact__WEBPACK_IMPORTED_MODULE_0__["options"].diffed,e=preact__WEBPACK_IMPORTED_MODULE_0__["options"].__c,a=preact__WEBPACK_IMPORTED_MODULE_0__["options"].unmount;function v(t,r){preact__WEBPACK_IMPORTED_MODULE_0__["options"].__h&&preact__WEBPACK_IMPORTED_MODULE_0__["options"].__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function m(n){return o=1,p(k,n)}function p(n,r,o){var i=v(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):k(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=v(t++,3);!preact__WEBPACK_IMPORTED_MODULE_0__["options"].__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function l(r,o){var i=v(t++,4);!preact__WEBPACK_IMPORTED_MODULE_0__["options"].__s&&j(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function h(n){return o=5,_(function(){return{current:n}},[])}function s(n,t,u){o=6,l(function(){"function"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function _(n,u){var r=v(t++,7);return j(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,_(function(){return n},t)}function F(n){var r=u.context[n.__c],o=v(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){preact__WEBPACK_IMPORTED_MODULE_0__["options"].useDebugValue&&preact__WEBPACK_IMPORTED_MODULE_0__["options"].useDebugValue(u?u(t):t)}function d(n){var r=v(t++,10),o=m();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function q(){i.some(function(t){if(t.__P)try{t.__H.__h.forEach(b),t.__H.__h.forEach(g),t.__H.__h=[]}catch(u){return t.__H.__h=[],preact__WEBPACK_IMPORTED_MODULE_0__["options"].__e(u,t.__v),!0}}),i=[]}preact__WEBPACK_IMPORTED_MODULE_0__["options"].__r=function(n){c&&c(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(b),r.__h.forEach(g),r.__h=[])},preact__WEBPACK_IMPORTED_MODULE_0__["options"].diffed=function(t){f&&f(t);var u=t.__c;u&&u.__H&&u.__H.__h.length&&(1!==i.push(u)&&r===preact__WEBPACK_IMPORTED_MODULE_0__["options"].requestAnimationFrame||((r=preact__WEBPACK_IMPORTED_MODULE_0__["options"].requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),x&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);x&&(t=requestAnimationFrame(u))})(q))},preact__WEBPACK_IMPORTED_MODULE_0__["options"].__c=function(t,u){u.some(function(t){try{t.__h.forEach(b),t.__h=t.__h.filter(function(n){return!n.__||g(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],preact__WEBPACK_IMPORTED_MODULE_0__["options"].__e(r,t.__v)}}),e&&e(t,u)},preact__WEBPACK_IMPORTED_MODULE_0__["options"].unmount=function(t){a&&a(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(b)}catch(t){preact__WEBPACK_IMPORTED_MODULE_0__["options"].__e(t,u.__v)}};var x="function"==typeof requestAnimationFrame;function b(n){"function"==typeof n.u&&n.u()}function g(n){n.u=n.__()}function j(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function k(n,t){return"function"==typeof t?t(n):t}\n//# sourceMappingURL=hooks.module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3QvaG9va3MvZGlzdC9ob29rcy5tb2R1bGUuanM/MzBlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7b3B0aW9ucyBhcyBufWZyb21cInByZWFjdFwiO3ZhciB0LHUscixvPTAsaT1bXSxjPW4uX19yLGY9bi5kaWZmZWQsZT1uLl9fYyxhPW4udW5tb3VudDtmdW5jdGlvbiB2KHQscil7bi5fX2gmJm4uX19oKHUsdCxvfHxyKSxvPTA7dmFyIGk9dS5fX0h8fCh1Ll9fSD17X186W10sX19oOltdfSk7cmV0dXJuIHQ+PWkuX18ubGVuZ3RoJiZpLl9fLnB1c2goe30pLGkuX19bdF19ZnVuY3Rpb24gbShuKXtyZXR1cm4gbz0xLHAoayxuKX1mdW5jdGlvbiBwKG4scixvKXt2YXIgaT12KHQrKywyKTtyZXR1cm4gaS50PW4saS5fX2N8fChpLl9fPVtvP28ocik6ayh2b2lkIDAsciksZnVuY3Rpb24obil7dmFyIHQ9aS50KGkuX19bMF0sbik7aS5fX1swXSE9PXQmJihpLl9fPVt0LGkuX19bMV1dLGkuX19jLnNldFN0YXRlKHt9KSl9XSxpLl9fYz11KSxpLl9ffWZ1bmN0aW9uIHkocixvKXt2YXIgaT12KHQrKywzKTshbi5fX3MmJmooaS5fX0gsbykmJihpLl9fPXIsaS5fX0g9byx1Ll9fSC5fX2gucHVzaChpKSl9ZnVuY3Rpb24gbChyLG8pe3ZhciBpPXYodCsrLDQpOyFuLl9fcyYmaihpLl9fSCxvKSYmKGkuX189cixpLl9fSD1vLHUuX19oLnB1c2goaSkpfWZ1bmN0aW9uIGgobil7cmV0dXJuIG89NSxfKGZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bn19LFtdKX1mdW5jdGlvbiBzKG4sdCx1KXtvPTYsbChmdW5jdGlvbigpe1wiZnVuY3Rpb25cIj09dHlwZW9mIG4/bih0KCkpOm4mJihuLmN1cnJlbnQ9dCgpKX0sbnVsbD09dT91OnUuY29uY2F0KG4pKX1mdW5jdGlvbiBfKG4sdSl7dmFyIHI9dih0KyssNyk7cmV0dXJuIGooci5fX0gsdSkmJihyLl9fPW4oKSxyLl9fSD11LHIuX19oPW4pLHIuX199ZnVuY3Rpb24gQShuLHQpe3JldHVybiBvPTgsXyhmdW5jdGlvbigpe3JldHVybiBufSx0KX1mdW5jdGlvbiBGKG4pe3ZhciByPXUuY29udGV4dFtuLl9fY10sbz12KHQrKyw5KTtyZXR1cm4gby5fX2M9bixyPyhudWxsPT1vLl9fJiYoby5fXz0hMCxyLnN1Yih1KSksci5wcm9wcy52YWx1ZSk6bi5fX31mdW5jdGlvbiBUKHQsdSl7bi51c2VEZWJ1Z1ZhbHVlJiZuLnVzZURlYnVnVmFsdWUodT91KHQpOnQpfWZ1bmN0aW9uIGQobil7dmFyIHI9dih0KyssMTApLG89bSgpO3JldHVybiByLl9fPW4sdS5jb21wb25lbnREaWRDYXRjaHx8KHUuY29tcG9uZW50RGlkQ2F0Y2g9ZnVuY3Rpb24obil7ci5fXyYmci5fXyhuKSxvWzFdKG4pfSksW29bMF0sZnVuY3Rpb24oKXtvWzFdKHZvaWQgMCl9XX1mdW5jdGlvbiBxKCl7aS5zb21lKGZ1bmN0aW9uKHQpe2lmKHQuX19QKXRyeXt0Ll9fSC5fX2guZm9yRWFjaChiKSx0Ll9fSC5fX2guZm9yRWFjaChnKSx0Ll9fSC5fX2g9W119Y2F0Y2godSl7cmV0dXJuIHQuX19ILl9faD1bXSxuLl9fZSh1LHQuX192KSwhMH19KSxpPVtdfW4uX19yPWZ1bmN0aW9uKG4pe2MmJmMobiksdD0wO3ZhciByPSh1PW4uX19jKS5fX0g7ciYmKHIuX19oLmZvckVhY2goYiksci5fX2guZm9yRWFjaChnKSxyLl9faD1bXSl9LG4uZGlmZmVkPWZ1bmN0aW9uKHQpe2YmJmYodCk7dmFyIHU9dC5fX2M7dSYmdS5fX0gmJnUuX19ILl9faC5sZW5ndGgmJigxIT09aS5wdXNoKHUpJiZyPT09bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCgocj1uLnJlcXVlc3RBbmltYXRpb25GcmFtZSl8fGZ1bmN0aW9uKG4pe3ZhciB0LHU9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQocikseCYmY2FuY2VsQW5pbWF0aW9uRnJhbWUodCksc2V0VGltZW91dChuKX0scj1zZXRUaW1lb3V0KHUsMTAwKTt4JiYodD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodSkpfSkocSkpfSxuLl9fYz1mdW5jdGlvbih0LHUpe3Uuc29tZShmdW5jdGlvbih0KXt0cnl7dC5fX2guZm9yRWFjaChiKSx0Ll9faD10Ll9faC5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIW4uX198fGcobil9KX1jYXRjaChyKXt1LnNvbWUoZnVuY3Rpb24obil7bi5fX2gmJihuLl9faD1bXSl9KSx1PVtdLG4uX19lKHIsdC5fX3YpfX0pLGUmJmUodCx1KX0sbi51bm1vdW50PWZ1bmN0aW9uKHQpe2EmJmEodCk7dmFyIHU9dC5fX2M7aWYodSYmdS5fX0gpdHJ5e3UuX19ILl9fLmZvckVhY2goYil9Y2F0Y2godCl7bi5fX2UodCx1Ll9fdil9fTt2YXIgeD1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ZnVuY3Rpb24gYihuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnUmJm4udSgpfWZ1bmN0aW9uIGcobil7bi51PW4uX18oKX1mdW5jdGlvbiBqKG4sdCl7cmV0dXJuIW58fG4ubGVuZ3RoIT09dC5sZW5ndGh8fHQuc29tZShmdW5jdGlvbih0LHUpe3JldHVybiB0IT09blt1XX0pfWZ1bmN0aW9uIGsobix0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Qobik6dH1leHBvcnR7bSBhcyB1c2VTdGF0ZSxwIGFzIHVzZVJlZHVjZXIseSBhcyB1c2VFZmZlY3QsbCBhcyB1c2VMYXlvdXRFZmZlY3QsaCBhcyB1c2VSZWYscyBhcyB1c2VJbXBlcmF0aXZlSGFuZGxlLF8gYXMgdXNlTWVtbyxBIGFzIHVzZUNhbGxiYWNrLEYgYXMgdXNlQ29udGV4dCxUIGFzIHVzZURlYnVnVmFsdWUsZCBhcyB1c2VFcnJvckJvdW5kYXJ5fTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvb2tzLm1vZHVsZS5qcy5tYXBcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useRootState = exports.RootProvider = exports.RootContext = void 0;\nvar preact_1 = __webpack_require__(0);\nvar parse_storage_get_1 = __importDefault(__webpack_require__(6));\nvar hooks_1 = __webpack_require__(2);\nvar reducer_1 = __importDefault(__webpack_require__(13));\nvar constants_1 = __webpack_require__(4);\nvar services_1 = __webpack_require__(1);\nvar preact_router_1 = __webpack_require__(5);\nvar initialRootState = {\n    user: parse_storage_get_1.default('user') || null,\n    errors: {},\n};\nexports.RootContext = preact_1.createContext({});\nexports.RootProvider = function (props) {\n    var _a = hooks_1.useReducer(reducer_1.default, initialRootState), state = _a[0], dispatch = _a[1];\n    services_1.request.options.responseInterceptor = function (response) {\n        if (response.status === 401) {\n            dispatch({ type: constants_1.UPDATE_USER });\n            preact_router_1.route('/login');\n        }\n    };\n    hooks_1.useEffect(function () {\n        dispatch({ type: constants_1.UPDATE_USER, user: state.user });\n    }, []);\n    return (preact_1.h(exports.RootContext.Provider, { value: [state, dispatch] }, props.children));\n};\nexports.useRootState = function () { return hooks_1.useContext(exports.RootContext); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdG9yZS9pbmRleC50c3g/ZjIwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBoLCBWTm9kZSB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCBwYXJzZVN0b3JhZ2VHZXQgZnJvbSAnLi4vdXRpbHMvcGFyc2Utc3RvcmFnZS1nZXQnXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVJlZHVjZXIgfSBmcm9tICdwcmVhY3QvaG9va3MnXG5pbXBvcnQgcmVkdWNlciBmcm9tICcuL3JlZHVjZXInXG5pbXBvcnQgeyBVUERBVEVfVVNFUiB9IGZyb20gJy4vY29uc3RhbnRzJ1xuaW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgcm91dGUgfSBmcm9tICdwcmVhY3Qtcm91dGVyJ1xuXG5jb25zdCBpbml0aWFsUm9vdFN0YXRlOiBSb290U3RhdGUgPSB7XG4gIHVzZXI6IHBhcnNlU3RvcmFnZUdldCgndXNlcicpIHx8IG51bGwsXG4gIGVycm9yczoge30sXG59XG5cbnR5cGUgUm9vdENvbnRleHRQcm9wcyA9IFtcbiAgUm9vdFN0YXRlLFxuICAoYWN0aW9uOiBBY3Rpb24pID0+IHZvaWRcbl1cblxuZXhwb3J0IGNvbnN0IFJvb3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxSb290Q29udGV4dFByb3BzPih7fSBhcyBSb290Q29udGV4dFByb3BzKVxuXG5leHBvcnQgY29uc3QgUm9vdFByb3ZpZGVyID0gKHByb3BzOiB7IGNoaWxkcmVuOiBWTm9kZSB8IFZOb2RlW10gfSkgPT4ge1xuICBjb25zdCBbIHN0YXRlLCBkaXNwYXRjaCBdID0gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsUm9vdFN0YXRlKVxuXG4gIHJlcXVlc3Qub3B0aW9ucy5yZXNwb25zZUludGVyY2VwdG9yID0gKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XG4gICAgICBkaXNwYXRjaCh7IHR5cGU6IFVQREFURV9VU0VSIH0pXG4gICAgICByb3V0ZSgnL2xvZ2luJylcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogVVBEQVRFX1VTRVIsIHVzZXI6IHN0YXRlLnVzZXIgfSlcbiAgfSwgW10pXG5cbiAgcmV0dXJuIChcbiAgICA8Um9vdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e1sgc3RhdGUsIGRpc3BhdGNoIF19PlxuICAgICAge3Byb3BzLmNoaWxkcmVufVxuICAgIDwvUm9vdENvbnRleHQuUHJvdmlkZXI+XG4gIClcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVJvb3RTdGF0ZSA9ICgpID0+IHVzZUNvbnRleHQoUm9vdENvbnRleHQpXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_AVATAR = exports.CLEAN_ERRORS = exports.SET_ERRORS = exports.UPDATE_USER = void 0;\nexports.UPDATE_USER = 'UPDATE_USER';\nexports.SET_ERRORS = 'SET_ERRORS';\nexports.CLEAN_ERRORS = 'CLEAN_ERRORS';\nexports.DEFAULT_AVATAR = 'https://static.productionready.io/images/smiley-cyrus.jpg';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdG9yZS9jb25zdGFudHMudHM/ZGFkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgVVBEQVRFX1VTRVIgPSAnVVBEQVRFX1VTRVInXG5leHBvcnQgY29uc3QgU0VUX0VSUk9SUyA9ICdTRVRfRVJST1JTJ1xuZXhwb3J0IGNvbnN0IENMRUFOX0VSUk9SUyA9ICdDTEVBTl9FUlJPUlMnXG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0FWQVRBUiA9ICdodHRwczovL3N0YXRpYy5wcm9kdWN0aW9ucmVhZHkuaW8vaW1hZ2VzL3NtaWxleS1jeXJ1cy5qcGcnXG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"subscribers\", function() { return subscribers; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCurrentUrl\", function() { return getCurrentUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"route\", function() { return route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Router\", function() { return Router; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Route\", function() { return Route; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Link\", function() { return Link; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"exec\", function() { return exec; });\n/* harmony import */ var preact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n\n\nvar EMPTY$1 = {};\n\nfunction assign(obj, props) {\n\t// eslint-disable-next-line guard-for-in\n\tfor (var i in props) {\n\t\tobj[i] = props[i];\n\t}\n\treturn obj;\n}\n\nfunction exec(url, route, opts) {\n\tvar reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches = {},\n\t\tret;\n\tif (c && c[1]) {\n\t\tvar p = c[1].split('&');\n\t\tfor (var i=0; i<p.length; i++) {\n\t\t\tvar r = p[i].split('=');\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(r.slice(1).join('='));\n\t\t}\n\t}\n\turl = segmentize(url.replace(reg, ''));\n\troute = segmentize(route || '');\n\tvar max = Math.max(url.length, route.length);\n\tfor (var i$1=0; i$1<max; i$1++) {\n\t\tif (route[i$1] && route[i$1].charAt(0)===':') {\n\t\t\tvar param = route[i$1].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags = (route[i$1].match(/[+*?]+$/) || EMPTY$1)[0] || '',\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = url[i$1] || '';\n\t\t\tif (!val && !star && (flags.indexOf('?')<0 || plus)) {\n\t\t\t\tret = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val);\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = url.slice(i$1).map(decodeURIComponent).join('/');\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (route[i$1]!==url[i$1]) {\n\t\t\tret = false;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (opts.default!==true && ret===false) { return false; }\n\treturn matches;\n}\n\nfunction pathRankSort(a, b) {\n\treturn (\n\t\t(a.rank < b.rank) ? 1 :\n\t\t\t(a.rank > b.rank) ? -1 :\n\t\t\t\t(a.index - b.index)\n\t);\n}\n\n// filter out VNodes without attributes (which are unrankeable), and add `index`/`rank` properties to be used in sorting.\nfunction prepareVNodeForRanking(vnode, index) {\n\tvnode.index = index;\n\tvnode.rank = rankChild(vnode);\n\treturn vnode.props;\n}\n\nfunction segmentize(url) {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/');\n}\n\nfunction rankSegment(segment) {\n\treturn segment.charAt(0)==':' ? (1 + '*+?'.indexOf(segment.charAt(segment.length-1))) || 4 : 5;\n}\n\nfunction rank(path) {\n\treturn segmentize(path).map(rankSegment).join('');\n}\n\nfunction rankChild(vnode) {\n\treturn vnode.props.default ? 0 : rank(vnode.props.path);\n}\n\nvar customHistory = null;\n\nvar ROUTERS = [];\n\nvar subscribers = [];\n\nvar EMPTY = {};\n\nfunction setUrl(url, type) {\n\tif ( type === void 0 ) type='push';\n\n\tif (customHistory && customHistory[type]) {\n\t\tcustomHistory[type](url);\n\t}\n\telse if (typeof history!=='undefined' && history[type+'State']) {\n\t\thistory[type+'State'](null, null, url);\n\t}\n}\n\n\nfunction getCurrentUrl() {\n\tvar url;\n\tif (customHistory && customHistory.location) {\n\t\turl = customHistory.location;\n\t}\n\telse if (customHistory && customHistory.getCurrentLocation) {\n\t\turl = customHistory.getCurrentLocation();\n\t}\n\telse {\n\t\turl = typeof location!=='undefined' ? location : EMPTY;\n\t}\n\treturn (\"\" + (url.pathname || '') + (url.search || ''));\n}\n\n\n\nfunction route(url, replace) {\n\tif ( replace === void 0 ) replace=false;\n\n\tif (typeof url!=='string' && url.url) {\n\t\treplace = url.replace;\n\t\turl = url.url;\n\t}\n\n\t// only push URL into history if we can handle it\n\tif (canRoute(url)) {\n\t\tsetUrl(url, replace ? 'replace' : 'push');\n\t}\n\n\treturn routeTo(url);\n}\n\n\n/** Check if the given URL can be handled by any router instances. */\nfunction canRoute(url) {\n\tfor (var i=ROUTERS.length; i--; ) {\n\t\tif (ROUTERS[i].canRoute(url)) { return true; }\n\t}\n\treturn false;\n}\n\n\n/** Tell all router instances to handle the given URL.  */\nfunction routeTo(url) {\n\tvar didRoute = false;\n\tfor (var i=0; i<ROUTERS.length; i++) {\n\t\tif (ROUTERS[i].routeTo(url)===true) {\n\t\t\tdidRoute = true;\n\t\t}\n\t}\n\tfor (var i$1=subscribers.length; i$1--; ) {\n\t\tsubscribers[i$1](url);\n\t}\n\treturn didRoute;\n}\n\n\nfunction routeFromLink(node) {\n\t// only valid elements\n\tif (!node || !node.getAttribute) { return; }\n\n\tvar href = node.getAttribute('href'),\n\t\ttarget = node.getAttribute('target');\n\n\t// ignore links with targets and non-path URLs\n\tif (!href || !href.match(/^\\//g) || (target && !target.match(/^_?self$/i))) { return; }\n\n\t// attempt to route, if no match simply cede control to browser\n\treturn route(href);\n}\n\n\nfunction handleLinkClick(e) {\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\trouteFromLink(e.currentTarget || e.target || this);\n\treturn prevent(e);\n}\n\n\nfunction prevent(e) {\n\tif (e) {\n\t\tif (e.stopImmediatePropagation) { e.stopImmediatePropagation(); }\n\t\tif (e.stopPropagation) { e.stopPropagation(); }\n\t\te.preventDefault();\n\t}\n\treturn false;\n}\n\n\nfunction delegateLinkHandler(e) {\n\t// ignore events the browser takes care of already:\n\tif (e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.button!==0) { return; }\n\n\tvar t = e.target;\n\tdo {\n\t\tif (String(t.nodeName).toUpperCase()==='A' && t.getAttribute('href')) {\n\t\t\tif (t.hasAttribute('native')) { return; }\n\t\t\t// if link is handled by the router, prevent browser defaults\n\t\t\tif (routeFromLink(t)) {\n\t\t\t\treturn prevent(e);\n\t\t\t}\n\t\t}\n\t} while ((t=t.parentNode));\n}\n\n\nvar eventListenersInitialized = false;\n\nfunction initEventListeners() {\n\tif (eventListenersInitialized) { return; }\n\n\tif (typeof addEventListener==='function') {\n\t\tif (!customHistory) {\n\t\t\taddEventListener('popstate', function () {\n\t\t\t\trouteTo(getCurrentUrl());\n\t\t\t});\n\t\t}\n\t\taddEventListener('click', delegateLinkHandler);\n\t}\n\teventListenersInitialized = true;\n}\n\n\nvar Router = (function (Component$$1) {\n\tfunction Router(props) {\n\t\tComponent$$1.call(this, props);\n\t\tif (props.history) {\n\t\t\tcustomHistory = props.history;\n\t\t}\n\n\t\tthis.state = {\n\t\t\turl: props.url || getCurrentUrl()\n\t\t};\n\n\t\tinitEventListeners();\n\t}\n\n\tif ( Component$$1 ) Router.__proto__ = Component$$1;\n\tRouter.prototype = Object.create( Component$$1 && Component$$1.prototype );\n\tRouter.prototype.constructor = Router;\n\n\tRouter.prototype.shouldComponentUpdate = function shouldComponentUpdate (props) {\n\t\tif (props.static!==true) { return true; }\n\t\treturn props.url!==this.props.url || props.onChange!==this.props.onChange;\n\t};\n\n\t/** Check if the given URL can be matched against any children */\n\tRouter.prototype.canRoute = function canRoute (url) {\n\t\tvar children = Object(preact__WEBPACK_IMPORTED_MODULE_0__[\"toChildArray\"])(this.props.children);\n\t\treturn this.getMatchingChildren(children, url, false).length > 0;\n\t};\n\n\t/** Re-render children with a new URL to match against. */\n\tRouter.prototype.routeTo = function routeTo (url) {\n\t\tthis.setState({ url: url });\n\n\t\tvar didRoute = this.canRoute(url);\n\n\t\t// trigger a manual re-route if we're not in the middle of an update:\n\t\tif (!this.updating) { this.forceUpdate(); }\n\n\t\treturn didRoute;\n\t};\n\n\tRouter.prototype.componentWillMount = function componentWillMount () {\n\t\tROUTERS.push(this);\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidMount = function componentDidMount () {\n\t\tvar this$1 = this;\n\n\t\tif (customHistory) {\n\t\t\tthis.unlisten = customHistory.listen(function (location) {\n\t\t\t\tthis$1.routeTo((\"\" + (location.pathname || '') + (location.search || '')));\n\t\t\t});\n\t\t}\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.componentWillUnmount = function componentWillUnmount () {\n\t\tif (typeof this.unlisten==='function') { this.unlisten(); }\n\t\tROUTERS.splice(ROUTERS.indexOf(this), 1);\n\t};\n\n\tRouter.prototype.componentWillUpdate = function componentWillUpdate () {\n\t\tthis.updating = true;\n\t};\n\n\tRouter.prototype.componentDidUpdate = function componentDidUpdate () {\n\t\tthis.updating = false;\n\t};\n\n\tRouter.prototype.getMatchingChildren = function getMatchingChildren (children, url, invoke) {\n\t\treturn children\n\t\t\t.filter(prepareVNodeForRanking)\n\t\t\t.sort(pathRankSort)\n\t\t\t.map( function (vnode) {\n\t\t\t\tvar matches = exec(url, vnode.props.path, vnode.props);\n\t\t\t\tif (matches) {\n\t\t\t\t\tif (invoke !== false) {\n\t\t\t\t\t\tvar newProps = { url: url, matches: matches };\n\t\t\t\t\t\tassign(newProps, matches);\n\t\t\t\t\t\tdelete newProps.ref;\n\t\t\t\t\t\tdelete newProps.key;\n\t\t\t\t\t\treturn Object(preact__WEBPACK_IMPORTED_MODULE_0__[\"cloneElement\"])(vnode, newProps);\n\t\t\t\t\t}\n\t\t\t\t\treturn vnode;\n\t\t\t\t}\n\t\t\t}).filter(Boolean);\n\t};\n\n\tRouter.prototype.render = function render (ref, ref$1) {\n\t\tvar children = ref.children;\n\t\tvar onChange = ref.onChange;\n\t\tvar url = ref$1.url;\n\n\t\tvar active = this.getMatchingChildren(Object(preact__WEBPACK_IMPORTED_MODULE_0__[\"toChildArray\"])(children), url, true);\n\n\t\tvar current = active[0] || null;\n\n\t\tvar previous = this.previousUrl;\n\t\tif (url!==previous) {\n\t\t\tthis.previousUrl = url;\n\t\t\tif (typeof onChange==='function') {\n\t\t\t\tonChange({\n\t\t\t\t\trouter: this,\n\t\t\t\t\turl: url,\n\t\t\t\t\tprevious: previous,\n\t\t\t\t\tactive: active,\n\t\t\t\t\tcurrent: current\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\treturn current;\n\t};\n\n\treturn Router;\n}(preact__WEBPACK_IMPORTED_MODULE_0__[\"Component\"]));\n\nvar Link = function (props) { return (\n\tObject(preact__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])('a', assign({ onClick: handleLinkClick }, props))\n); };\n\nvar Route = function (props) { return Object(preact__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])(props.component, props); };\n\nRouter.subscribers = subscribers;\nRouter.getCurrentUrl = getCurrentUrl;\nRouter.route = route;\nRouter.Router = Router;\nRouter.Route = Route;\nRouter.Link = Link;\nRouter.exec = exec;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Router);\n//# sourceMappingURL=preact-router.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcmVhY3Qtcm91dGVyL2Rpc3QvcHJlYWN0LXJvdXRlci5lcy5qcz83MmU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgY2xvbmVFbGVtZW50LCBjcmVhdGVFbGVtZW50LCB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuXG52YXIgRU1QVFkkMSA9IHt9O1xuXG5mdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ3VhcmQtZm9yLWluXG5cdGZvciAodmFyIGkgaW4gcHJvcHMpIHtcblx0XHRvYmpbaV0gPSBwcm9wc1tpXTtcblx0fVxuXHRyZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBleGVjKHVybCwgcm91dGUsIG9wdHMpIHtcblx0dmFyIHJlZyA9IC8oPzpcXD8oW14jXSopKT8oIy4qKT8kLyxcblx0XHRjID0gdXJsLm1hdGNoKHJlZyksXG5cdFx0bWF0Y2hlcyA9IHt9LFxuXHRcdHJldDtcblx0aWYgKGMgJiYgY1sxXSkge1xuXHRcdHZhciBwID0gY1sxXS5zcGxpdCgnJicpO1xuXHRcdGZvciAodmFyIGk9MDsgaTxwLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgciA9IHBbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG1hdGNoZXNbZGVjb2RlVVJJQ29tcG9uZW50KHJbMF0pXSA9IGRlY29kZVVSSUNvbXBvbmVudChyLnNsaWNlKDEpLmpvaW4oJz0nKSk7XG5cdFx0fVxuXHR9XG5cdHVybCA9IHNlZ21lbnRpemUodXJsLnJlcGxhY2UocmVnLCAnJykpO1xuXHRyb3V0ZSA9IHNlZ21lbnRpemUocm91dGUgfHwgJycpO1xuXHR2YXIgbWF4ID0gTWF0aC5tYXgodXJsLmxlbmd0aCwgcm91dGUubGVuZ3RoKTtcblx0Zm9yICh2YXIgaSQxPTA7IGkkMTxtYXg7IGkkMSsrKSB7XG5cdFx0aWYgKHJvdXRlW2kkMV0gJiYgcm91dGVbaSQxXS5jaGFyQXQoMCk9PT0nOicpIHtcblx0XHRcdHZhciBwYXJhbSA9IHJvdXRlW2kkMV0ucmVwbGFjZSgvKF46fFsrKj9dKyQpL2csICcnKSxcblx0XHRcdFx0ZmxhZ3MgPSAocm91dGVbaSQxXS5tYXRjaCgvWysqP10rJC8pIHx8IEVNUFRZJDEpWzBdIHx8ICcnLFxuXHRcdFx0XHRwbHVzID0gfmZsYWdzLmluZGV4T2YoJysnKSxcblx0XHRcdFx0c3RhciA9IH5mbGFncy5pbmRleE9mKCcqJyksXG5cdFx0XHRcdHZhbCA9IHVybFtpJDFdIHx8ICcnO1xuXHRcdFx0aWYgKCF2YWwgJiYgIXN0YXIgJiYgKGZsYWdzLmluZGV4T2YoJz8nKTwwIHx8IHBsdXMpKSB7XG5cdFx0XHRcdHJldCA9IGZhbHNlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdG1hdGNoZXNbcGFyYW1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbCk7XG5cdFx0XHRpZiAocGx1cyB8fCBzdGFyKSB7XG5cdFx0XHRcdG1hdGNoZXNbcGFyYW1dID0gdXJsLnNsaWNlKGkkMSkubWFwKGRlY29kZVVSSUNvbXBvbmVudCkuam9pbignLycpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdFx0ZWxzZSBpZiAocm91dGVbaSQxXSE9PXVybFtpJDFdKSB7XG5cdFx0XHRyZXQgPSBmYWxzZTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXHRpZiAob3B0cy5kZWZhdWx0IT09dHJ1ZSAmJiByZXQ9PT1mYWxzZSkgeyByZXR1cm4gZmFsc2U7IH1cblx0cmV0dXJuIG1hdGNoZXM7XG59XG5cbmZ1bmN0aW9uIHBhdGhSYW5rU29ydChhLCBiKSB7XG5cdHJldHVybiAoXG5cdFx0KGEucmFuayA8IGIucmFuaykgPyAxIDpcblx0XHRcdChhLnJhbmsgPiBiLnJhbmspID8gLTEgOlxuXHRcdFx0XHQoYS5pbmRleCAtIGIuaW5kZXgpXG5cdCk7XG59XG5cbi8vIGZpbHRlciBvdXQgVk5vZGVzIHdpdGhvdXQgYXR0cmlidXRlcyAod2hpY2ggYXJlIHVucmFua2VhYmxlKSwgYW5kIGFkZCBgaW5kZXhgL2ByYW5rYCBwcm9wZXJ0aWVzIHRvIGJlIHVzZWQgaW4gc29ydGluZy5cbmZ1bmN0aW9uIHByZXBhcmVWTm9kZUZvclJhbmtpbmcodm5vZGUsIGluZGV4KSB7XG5cdHZub2RlLmluZGV4ID0gaW5kZXg7XG5cdHZub2RlLnJhbmsgPSByYW5rQ2hpbGQodm5vZGUpO1xuXHRyZXR1cm4gdm5vZGUucHJvcHM7XG59XG5cbmZ1bmN0aW9uIHNlZ21lbnRpemUodXJsKSB7XG5cdHJldHVybiB1cmwucmVwbGFjZSgvKF5cXC8rfFxcLyskKS9nLCAnJykuc3BsaXQoJy8nKTtcbn1cblxuZnVuY3Rpb24gcmFua1NlZ21lbnQoc2VnbWVudCkge1xuXHRyZXR1cm4gc2VnbWVudC5jaGFyQXQoMCk9PSc6JyA/ICgxICsgJyorPycuaW5kZXhPZihzZWdtZW50LmNoYXJBdChzZWdtZW50Lmxlbmd0aC0xKSkpIHx8IDQgOiA1O1xufVxuXG5mdW5jdGlvbiByYW5rKHBhdGgpIHtcblx0cmV0dXJuIHNlZ21lbnRpemUocGF0aCkubWFwKHJhbmtTZWdtZW50KS5qb2luKCcnKTtcbn1cblxuZnVuY3Rpb24gcmFua0NoaWxkKHZub2RlKSB7XG5cdHJldHVybiB2bm9kZS5wcm9wcy5kZWZhdWx0ID8gMCA6IHJhbmsodm5vZGUucHJvcHMucGF0aCk7XG59XG5cbnZhciBjdXN0b21IaXN0b3J5ID0gbnVsbDtcblxudmFyIFJPVVRFUlMgPSBbXTtcblxudmFyIHN1YnNjcmliZXJzID0gW107XG5cbnZhciBFTVBUWSA9IHt9O1xuXG5mdW5jdGlvbiBzZXRVcmwodXJsLCB0eXBlKSB7XG5cdGlmICggdHlwZSA9PT0gdm9pZCAwICkgdHlwZT0ncHVzaCc7XG5cblx0aWYgKGN1c3RvbUhpc3RvcnkgJiYgY3VzdG9tSGlzdG9yeVt0eXBlXSkge1xuXHRcdGN1c3RvbUhpc3RvcnlbdHlwZV0odXJsKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgaGlzdG9yeSE9PSd1bmRlZmluZWQnICYmIGhpc3RvcnlbdHlwZSsnU3RhdGUnXSkge1xuXHRcdGhpc3RvcnlbdHlwZSsnU3RhdGUnXShudWxsLCBudWxsLCB1cmwpO1xuXHR9XG59XG5cblxuZnVuY3Rpb24gZ2V0Q3VycmVudFVybCgpIHtcblx0dmFyIHVybDtcblx0aWYgKGN1c3RvbUhpc3RvcnkgJiYgY3VzdG9tSGlzdG9yeS5sb2NhdGlvbikge1xuXHRcdHVybCA9IGN1c3RvbUhpc3RvcnkubG9jYXRpb247XG5cdH1cblx0ZWxzZSBpZiAoY3VzdG9tSGlzdG9yeSAmJiBjdXN0b21IaXN0b3J5LmdldEN1cnJlbnRMb2NhdGlvbikge1xuXHRcdHVybCA9IGN1c3RvbUhpc3RvcnkuZ2V0Q3VycmVudExvY2F0aW9uKCk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0dXJsID0gdHlwZW9mIGxvY2F0aW9uIT09J3VuZGVmaW5lZCcgPyBsb2NhdGlvbiA6IEVNUFRZO1xuXHR9XG5cdHJldHVybiAoXCJcIiArICh1cmwucGF0aG5hbWUgfHwgJycpICsgKHVybC5zZWFyY2ggfHwgJycpKTtcbn1cblxuXG5cbmZ1bmN0aW9uIHJvdXRlKHVybCwgcmVwbGFjZSkge1xuXHRpZiAoIHJlcGxhY2UgPT09IHZvaWQgMCApIHJlcGxhY2U9ZmFsc2U7XG5cblx0aWYgKHR5cGVvZiB1cmwhPT0nc3RyaW5nJyAmJiB1cmwudXJsKSB7XG5cdFx0cmVwbGFjZSA9IHVybC5yZXBsYWNlO1xuXHRcdHVybCA9IHVybC51cmw7XG5cdH1cblxuXHQvLyBvbmx5IHB1c2ggVVJMIGludG8gaGlzdG9yeSBpZiB3ZSBjYW4gaGFuZGxlIGl0XG5cdGlmIChjYW5Sb3V0ZSh1cmwpKSB7XG5cdFx0c2V0VXJsKHVybCwgcmVwbGFjZSA/ICdyZXBsYWNlJyA6ICdwdXNoJyk7XG5cdH1cblxuXHRyZXR1cm4gcm91dGVUbyh1cmwpO1xufVxuXG5cbi8qKiBDaGVjayBpZiB0aGUgZ2l2ZW4gVVJMIGNhbiBiZSBoYW5kbGVkIGJ5IGFueSByb3V0ZXIgaW5zdGFuY2VzLiAqL1xuZnVuY3Rpb24gY2FuUm91dGUodXJsKSB7XG5cdGZvciAodmFyIGk9Uk9VVEVSUy5sZW5ndGg7IGktLTsgKSB7XG5cdFx0aWYgKFJPVVRFUlNbaV0uY2FuUm91dGUodXJsKSkgeyByZXR1cm4gdHJ1ZTsgfVxuXHR9XG5cdHJldHVybiBmYWxzZTtcbn1cblxuXG4vKiogVGVsbCBhbGwgcm91dGVyIGluc3RhbmNlcyB0byBoYW5kbGUgdGhlIGdpdmVuIFVSTC4gICovXG5mdW5jdGlvbiByb3V0ZVRvKHVybCkge1xuXHR2YXIgZGlkUm91dGUgPSBmYWxzZTtcblx0Zm9yICh2YXIgaT0wOyBpPFJPVVRFUlMubGVuZ3RoOyBpKyspIHtcblx0XHRpZiAoUk9VVEVSU1tpXS5yb3V0ZVRvKHVybCk9PT10cnVlKSB7XG5cdFx0XHRkaWRSb3V0ZSA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdGZvciAodmFyIGkkMT1zdWJzY3JpYmVycy5sZW5ndGg7IGkkMS0tOyApIHtcblx0XHRzdWJzY3JpYmVyc1tpJDFdKHVybCk7XG5cdH1cblx0cmV0dXJuIGRpZFJvdXRlO1xufVxuXG5cbmZ1bmN0aW9uIHJvdXRlRnJvbUxpbmsobm9kZSkge1xuXHQvLyBvbmx5IHZhbGlkIGVsZW1lbnRzXG5cdGlmICghbm9kZSB8fCAhbm9kZS5nZXRBdHRyaWJ1dGUpIHsgcmV0dXJuOyB9XG5cblx0dmFyIGhyZWYgPSBub2RlLmdldEF0dHJpYnV0ZSgnaHJlZicpLFxuXHRcdHRhcmdldCA9IG5vZGUuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcblxuXHQvLyBpZ25vcmUgbGlua3Mgd2l0aCB0YXJnZXRzIGFuZCBub24tcGF0aCBVUkxzXG5cdGlmICghaHJlZiB8fCAhaHJlZi5tYXRjaCgvXlxcLy9nKSB8fCAodGFyZ2V0ICYmICF0YXJnZXQubWF0Y2goL15fP3NlbGYkL2kpKSkgeyByZXR1cm47IH1cblxuXHQvLyBhdHRlbXB0IHRvIHJvdXRlLCBpZiBubyBtYXRjaCBzaW1wbHkgY2VkZSBjb250cm9sIHRvIGJyb3dzZXJcblx0cmV0dXJuIHJvdXRlKGhyZWYpO1xufVxuXG5cbmZ1bmN0aW9uIGhhbmRsZUxpbmtDbGljayhlKSB7XG5cdGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuc2hpZnRLZXkgfHwgZS5idXR0b24hPT0wKSB7IHJldHVybjsgfVxuXHRyb3V0ZUZyb21MaW5rKGUuY3VycmVudFRhcmdldCB8fCBlLnRhcmdldCB8fCB0aGlzKTtcblx0cmV0dXJuIHByZXZlbnQoZSk7XG59XG5cblxuZnVuY3Rpb24gcHJldmVudChlKSB7XG5cdGlmIChlKSB7XG5cdFx0aWYgKGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IH1cblx0XHRpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfVxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59XG5cblxuZnVuY3Rpb24gZGVsZWdhdGVMaW5rSGFuZGxlcihlKSB7XG5cdC8vIGlnbm9yZSBldmVudHMgdGhlIGJyb3dzZXIgdGFrZXMgY2FyZSBvZiBhbHJlYWR5OlxuXHRpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLnNoaWZ0S2V5IHx8IGUuYnV0dG9uIT09MCkgeyByZXR1cm47IH1cblxuXHR2YXIgdCA9IGUudGFyZ2V0O1xuXHRkbyB7XG5cdFx0aWYgKFN0cmluZyh0Lm5vZGVOYW1lKS50b1VwcGVyQ2FzZSgpPT09J0EnICYmIHQuZ2V0QXR0cmlidXRlKCdocmVmJykpIHtcblx0XHRcdGlmICh0Lmhhc0F0dHJpYnV0ZSgnbmF0aXZlJykpIHsgcmV0dXJuOyB9XG5cdFx0XHQvLyBpZiBsaW5rIGlzIGhhbmRsZWQgYnkgdGhlIHJvdXRlciwgcHJldmVudCBicm93c2VyIGRlZmF1bHRzXG5cdFx0XHRpZiAocm91dGVGcm9tTGluayh0KSkge1xuXHRcdFx0XHRyZXR1cm4gcHJldmVudChlKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gd2hpbGUgKCh0PXQucGFyZW50Tm9kZSkpO1xufVxuXG5cbnZhciBldmVudExpc3RlbmVyc0luaXRpYWxpemVkID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGluaXRFdmVudExpc3RlbmVycygpIHtcblx0aWYgKGV2ZW50TGlzdGVuZXJzSW5pdGlhbGl6ZWQpIHsgcmV0dXJuOyB9XG5cblx0aWYgKHR5cGVvZiBhZGRFdmVudExpc3RlbmVyPT09J2Z1bmN0aW9uJykge1xuXHRcdGlmICghY3VzdG9tSGlzdG9yeSkge1xuXHRcdFx0YWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdHJvdXRlVG8oZ2V0Q3VycmVudFVybCgpKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRhZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRlbGVnYXRlTGlua0hhbmRsZXIpO1xuXHR9XG5cdGV2ZW50TGlzdGVuZXJzSW5pdGlhbGl6ZWQgPSB0cnVlO1xufVxuXG5cbnZhciBSb3V0ZXIgPSAoZnVuY3Rpb24gKENvbXBvbmVudCQkMSkge1xuXHRmdW5jdGlvbiBSb3V0ZXIocHJvcHMpIHtcblx0XHRDb21wb25lbnQkJDEuY2FsbCh0aGlzLCBwcm9wcyk7XG5cdFx0aWYgKHByb3BzLmhpc3RvcnkpIHtcblx0XHRcdGN1c3RvbUhpc3RvcnkgPSBwcm9wcy5oaXN0b3J5O1xuXHRcdH1cblxuXHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHR1cmw6IHByb3BzLnVybCB8fCBnZXRDdXJyZW50VXJsKClcblx0XHR9O1xuXG5cdFx0aW5pdEV2ZW50TGlzdGVuZXJzKCk7XG5cdH1cblxuXHRpZiAoIENvbXBvbmVudCQkMSApIFJvdXRlci5fX3Byb3RvX18gPSBDb21wb25lbnQkJDE7XG5cdFJvdXRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb21wb25lbnQkJDEgJiYgQ29tcG9uZW50JCQxLnByb3RvdHlwZSApO1xuXHRSb3V0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUm91dGVyO1xuXG5cdFJvdXRlci5wcm90b3R5cGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlIChwcm9wcykge1xuXHRcdGlmIChwcm9wcy5zdGF0aWMhPT10cnVlKSB7IHJldHVybiB0cnVlOyB9XG5cdFx0cmV0dXJuIHByb3BzLnVybCE9PXRoaXMucHJvcHMudXJsIHx8IHByb3BzLm9uQ2hhbmdlIT09dGhpcy5wcm9wcy5vbkNoYW5nZTtcblx0fTtcblxuXHQvKiogQ2hlY2sgaWYgdGhlIGdpdmVuIFVSTCBjYW4gYmUgbWF0Y2hlZCBhZ2FpbnN0IGFueSBjaGlsZHJlbiAqL1xuXHRSb3V0ZXIucHJvdG90eXBlLmNhblJvdXRlID0gZnVuY3Rpb24gY2FuUm91dGUgKHVybCkge1xuXHRcdHZhciBjaGlsZHJlbiA9IHRvQ2hpbGRBcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcblx0XHRyZXR1cm4gdGhpcy5nZXRNYXRjaGluZ0NoaWxkcmVuKGNoaWxkcmVuLCB1cmwsIGZhbHNlKS5sZW5ndGggPiAwO1xuXHR9O1xuXG5cdC8qKiBSZS1yZW5kZXIgY2hpbGRyZW4gd2l0aCBhIG5ldyBVUkwgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cblx0Um91dGVyLnByb3RvdHlwZS5yb3V0ZVRvID0gZnVuY3Rpb24gcm91dGVUbyAodXJsKSB7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7IHVybDogdXJsIH0pO1xuXG5cdFx0dmFyIGRpZFJvdXRlID0gdGhpcy5jYW5Sb3V0ZSh1cmwpO1xuXG5cdFx0Ly8gdHJpZ2dlciBhIG1hbnVhbCByZS1yb3V0ZSBpZiB3ZSdyZSBub3QgaW4gdGhlIG1pZGRsZSBvZiBhbiB1cGRhdGU6XG5cdFx0aWYgKCF0aGlzLnVwZGF0aW5nKSB7IHRoaXMuZm9yY2VVcGRhdGUoKTsgfVxuXG5cdFx0cmV0dXJuIGRpZFJvdXRlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50ICgpIHtcblx0XHRST1VURVJTLnB1c2godGhpcyk7XG5cdFx0dGhpcy51cGRhdGluZyA9IHRydWU7XG5cdH07XG5cblx0Um91dGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50ICgpIHtcblx0XHR2YXIgdGhpcyQxID0gdGhpcztcblxuXHRcdGlmIChjdXN0b21IaXN0b3J5KSB7XG5cdFx0XHR0aGlzLnVubGlzdGVuID0gY3VzdG9tSGlzdG9yeS5saXN0ZW4oZnVuY3Rpb24gKGxvY2F0aW9uKSB7XG5cdFx0XHRcdHRoaXMkMS5yb3V0ZVRvKChcIlwiICsgKGxvY2F0aW9uLnBhdGhuYW1lIHx8ICcnKSArIChsb2NhdGlvbi5zZWFyY2ggfHwgJycpKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0dGhpcy51cGRhdGluZyA9IGZhbHNlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLnVubGlzdGVuPT09J2Z1bmN0aW9uJykgeyB0aGlzLnVubGlzdGVuKCk7IH1cblx0XHRST1VURVJTLnNwbGljZShST1VURVJTLmluZGV4T2YodGhpcyksIDEpO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUgKCkge1xuXHRcdHRoaXMudXBkYXRpbmcgPSB0cnVlO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlICgpIHtcblx0XHR0aGlzLnVwZGF0aW5nID0gZmFsc2U7XG5cdH07XG5cblx0Um91dGVyLnByb3RvdHlwZS5nZXRNYXRjaGluZ0NoaWxkcmVuID0gZnVuY3Rpb24gZ2V0TWF0Y2hpbmdDaGlsZHJlbiAoY2hpbGRyZW4sIHVybCwgaW52b2tlKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuXG5cdFx0XHQuZmlsdGVyKHByZXBhcmVWTm9kZUZvclJhbmtpbmcpXG5cdFx0XHQuc29ydChwYXRoUmFua1NvcnQpXG5cdFx0XHQubWFwKCBmdW5jdGlvbiAodm5vZGUpIHtcblx0XHRcdFx0dmFyIG1hdGNoZXMgPSBleGVjKHVybCwgdm5vZGUucHJvcHMucGF0aCwgdm5vZGUucHJvcHMpO1xuXHRcdFx0XHRpZiAobWF0Y2hlcykge1xuXHRcdFx0XHRcdGlmIChpbnZva2UgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgbmV3UHJvcHMgPSB7IHVybDogdXJsLCBtYXRjaGVzOiBtYXRjaGVzIH07XG5cdFx0XHRcdFx0XHRhc3NpZ24obmV3UHJvcHMsIG1hdGNoZXMpO1xuXHRcdFx0XHRcdFx0ZGVsZXRlIG5ld1Byb3BzLnJlZjtcblx0XHRcdFx0XHRcdGRlbGV0ZSBuZXdQcm9wcy5rZXk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gY2xvbmVFbGVtZW50KHZub2RlLCBuZXdQcm9wcyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2bm9kZTtcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmlsdGVyKEJvb2xlYW4pO1xuXHR9O1xuXG5cdFJvdXRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChyZWYsIHJlZiQxKSB7XG5cdFx0dmFyIGNoaWxkcmVuID0gcmVmLmNoaWxkcmVuO1xuXHRcdHZhciBvbkNoYW5nZSA9IHJlZi5vbkNoYW5nZTtcblx0XHR2YXIgdXJsID0gcmVmJDEudXJsO1xuXG5cdFx0dmFyIGFjdGl2ZSA9IHRoaXMuZ2V0TWF0Y2hpbmdDaGlsZHJlbih0b0NoaWxkQXJyYXkoY2hpbGRyZW4pLCB1cmwsIHRydWUpO1xuXG5cdFx0dmFyIGN1cnJlbnQgPSBhY3RpdmVbMF0gfHwgbnVsbDtcblxuXHRcdHZhciBwcmV2aW91cyA9IHRoaXMucHJldmlvdXNVcmw7XG5cdFx0aWYgKHVybCE9PXByZXZpb3VzKSB7XG5cdFx0XHR0aGlzLnByZXZpb3VzVXJsID0gdXJsO1xuXHRcdFx0aWYgKHR5cGVvZiBvbkNoYW5nZT09PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0b25DaGFuZ2Uoe1xuXHRcdFx0XHRcdHJvdXRlcjogdGhpcyxcblx0XHRcdFx0XHR1cmw6IHVybCxcblx0XHRcdFx0XHRwcmV2aW91czogcHJldmlvdXMsXG5cdFx0XHRcdFx0YWN0aXZlOiBhY3RpdmUsXG5cdFx0XHRcdFx0Y3VycmVudDogY3VycmVudFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gY3VycmVudDtcblx0fTtcblxuXHRyZXR1cm4gUm91dGVyO1xufShDb21wb25lbnQpKTtcblxudmFyIExpbmsgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChcblx0Y3JlYXRlRWxlbWVudCgnYScsIGFzc2lnbih7IG9uQ2xpY2s6IGhhbmRsZUxpbmtDbGljayB9LCBwcm9wcykpXG4pOyB9O1xuXG52YXIgUm91dGUgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIGNyZWF0ZUVsZW1lbnQocHJvcHMuY29tcG9uZW50LCBwcm9wcyk7IH07XG5cblJvdXRlci5zdWJzY3JpYmVycyA9IHN1YnNjcmliZXJzO1xuUm91dGVyLmdldEN1cnJlbnRVcmwgPSBnZXRDdXJyZW50VXJsO1xuUm91dGVyLnJvdXRlID0gcm91dGU7XG5Sb3V0ZXIuUm91dGVyID0gUm91dGVyO1xuUm91dGVyLlJvdXRlID0gUm91dGU7XG5Sb3V0ZXIuTGluayA9IExpbms7XG5Sb3V0ZXIuZXhlYyA9IGV4ZWM7XG5cbmV4cG9ydCB7IHN1YnNjcmliZXJzLCBnZXRDdXJyZW50VXJsLCByb3V0ZSwgUm91dGVyLCBSb3V0ZSwgTGluaywgZXhlYyB9O2V4cG9ydCBkZWZhdWx0IFJvdXRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWFjdC1yb3V0ZXIuZXMuanMubWFwXG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n")},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction parseStorageGet(key) {\n    try {\n        var value = localStorage.getItem(key) || '';\n        return JSON.parse(value);\n    }\n    catch (e) {\n        return null;\n    }\n}\nexports.default = parseStorageGet;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9wYXJzZS1zdG9yYWdlLWdldC50cz84MWUyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlU3RvcmFnZUdldCAoa2V5OiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgfHwgJydcbiAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBudWxsXG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFQQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6\n")},function(module,exports){eval('var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function("return this")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === "object") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it\'s\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanM/Y2QwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nvar hooks_1 = __webpack_require__(2);\nvar constants_1 = __webpack_require__(4);\nfunction ArticlePreview(props) {\n    var article = props.article, _a = props.setArticle, setArticle = _a === void 0 ? function () { return void {}; } : _a;\n    var _b = hooks_1.useState(false), isFavorited = _b[0], setIsFavorited = _b[1];\n    function onFavorite() {\n        return __awaiter(this, void 0, void 0, function () {\n            var newArticle, newArticle;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!article.favorited) return [3 /*break*/, 2];\n                        return [4 /*yield*/, services_1.deleteFavoriteArticle(article.slug)];\n                    case 1:\n                        newArticle = _a.sent();\n                        setArticle(newArticle);\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, services_1.postFavoriteArticle(article.slug)];\n                    case 3:\n                        newArticle = _a.sent();\n                        setArticle(newArticle);\n                        _a.label = 4;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    }\n    hooks_1.useEffect(function () {\n        setIsFavorited(article.favorited);\n    }, [article]);\n    var favoriteButtonClass = isFavorited\n        ? \'btn-primary\'\n        : \'btn-outline-primary\';\n    return (preact_1.h("div", { className: "article-preview" },\n        preact_1.h("div", { className: "article-meta" },\n            preact_1.h("a", { href: "/@" + article.author.username },\n                preact_1.h("img", { src: article.author.image || constants_1.DEFAULT_AVATAR })),\n            preact_1.h("div", { className: "info" },\n                preact_1.h("a", { href: "/@" + article.author.username, className: "author" }, article.author.username),\n                preact_1.h("span", { className: "date" }, new Date(article.createdAt).toDateString())),\n            preact_1.h("button", { className: "btn btn-sm pull-xs-right " + favoriteButtonClass, onClick: onFavorite },\n                preact_1.h("i", { className: "ion-heart" }),\n                " ",\n                article.favoritesCount)),\n        preact_1.h("a", { href: "/article/" + article.slug, className: "preview-link" },\n            preact_1.h("h1", null, article.title),\n            preact_1.h("p", null, article.description),\n            preact_1.h("span", null, "Read more..."))));\n}\nexports.default = ArticlePreview;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0FydGljbGVQcmV2aWV3LnRzeD84NThiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGggfSBmcm9tICdwcmVhY3QnXG5pbXBvcnQgeyBkZWxldGVGYXZvcml0ZUFydGljbGUsIHBvc3RGYXZvcml0ZUFydGljbGUgfSBmcm9tICcuLi9zZXJ2aWNlcydcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnXG5pbXBvcnQgeyBERUZBVUxUX0FWQVRBUiB9IGZyb20gJy4uL3N0b3JlL2NvbnN0YW50cydcblxuaW50ZXJmYWNlIEFydGljbGVQcmV2aWV3UHJvcHMge1xuICBhcnRpY2xlOiBBcnRpY2xlO1xuICBzZXRBcnRpY2xlPzogKGFydGljbGU6IEFydGljbGUpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFydGljbGVQcmV2aWV3KHByb3BzOiBBcnRpY2xlUHJldmlld1Byb3BzKSB7XG4gIGNvbnN0IHsgYXJ0aWNsZSwgc2V0QXJ0aWNsZSA9ICAoKSA9PiB2b2lkIHt9IH0gPSBwcm9wc1xuICBjb25zdCBbIGlzRmF2b3JpdGVkLCBzZXRJc0Zhdm9yaXRlZCBdID0gdXNlU3RhdGUoZmFsc2UpXG5cbiAgYXN5bmMgZnVuY3Rpb24gb25GYXZvcml0ZSgpIHtcbiAgICBpZiAoYXJ0aWNsZS5mYXZvcml0ZWQpIHtcbiAgICAgIGNvbnN0IG5ld0FydGljbGUgPSBhd2FpdCBkZWxldGVGYXZvcml0ZUFydGljbGUoYXJ0aWNsZS5zbHVnKVxuICAgICAgc2V0QXJ0aWNsZShuZXdBcnRpY2xlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBuZXdBcnRpY2xlID0gYXdhaXQgcG9zdEZhdm9yaXRlQXJ0aWNsZShhcnRpY2xlLnNsdWcpXG4gICAgICBzZXRBcnRpY2xlKG5ld0FydGljbGUpXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc0Zhdm9yaXRlZChhcnRpY2xlLmZhdm9yaXRlZClcbiAgfSwgWyBhcnRpY2xlIF0pXG5cbiAgY29uc3QgZmF2b3JpdGVCdXR0b25DbGFzcyA9IGlzRmF2b3JpdGVkXG4gICAgPyAnYnRuLXByaW1hcnknXG4gICAgOiAnYnRuLW91dGxpbmUtcHJpbWFyeSdcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0aWNsZS1wcmV2aWV3XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFydGljbGUtbWV0YVwiPlxuICAgICAgICA8YSBocmVmPXtgL0Ake2FydGljbGUuYXV0aG9yLnVzZXJuYW1lfWB9PjxpbWcgc3JjPXthcnRpY2xlLmF1dGhvci5pbWFnZSB8fCBERUZBVUxUX0FWQVRBUn0gLz48L2E+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICAgIDxhIGhyZWY9e2AvQCR7YXJ0aWNsZS5hdXRob3IudXNlcm5hbWV9YH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImF1dGhvclwiPnthcnRpY2xlLmF1dGhvci51c2VybmFtZX08L2E+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGF0ZVwiPntuZXcgRGF0ZShhcnRpY2xlLmNyZWF0ZWRBdCkudG9EYXRlU3RyaW5nKCl9PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2BidG4gYnRuLXNtIHB1bGwteHMtcmlnaHQgJHtmYXZvcml0ZUJ1dHRvbkNsYXNzfWB9IG9uQ2xpY2s9e29uRmF2b3JpdGV9PlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImlvbi1oZWFydFwiIC8+IHthcnRpY2xlLmZhdm9yaXRlc0NvdW50fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGEgaHJlZj17YC9hcnRpY2xlLyR7YXJ0aWNsZS5zbHVnfWB9IGNsYXNzTmFtZT1cInByZXZpZXctbGlua1wiPlxuICAgICAgICA8aDE+e2FydGljbGUudGl0bGV9PC9oMT5cbiAgICAgICAgPHA+e2FydGljbGUuZGVzY3JpcHRpb259PC9wPlxuICAgICAgICA8c3Bhbj5SZWFkIG1vcmUuLi48L3NwYW4+XG4gICAgICA8L2E+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBRUE7O0FBQUE7QUFDQTs7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBMUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nfunction Pagination(props) {\n    var pagesCount = Math.ceil(props.count / services_1.limit);\n    var countArray = new Array(pagesCount).fill(\'\');\n    var isActive = function (index) { return props.page === index + 1 ? \'active\' : \'\'; };\n    return (preact_1.h("ul", { className: "pagination" }, countArray.map(function (_, index) { return (preact_1.h("li", { key: index, className: "page-item " + isActive(index) },\n        preact_1.h("a", { onClick: function () { return props.setPage(index + 1); }, className: "page-link" }, index + 1))); })));\n}\nexports.default = Pagination;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BhZ2luYXRpb24udHN4P2FlNGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IGxpbWl0IH0gZnJvbSAnLi4vc2VydmljZXMnXG5cbmludGVyZmFjZSBQYWdpbmF0aW9uUHJvcHMge1xuICAvKiogdG90YWwgaXRlbXMgY291bnQgKi9cbiAgY291bnQ6IG51bWJlcjtcbiAgcGFnZTogbnVtYmVyO1xuICBzZXRQYWdlOiAocGFnZTogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQYWdpbmF0aW9uKHByb3BzOiBQYWdpbmF0aW9uUHJvcHMpIHtcbiAgY29uc3QgcGFnZXNDb3VudCA9IE1hdGguY2VpbChwcm9wcy5jb3VudCAvIGxpbWl0KVxuICBjb25zdCBjb3VudEFycmF5ID0gbmV3IEFycmF5KHBhZ2VzQ291bnQpLmZpbGwoJycpXG4gIGNvbnN0IGlzQWN0aXZlID0gKGluZGV4OiBudW1iZXIpID0+IHByb3BzLnBhZ2UgPT09IGluZGV4ICsgMSA/ICdhY3RpdmUnIDogJydcblxuICByZXR1cm4gKFxuICAgIDx1bCBjbGFzc05hbWU9XCJwYWdpbmF0aW9uXCI+XG4gICAgICB7Y291bnRBcnJheS5tYXAoKF8sIGluZGV4KSA9PiAoXG4gICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9e2BwYWdlLWl0ZW0gJHtpc0FjdGl2ZShpbmRleCl9YH0+XG4gICAgICAgICAgPGEgb25DbGljaz17KCkgPT4gcHJvcHMuc2V0UGFnZShpbmRleCArIDEpfSBjbGFzc05hbWU9XCJwYWdlLWxpbmtcIj57aW5kZXggKyAxfTwvYT5cbiAgICAgICAgPC9saT5cbiAgICAgICkpfVxuICAgIDwvdWw+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBS0E7QUFkQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){"use strict";eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dateFilter = void 0;\nexports.dateFilter = function (dateString) {\n    var date = new Date(dateString);\n    return date.toLocaleDateString('en-US', {\n        month: 'long',\n        day: 'numeric',\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZmlsdGVycy50cz9kNGMwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBkYXRlRmlsdGVyID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZylcbiAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICBtb250aDogJ2xvbmcnLFxuICAgIGRheTogJ251bWVyaWMnLFxuICB9KVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n")},function(module,exports,__webpack_require__){"use strict";eval('\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar App_1 = __importDefault(__webpack_require__(12));\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\npreact_1.render(preact_1.h(App_1.default, null), document.querySelector(\'#app\'));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4P2Q5ODYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCwgcmVuZGVyIH0gZnJvbSAncHJlYWN0J1xuXG5pbXBvcnQgQXBwIGZyb20gJy4vQXBwJ1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhcHAnKSEpXG4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar store_1 = __webpack_require__(3);\nvar Header_1 = __importDefault(__webpack_require__(15));\nvar preact_router_1 = __importStar(__webpack_require__(5));\nvar Home_1 = __importDefault(__webpack_require__(16));\nvar Login_1 = __importDefault(__webpack_require__(19));\nvar Register_1 = __importDefault(__webpack_require__(21));\nvar Settings_1 = __importDefault(__webpack_require__(22));\nvar ArticlePage_1 = __importDefault(__webpack_require__(23));\nvar EditArticle_1 = __importDefault(__webpack_require__(26));\nvar Profile_1 = __importDefault(__webpack_require__(27));\nvar Footer_1 = __importDefault(__webpack_require__(28));\nvar preact_1 = __webpack_require__(0);\nvar history_1 = __webpack_require__(29);\nfunction App() {\n    return (preact_1.h(store_1.RootProvider, null,\n        preact_1.h(Header_1.default, null),\n        preact_1.h(preact_router_1.default, { history: history_1.createHashHistory() },\n            preact_1.h(preact_router_1.Route, { path: "/", component: Home_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/my-feeds", component: Home_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/tag/:tag", component: Home_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/login", component: Login_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/register", component: Register_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/settings", component: Settings_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/article/create", component: EditArticle_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/article/:slug/edit", component: EditArticle_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/article/:slug", component: ArticlePage_1.default }),\n            preact_1.h(preact_router_1.Route, { path: "/:username/favorites", component: Profile_1.default })),\n        preact_1.h(Footer_1.default, null)));\n}\nexports.default = App;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQXBwLnRzeD8xYzZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvb3RQcm92aWRlciB9IGZyb20gJy4vc3RvcmUnXG5pbXBvcnQgSGVhZGVyIGZyb20gJy4vY29tcG9uZW50cy9IZWFkZXInXG5pbXBvcnQgUm91dGVyLCB7IFJvdXRlIH0gZnJvbSAncHJlYWN0LXJvdXRlcidcbmltcG9ydCBIb21lIGZyb20gJy4vcGFnZXMvSG9tZSdcbmltcG9ydCBMb2dpbiBmcm9tICcuL3BhZ2VzL0xvZ2luJ1xuaW1wb3J0IFJlZ2lzdGVyIGZyb20gJy4vcGFnZXMvUmVnaXN0ZXInXG5pbXBvcnQgU2V0dGluZ3MgZnJvbSAnLi9wYWdlcy9TZXR0aW5ncydcbmltcG9ydCBBcnRpY2xlUGFnZSBmcm9tICcuL3BhZ2VzL0FydGljbGVQYWdlJ1xuaW1wb3J0IEVkaXRBcnRpY2xlIGZyb20gJy4vcGFnZXMvRWRpdEFydGljbGUnXG5pbXBvcnQgUHJvZmlsZSBmcm9tICcuL3BhZ2VzL1Byb2ZpbGUnXG5pbXBvcnQgRm9vdGVyIGZyb20gJy4vY29tcG9uZW50cy9Gb290ZXInXG5pbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgY3JlYXRlSGFzaEhpc3RvcnkgfSBmcm9tICdoaXN0b3J5J1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoKSB7XG4gIHJldHVybiAoXG4gICAgPFJvb3RQcm92aWRlcj5cbiAgICAgIDxIZWFkZXIgLz5cbiAgICAgIDxSb3V0ZXIgaGlzdG9yeT17Y3JlYXRlSGFzaEhpc3RvcnkoKX0+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL1wiIGNvbXBvbmVudD17SG9tZX0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvbXktZmVlZHNcIiBjb21wb25lbnQ9e0hvbWV9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3RhZy86dGFnXCIgY29tcG9uZW50PXtIb21lfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9sb2dpblwiIGNvbXBvbmVudD17TG9naW59IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL3JlZ2lzdGVyXCIgY29tcG9uZW50PXtSZWdpc3Rlcn0gLz5cbiAgICAgICAgPFJvdXRlIHBhdGg9XCIvc2V0dGluZ3NcIiBjb21wb25lbnQ9e1NldHRpbmdzfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi9hcnRpY2xlL2NyZWF0ZVwiIGNvbXBvbmVudD17RWRpdEFydGljbGV9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FydGljbGUvOnNsdWcvZWRpdFwiIGNvbXBvbmVudD17RWRpdEFydGljbGV9IC8+XG4gICAgICAgIDxSb3V0ZSBwYXRoPVwiL2FydGljbGUvOnNsdWdcIiBjb21wb25lbnQ9e0FydGljbGVQYWdlfSAvPlxuICAgICAgICA8Um91dGUgcGF0aD1cIi86dXNlcm5hbWUvZmF2b3JpdGVzXCIgY29tcG9uZW50PXtQcm9maWxlfSAvPlxuICAgICAgPC9Sb3V0ZXI+XG4gICAgICA8Rm9vdGVyIC8+XG4gICAgPC9Sb290UHJvdmlkZXI+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQW5CQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){"use strict";eval("/* WEBPACK VAR INJECTION */(function(global) {\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = __webpack_require__(4);\nvar services_1 = __webpack_require__(1);\nvar reducer = function (state, action) {\n    switch (action.type) {\n        case constants_1.SET_ERRORS: {\n            return __assign(__assign({}, state), { errors: action.errors });\n        }\n        case constants_1.CLEAN_ERRORS: {\n            return __assign(__assign({}, state), { errors: {} });\n        }\n        case constants_1.UPDATE_USER: {\n            var user = action.user;\n            if (!user) {\n                // logout\n                global.localStorage.removeItem('user');\n                services_1.request.options.headers['Authorization'] = '';\n                return __assign(__assign({}, state), { user: undefined });\n            }\n            // login\n            user = Object.assign({}, state.user, user);\n            global.localStorage.setItem('user', JSON.stringify(user));\n            services_1.request.options.headers['Authorization'] = \"Token \" + user.token;\n            return __assign(__assign({}, state), { user: user });\n        }\n        default:\n            return state;\n    }\n};\nexports.default = reducer;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(7)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvcmVkdWNlci50cz85YjA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENMRUFOX0VSUk9SUywgU0VUX0VSUk9SUywgVVBEQVRFX1VTRVIgfSBmcm9tICcuL2NvbnN0YW50cydcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tICcuLi9zZXJ2aWNlcydcblxuY29uc3QgcmVkdWNlciA9IChzdGF0ZTogUm9vdFN0YXRlLCBhY3Rpb246IEFjdGlvbik6IFJvb3RTdGF0ZSA9PiB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgY2FzZSBTRVRfRVJST1JTOiB7XG4gICAgcmV0dXJuIHsgLi4uc3RhdGUsIGVycm9yczogYWN0aW9uLmVycm9ycyB9XG4gIH1cbiAgY2FzZSBDTEVBTl9FUlJPUlM6IHtcbiAgICByZXR1cm4geyAuLi5zdGF0ZSwgZXJyb3JzOiB7fSB9XG4gIH1cblxuICBjYXNlIFVQREFURV9VU0VSOiB7XG4gICAgbGV0IHVzZXIgPSBhY3Rpb24udXNlclxuXG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICAvLyBsb2dvdXRcbiAgICAgIGdsb2JhbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpXG4gICAgICByZXF1ZXN0Lm9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gJydcbiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCB1c2VyOiB1bmRlZmluZWQgfVxuICAgIH1cblxuICAgIC8vIGxvZ2luXG4gICAgdXNlciA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnVzZXIsIHVzZXIpIGFzIFVzZXJcbiAgICBnbG9iYWwubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeSh1c2VyKSlcbiAgICByZXF1ZXN0Lm9wdGlvbnMuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYFRva2VuICR7dXNlci50b2tlbn1gXG4gICAgcmV0dXJuIHsgLi4uc3RhdGUsIHVzZXIgfVxuICB9XG5cbiAgZGVmYXVsdDpcbiAgICByZXR1cm4gc3RhdGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCByZWR1Y2VyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n")},function(module,exports,__webpack_require__){"use strict";eval("\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar parse_storage_get_1 = __importDefault(__webpack_require__(6));\nvar FetchRequest = /** @class */ (function () {\n    function FetchRequest(options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this.defaultOptions = {\n            prefix: '',\n            headers: {},\n            params: {},\n            responseInterceptor: function (response) { return response; },\n        };\n        this.generateFinalUrl = function (url, options) {\n            if (options === void 0) { options = {}; }\n            var prefix = options.prefix || _this.options.prefix || '';\n            var params = options.params || {};\n            var finalUrl = \"\" + prefix + url;\n            if (Object.keys(params).length) {\n                var queryString = Object.keys(params).map(function (key) { return key + \"=\" + params[key]; }).join('&');\n                finalUrl += \"?\" + queryString;\n            }\n            return finalUrl;\n        };\n        this.handleResponse = function (response) {\n            _this.options.responseInterceptor(response);\n            return response.json()\n                .then(function (json) {\n                if (response.status >= 200 && response.status < 300) {\n                    return json;\n                }\n                var error = new Error(response.statusText);\n                Object.assign(error, json, {\n                    status: response.status,\n                    statusText: response.statusText,\n                });\n                throw error;\n            });\n        };\n        this.options = Object.assign({}, this.defaultOptions, options);\n    }\n    FetchRequest.prototype.get = function (url, options) {\n        var _a, _b;\n        if (options === void 0) { options = {}; }\n        options.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : {};\n        var token = (_b = parse_storage_get_1.default('user')) === null || _b === void 0 ? void 0 : _b.token;\n        if (token)\n            options.headers.Authorization = \"Token \" + token;\n        var finalUrl = this.generateFinalUrl(url, options);\n        return fetch(finalUrl, {\n            method: 'GET',\n            headers: this.options.headers,\n        })\n            .then(this.handleResponse);\n    };\n    FetchRequest.prototype.post = function (url, data, options) {\n        var _a, _b;\n        if (data === void 0) { data = {}; }\n        if (options === void 0) { options = {}; }\n        options.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : {};\n        var token = (_b = parse_storage_get_1.default('user')) === null || _b === void 0 ? void 0 : _b.token;\n        if (token)\n            options.headers.Authorization = \"Token \" + token;\n        var finalUrl = this.generateFinalUrl(url, options);\n        return fetch(finalUrl, {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: this.options.headers,\n        })\n            .then(this.handleResponse);\n    };\n    FetchRequest.prototype.delete = function (url, options) {\n        var _a, _b;\n        if (options === void 0) { options = {}; }\n        options.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : {};\n        var token = (_b = parse_storage_get_1.default('user')) === null || _b === void 0 ? void 0 : _b.token;\n        if (token)\n            options.headers.Authorization = \"Token \" + token;\n        var finalUrl = this.generateFinalUrl(url, options);\n        return fetch(finalUrl, {\n            method: 'DELETE',\n            headers: this.options.headers,\n        })\n            .then(this.handleResponse);\n    };\n    FetchRequest.prototype.put = function (url, data, options) {\n        var _a, _b;\n        if (data === void 0) { data = {}; }\n        if (options === void 0) { options = {}; }\n        options.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : {};\n        var token = (_b = parse_storage_get_1.default('user')) === null || _b === void 0 ? void 0 : _b.token;\n        if (token)\n            options.headers.Authorization = \"Token \" + token;\n        var finalUrl = this.generateFinalUrl(url, options);\n        return fetch(finalUrl, {\n            method: 'PUT',\n            body: JSON.stringify(data),\n            headers: this.options.headers,\n        })\n            .then(this.handleResponse);\n    };\n    FetchRequest.prototype.patch = function (url, data, options) {\n        var _a, _b;\n        if (data === void 0) { data = {}; }\n        if (options === void 0) { options = {}; }\n        options.headers = (_a = options.headers) !== null && _a !== void 0 ? _a : {};\n        var token = (_b = parse_storage_get_1.default('user')) === null || _b === void 0 ? void 0 : _b.token;\n        if (token)\n            options.headers.Authorization = \"Token \" + token;\n        var finalUrl = this.generateFinalUrl(url, options);\n        return fetch(finalUrl, {\n            method: 'PATCH',\n            body: JSON.stringify(data),\n            headers: this.options.headers,\n        })\n            .then(this.handleResponse);\n    };\n    return FetchRequest;\n}());\nexports.default = FetchRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvcmVxdWVzdC50cz9iMzJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwYXJzZVN0b3JhZ2VHZXQgZnJvbSAnLi9wYXJzZS1zdG9yYWdlLWdldCdcblxuaW50ZXJmYWNlIEZldGNoUmVxdWVzdE9wdGlvbnMge1xuICBwcmVmaXg6IHN0cmluZztcbiAgaGVhZGVyczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgcGFyYW1zOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICByZXNwb25zZUludGVyY2VwdG9yOiAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGZXRjaFJlcXVlc3Qge1xuICBkZWZhdWx0T3B0aW9uczogRmV0Y2hSZXF1ZXN0T3B0aW9ucyA9IHtcbiAgICBwcmVmaXg6ICcnLFxuICAgIGhlYWRlcnM6IHt9LFxuICAgIHBhcmFtczoge30sXG4gICAgcmVzcG9uc2VJbnRlcmNlcHRvcjogKHJlc3BvbnNlKSA9PiByZXNwb25zZSxcbiAgfVxuXG4gIHB1YmxpYyBvcHRpb25zOiBGZXRjaFJlcXVlc3RPcHRpb25zXG5cbiAgY29uc3RydWN0b3IgKG9wdGlvbnM6IFBhcnRpYWw8RmV0Y2hSZXF1ZXN0T3B0aW9ucz4gPSB7fSkge1xuICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpXG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlRmluYWxVcmwgPSAodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFBhcnRpYWw8RmV0Y2hSZXF1ZXN0T3B0aW9ucz4gPSB7fSkgPT4ge1xuICAgIGNvbnN0IHByZWZpeCA9IG9wdGlvbnMucHJlZml4IHx8IHRoaXMub3B0aW9ucy5wcmVmaXggfHwgJydcbiAgICBjb25zdCBwYXJhbXMgPSBvcHRpb25zLnBhcmFtcyB8fCB7fVxuXG4gICAgbGV0IGZpbmFsVXJsID0gYCR7cHJlZml4fSR7dXJsfWBcbiAgICBpZiAoT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoa2V5ID0+IGAke2tleX09JHtwYXJhbXNba2V5XX1gKS5qb2luKCcmJylcbiAgICAgIGZpbmFsVXJsICs9IGA/JHtxdWVyeVN0cmluZ31gXG4gICAgfVxuXG4gICAgcmV0dXJuIGZpbmFsVXJsXG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlc3BvbnNlID0gKHJlc3BvbnNlOiBSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMub3B0aW9ucy5yZXNwb25zZUludGVyY2VwdG9yKHJlc3BvbnNlKVxuICAgIHJldHVybiByZXNwb25zZS5qc29uKClcbiAgICAgIC50aGVuKGpzb24gPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcbiAgICAgICAgICByZXR1cm4ganNvblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpXG4gICAgICAgIE9iamVjdC5hc3NpZ24oZXJyb3IsIGpzb24sIHtcbiAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICB9KVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfSlcbiAgfVxuXG4gIGdldDxUID0gYW55PiAodXJsOiBzdHJpbmcsIG9wdGlvbnM6IFBhcnRpYWw8RmV0Y2hSZXF1ZXN0T3B0aW9ucz4gPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyA/PyB7fVxuICAgIGNvbnN0IHRva2VuID0gcGFyc2VTdG9yYWdlR2V0KCd1c2VyJyk/LnRva2VuXG4gICAgaWYgKHRva2VuKSBvcHRpb25zLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBUb2tlbiAke3Rva2VufWBcblxuICAgIGNvbnN0IGZpbmFsVXJsID0gdGhpcy5nZW5lcmF0ZUZpbmFsVXJsKHVybCwgb3B0aW9ucylcbiAgICByZXR1cm4gZmV0Y2goZmluYWxVcmwsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4odGhpcy5oYW5kbGVSZXNwb25zZSlcbiAgfVxuXG4gIHBvc3Q8VCA9IGFueT4gKHVybDogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sIG9wdGlvbnM6IFBhcnRpYWw8RmV0Y2hSZXF1ZXN0T3B0aW9ucz4gPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyA/PyB7fVxuICAgIGNvbnN0IHRva2VuID0gcGFyc2VTdG9yYWdlR2V0KCd1c2VyJyk/LnRva2VuXG4gICAgaWYgKHRva2VuKSBvcHRpb25zLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBUb2tlbiAke3Rva2VufWBcblxuICAgIGNvbnN0IGZpbmFsVXJsID0gdGhpcy5nZW5lcmF0ZUZpbmFsVXJsKHVybCwgb3B0aW9ucylcblxuICAgIHJldHVybiBmZXRjaChmaW5hbFVybCwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIGhlYWRlcnM6IHRoaXMub3B0aW9ucy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLmhhbmRsZVJlc3BvbnNlKVxuICB9XG5cbiAgZGVsZXRlPFQgPSBhbnk+ICh1cmw6IHN0cmluZywgb3B0aW9uczogUGFydGlhbDxGZXRjaFJlcXVlc3RPcHRpb25zPiA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzID8/IHt9XG4gICAgY29uc3QgdG9rZW4gPSBwYXJzZVN0b3JhZ2VHZXQoJ3VzZXInKT8udG9rZW5cbiAgICBpZiAodG9rZW4pIG9wdGlvbnMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYFRva2VuICR7dG9rZW59YFxuXG4gICAgY29uc3QgZmluYWxVcmwgPSB0aGlzLmdlbmVyYXRlRmluYWxVcmwodXJsLCBvcHRpb25zKVxuXG4gICAgcmV0dXJuIGZldGNoKGZpbmFsVXJsLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy5vcHRpb25zLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICBwdXQ8VCA9IGFueT4gKHVybDogc3RyaW5nLCBkYXRhOiBSZWNvcmQ8c3RyaW5nLCBhbnk+ID0ge30sIG9wdGlvbnM6IFBhcnRpYWw8RmV0Y2hSZXF1ZXN0T3B0aW9ucz4gPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyA/PyB7fVxuICAgIGNvbnN0IHRva2VuID0gcGFyc2VTdG9yYWdlR2V0KCd1c2VyJyk/LnRva2VuXG4gICAgaWYgKHRva2VuKSBvcHRpb25zLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBUb2tlbiAke3Rva2VufWBcblxuICAgIGNvbnN0IGZpbmFsVXJsID0gdGhpcy5nZW5lcmF0ZUZpbmFsVXJsKHVybCwgb3B0aW9ucylcblxuICAgIHJldHVybiBmZXRjaChmaW5hbFVybCwge1xuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgaGVhZGVyczogdGhpcy5vcHRpb25zLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKHRoaXMuaGFuZGxlUmVzcG9uc2UpXG4gIH1cblxuICBwYXRjaDxUID0gYW55PiAodXJsOiBzdHJpbmcsIGRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fSwgb3B0aW9uczogUGFydGlhbDxGZXRjaFJlcXVlc3RPcHRpb25zPiA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzID8/IHt9XG4gICAgY29uc3QgdG9rZW4gPSBwYXJzZVN0b3JhZ2VHZXQoJ3VzZXInKT8udG9rZW5cbiAgICBpZiAodG9rZW4pIG9wdGlvbnMuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYFRva2VuICR7dG9rZW59YFxuXG4gICAgY29uc3QgZmluYWxVcmwgPSB0aGlzLmdlbmVyYXRlRmluYWxVcmwodXJsLCBvcHRpb25zKVxuXG4gICAgcmV0dXJuIGZldGNoKGZpbmFsVXJsLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKSxcbiAgICAgIGhlYWRlcnM6IHRoaXMub3B0aW9ucy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbih0aGlzLmhhbmRsZVJlc3BvbnNlKVxuICB9XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQVNBO0FBVUE7QUFBQTtBQUFBO0FBVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlCQTtBQUNBO0FBK0JBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n")},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar preact_router_1 = __webpack_require__(5);\nvar store_1 = __webpack_require__(3);\nfunction Header() {\n    var user = store_1.useRootState()[0].user;\n    return preact_1.h("nav", { className: "navbar navbar-light" },\n        preact_1.h("div", { className: "container" },\n            preact_1.h("a", { className: "navbar-brand", href: "/" }, "conduit"),\n            preact_1.h("ul", { className: "nav navbar-nav pull-xs-right" },\n                preact_1.h("li", { className: "nav-item" },\n                    preact_1.h(preact_router_1.Link, { className: "nav-link", activeClassName: "active", href: "/" }, "Home")),\n                user ? (preact_1.h(preact_1.Fragment, null,\n                    preact_1.h("li", { className: "nav-item" },\n                        preact_1.h("a", { className: "nav-link", href: "/article/create" },\n                            preact_1.h("i", { className: "ion-compose" }),\n                            " New Post")),\n                    preact_1.h("li", { className: "nav-item" },\n                        preact_1.h(preact_router_1.Link, { className: "nav-link", activeClassName: "active", href: "/settings" },\n                            preact_1.h("i", { className: "ion-gear-a" }),\n                            " Settings")),\n                    preact_1.h("li", { className: "nav-item" },\n                        preact_1.h(preact_router_1.Link, { className: "nav-link", activeClassName: "active", href: "/@" + (user === null || user === void 0 ? void 0 : user.username) }, user === null || user === void 0 ? void 0 : user.username)))) : (preact_1.h(preact_1.Fragment, null,\n                    preact_1.h("li", { className: "nav-item" },\n                        preact_1.h(preact_router_1.Link, { className: "nav-link", activeClassName: "active", href: "/register" }, "Sign up")),\n                    preact_1.h("li", { className: "nav-item" },\n                        preact_1.h(preact_router_1.Link, { className: "nav-link", activeClassName: "active", href: "/login" }, "Sign in")))))));\n}\nexports.default = Header;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9IZWFkZXIudHN4PzhlYjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRnJhZ21lbnQsIGggfSBmcm9tICdwcmVhY3QnXG5pbXBvcnQgeyBMaW5rIH0gZnJvbSAncHJlYWN0LXJvdXRlcidcbmltcG9ydCB7IHVzZVJvb3RTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIZWFkZXIoKSB7XG4gIGNvbnN0IFsgeyB1c2VyIH0gXSA9IHVzZVJvb3RTdGF0ZSgpXG5cbiAgcmV0dXJuIDxuYXYgY2xhc3NOYW1lPVwibmF2YmFyIG5hdmJhci1saWdodFwiPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICA8YSBjbGFzc05hbWU9XCJuYXZiYXItYnJhbmRcIiBocmVmPVwiL1wiPmNvbmR1aXQ8L2E+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdmJhci1uYXYgcHVsbC14cy1yaWdodFwiPlxuICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICA8TGluayBjbGFzc05hbWU9XCJuYXYtbGlua1wiIGFjdGl2ZUNsYXNzTmFtZT1cImFjdGl2ZVwiIGhyZWY9XCIvXCI+SG9tZTwvTGluaz5cbiAgICAgICAgPC9saT5cbiAgICAgICAge1xuICAgICAgICAgIHVzZXIgPyAoXG4gICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgaHJlZj1cIi9hcnRpY2xlL2NyZWF0ZVwiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaW9uLWNvbXBvc2VcIiAvPiBOZXcgUG9zdFxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgPExpbmsgY2xhc3NOYW1lPVwibmF2LWxpbmtcIiBhY3RpdmVDbGFzc05hbWU9XCJhY3RpdmVcIiBocmVmPVwiL3NldHRpbmdzXCI+XG4gICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpb24tZ2Vhci1hXCIgLz4gU2V0dGluZ3NcbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCIgaHJlZj17YC9AJHt1c2VyPy51c2VybmFtZX1gfT5cbiAgICAgICAgICAgICAgICAgIHt1c2VyPy51c2VybmFtZX1cbiAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCIgaHJlZj1cIi9yZWdpc3RlclwiPlNpZ24gdXA8L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgICAgIDxMaW5rIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgYWN0aXZlQ2xhc3NOYW1lPVwiYWN0aXZlXCIgaHJlZj1cIi9sb2dpblwiPlNpZ24gaW48L0xpbms+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgPC9uYXY+XG59XG5cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUEzQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar NavBar_1 = __importDefault(__webpack_require__(17));\nvar PopularTags_1 = __importDefault(__webpack_require__(18));\nvar services_1 = __webpack_require__(1);\nvar ArticlePreview_1 = __importDefault(__webpack_require__(8));\nvar hooks_1 = __webpack_require__(2);\nvar Pagination_1 = __importDefault(__webpack_require__(9));\nvar preact_router_1 = __webpack_require__(5);\nfunction Home(props) {\n    var _this = this;\n    var _a = hooks_1.useState([]), articles = _a[0], setArticles = _a[1];\n    var _b = hooks_1.useState(0), articlesCount = _b[0], setArticlesCount = _b[1];\n    var _c = hooks_1.useState(1), page = _c[0], setPage = _c[1];\n    var currentActive = preact_router_1.getCurrentUrl() === \'/my-feeds\' ? \'personal\' : props.tag ? \'tag\' : \'global\';\n    var fetchFeeds = function () { return __awaiter(_this, void 0, void 0, function () {\n        var _a, _b, _c, articles_1, _d, articlesCount_1, _e, _f, articles_2, _g, articlesCount_2, _h, _j, articles_3, _k, articlesCount_3;\n        return __generator(this, function (_l) {\n            switch (_l.label) {\n                case 0:\n                    setArticles([]);\n                    setArticlesCount(0);\n                    _a = currentActive;\n                    switch (_a) {\n                        case \'global\': return [3 /*break*/, 1];\n                        case \'tag\': return [3 /*break*/, 3];\n                        case \'personal\': return [3 /*break*/, 5];\n                    }\n                    return [3 /*break*/, 7];\n                case 1: return [4 /*yield*/, services_1.getArticles(page)];\n                case 2:\n                    _b = _l.sent(), _c = _b.articles, articles_1 = _c === void 0 ? [] : _c, _d = _b.articlesCount, articlesCount_1 = _d === void 0 ? 0 : _d;\n                    setArticles(articles_1);\n                    setArticlesCount(articlesCount_1);\n                    return [3 /*break*/, 7];\n                case 3: return [4 /*yield*/, services_1.getArticlesByTag(props.tag, page)];\n                case 4:\n                    _e = _l.sent(), _f = _e.articles, articles_2 = _f === void 0 ? [] : _f, _g = _e.articlesCount, articlesCount_2 = _g === void 0 ? 0 : _g;\n                    setArticles(articles_2);\n                    setArticlesCount(articlesCount_2);\n                    return [3 /*break*/, 7];\n                case 5: return [4 /*yield*/, services_1.getFeeds(page)];\n                case 6:\n                    _h = _l.sent(), _j = _h.articles, articles_3 = _j === void 0 ? [] : _j, _k = _h.articlesCount, articlesCount_3 = _k === void 0 ? 0 : _k;\n                    setArticles(articles_3);\n                    setArticlesCount(articlesCount_3);\n                    _l.label = 7;\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); };\n    var setArticle = function (articleIndex, article) {\n        var articlesCopy = __spreadArrays(articles);\n        articlesCopy[articleIndex] = article;\n        setArticles(articlesCopy);\n    };\n    hooks_1.useEffect(function () {\n        fetchFeeds();\n    }, [page, currentActive]);\n    return (preact_1.h("div", { className: "home-page" },\n        preact_1.h("div", { className: "banner" },\n            preact_1.h("div", { className: "container" },\n                preact_1.h("h1", { className: "logo-font" }, "conduit"),\n                preact_1.h("p", null, "A place to share your knowledge."))),\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-md-9" },\n                    preact_1.h(NavBar_1.default, __assign({ currentActive: currentActive }, { tag: props.tag })),\n                    articles.map(function (article, index) { return (preact_1.h(ArticlePreview_1.default, { key: article.slug, article: article, setArticle: function (article) { return setArticle(index, article); } })); }),\n                    preact_1.h(Pagination_1.default, { count: articlesCount, page: page, setPage: setPage })),\n                preact_1.h("div", { className: "col-md-3" },\n                    preact_1.h(PopularTags_1.default, null))))));\n}\nexports.default = Home;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvSG9tZS50c3g/OTc2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IE5hdkJhciBmcm9tICcuLi9jb21wb25lbnRzL05hdkJhcidcbmltcG9ydCBQb3B1bGFyVGFncyBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVsYXJUYWdzJ1xuaW1wb3J0IHsgZ2V0QXJ0aWNsZXMsIGdldEFydGljbGVzQnlUYWcsIGdldEZlZWRzIH0gZnJvbSAnLi4vc2VydmljZXMnXG5pbXBvcnQgQXJ0aWNsZVByZXZpZXcgZnJvbSAnLi4vY29tcG9uZW50cy9BcnRpY2xlUHJldmlldydcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnXG5pbXBvcnQgUGFnaW5hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BhZ2luYXRpb24nXG5pbXBvcnQgeyBnZXRDdXJyZW50VXJsIH0gZnJvbSAncHJlYWN0LXJvdXRlcidcblxuaW50ZXJmYWNlIEhvbWVQcm9wcyB7XG4gIHRhZz86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gSG9tZShwcm9wczogSG9tZVByb3BzKSB7XG4gIGNvbnN0IFsgYXJ0aWNsZXMsIHNldEFydGljbGVzIF0gPSB1c2VTdGF0ZTxBcnRpY2xlW10+KFtdKVxuICBjb25zdCBbIGFydGljbGVzQ291bnQsIHNldEFydGljbGVzQ291bnQgXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFsgcGFnZSwgc2V0UGFnZSBdID0gdXNlU3RhdGUoMSlcblxuICBjb25zdCBjdXJyZW50QWN0aXZlID0gZ2V0Q3VycmVudFVybCgpID09PSAnL215LWZlZWRzJyA/ICdwZXJzb25hbCcgOiBwcm9wcy50YWcgPyAndGFnJyA6ICdnbG9iYWwnXG5cbiAgY29uc3QgZmV0Y2hGZWVkcyA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRBcnRpY2xlcyhbXSlcbiAgICBzZXRBcnRpY2xlc0NvdW50KDApXG5cbiAgICBzd2l0Y2ggKGN1cnJlbnRBY3RpdmUpIHtcbiAgICBjYXNlICdnbG9iYWwnOiB7XG4gICAgICBjb25zdCB7IGFydGljbGVzID0gW10sIGFydGljbGVzQ291bnQgPSAwIH0gPSBhd2FpdCBnZXRBcnRpY2xlcyhwYWdlKVxuICAgICAgc2V0QXJ0aWNsZXMoYXJ0aWNsZXMpXG4gICAgICBzZXRBcnRpY2xlc0NvdW50KGFydGljbGVzQ291bnQpXG4gICAgICBicmVha1xuICAgIH1cbiAgICBjYXNlICd0YWcnOiB7XG4gICAgICBjb25zdCB7IGFydGljbGVzID0gW10sIGFydGljbGVzQ291bnQgPSAwIH0gPSBhd2FpdCBnZXRBcnRpY2xlc0J5VGFnKHByb3BzLnRhZyEsIHBhZ2UpXG4gICAgICBzZXRBcnRpY2xlcyhhcnRpY2xlcylcbiAgICAgIHNldEFydGljbGVzQ291bnQoYXJ0aWNsZXNDb3VudClcbiAgICAgIGJyZWFrXG4gICAgfVxuICAgIGNhc2UgJ3BlcnNvbmFsJzoge1xuICAgICAgY29uc3QgeyBhcnRpY2xlcyA9IFtdLCBhcnRpY2xlc0NvdW50ID0gMCB9ID0gYXdhaXQgZ2V0RmVlZHMocGFnZSlcbiAgICAgIHNldEFydGljbGVzKGFydGljbGVzKVxuICAgICAgc2V0QXJ0aWNsZXNDb3VudChhcnRpY2xlc0NvdW50KVxuICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBzZXRBcnRpY2xlID0gKGFydGljbGVJbmRleDogbnVtYmVyLCBhcnRpY2xlOiBBcnRpY2xlKSA9PiB7XG4gICAgY29uc3QgYXJ0aWNsZXNDb3B5ID0gWyAuLi5hcnRpY2xlcyBdXG4gICAgYXJ0aWNsZXNDb3B5W2FydGljbGVJbmRleF0gPSBhcnRpY2xlXG4gICAgc2V0QXJ0aWNsZXMoYXJ0aWNsZXNDb3B5KVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaEZlZWRzKClcbiAgfSwgWyBwYWdlLCBjdXJyZW50QWN0aXZlIF0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImhvbWUtcGFnZVwiPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJhbm5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJsb2dvLWZvbnRcIj5jb25kdWl0PC9oMT5cbiAgICAgICAgICA8cD5BIHBsYWNlIHRvIHNoYXJlIHlvdXIga25vd2xlZGdlLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcGFnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtOVwiPlxuICAgICAgICAgICAgPE5hdkJhciBjdXJyZW50QWN0aXZlPXtjdXJyZW50QWN0aXZlfSB7Li4ueyB0YWc6IHByb3BzLnRhZyB9fSAvPlxuXG4gICAgICAgICAgICB7YXJ0aWNsZXMubWFwKChhcnRpY2xlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8QXJ0aWNsZVByZXZpZXcga2V5PXthcnRpY2xlLnNsdWd9IGFydGljbGU9e2FydGljbGV9IHNldEFydGljbGU9e2FydGljbGUgPT4gc2V0QXJ0aWNsZShpbmRleCwgYXJ0aWNsZSl9IC8+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgPFBhZ2luYXRpb24gY291bnQ9e2FydGljbGVzQ291bnR9IHBhZ2U9e3BhZ2V9IHNldFBhZ2U9e3NldFBhZ2V9IC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0zXCI+XG4gICAgICAgICAgICA8UG9wdWxhclRhZ3MgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7OztBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQU1BO0FBTUE7OztBQVhBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTs7QUFBQTtBQUNBO0FBQ0E7Ozs7O0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUdBO0FBQ0E7QUFPQTtBQXpFQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar store_1 = __webpack_require__(3);\nfunction NavBar(props) {\n    if (props === void 0) { props = {}; }\n    var user = store_1.useRootState()[0].user;\n    return (preact_1.h("div", { className: "feed-toggle" },\n        preact_1.h("ul", { className: "nav nav-pills outline-active" },\n            user && (preact_1.h("li", { className: "nav-item" },\n                preact_1.h("a", { className: "nav-link " + (props.currentActive === \'personal\' ? \'active\' : \'\'), href: "/my-feeds" }, "Your Feed"))),\n            preact_1.h("li", { className: "nav-item" },\n                preact_1.h("a", { className: "nav-link " + (props.currentActive === \'global\' ? \'active\' : \'\'), href: "/" }, "Global Feed")),\n            props.currentActive === \'tag\' && (preact_1.h("li", { className: "nav-item" },\n                preact_1.h("a", { className: "nav-link active", href: "/tag/" + props.tag },\n                    "# ",\n                    props.tag))))));\n}\nexports.default = NavBar;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9OYXZCYXIudHN4PzBlMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IHVzZVJvb3RTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJ1xuXG5pbnRlcmZhY2UgTmF2QmFyUHJvcHMge1xuICBjdXJyZW50QWN0aXZlPzogJ2dsb2JhbCcgfCAncGVyc29uYWwnIHwgJ3RhZyc7XG4gIHRhZz86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTmF2QmFyKHByb3BzOiBOYXZCYXJQcm9wcyA9IHt9KSB7XG4gIGNvbnN0IFsgeyB1c2VyIH0gXSA9IHVzZVJvb3RTdGF0ZSgpXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZlZWQtdG9nZ2xlXCI+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwibmF2IG5hdi1waWxscyBvdXRsaW5lLWFjdGl2ZVwiPlxuICAgICAgICB7dXNlciAmJiAoXG4gICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XG4gICAgICAgICAgICA8YSBjbGFzc05hbWU9e2BuYXYtbGluayAke3Byb3BzLmN1cnJlbnRBY3RpdmUgPT09ICdwZXJzb25hbCcgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgIGhyZWY9XCIvbXktZmVlZHNcIj5cbiAgICAgICAgICAgICAgWW91ciBGZWVkXG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC9saT5cbiAgICAgICAgKX1cbiAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XG4gICAgICAgICAgPGEgY2xhc3NOYW1lPXtgbmF2LWxpbmsgJHtwcm9wcy5jdXJyZW50QWN0aXZlID09PSAnZ2xvYmFsJyA/ICdhY3RpdmUnIDogJyd9YH0gaHJlZj1cIi9cIj5cbiAgICAgICAgICAgIEdsb2JhbCBGZWVkXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L2xpPlxuICAgICAgICB7cHJvcHMuY3VycmVudEFjdGl2ZSA9PT0gJ3RhZycgJiYgKFxuICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJuYXYtaXRlbVwiPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwibmF2LWxpbmsgYWN0aXZlXCIgaHJlZj17YC90YWcvJHtwcm9wcy50YWd9YH0+XG4gICAgICAgICAgICAgICMge3Byb3BzLnRhZ31cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L2xpPlxuICAgICAgICApfVxuICAgICAgPC91bD5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQU1BO0FBQ0E7QUFJQTtBQUVBOztBQUNBO0FBT0E7QUE3QkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nvar hooks_1 = __webpack_require__(2);\nfunction PopularTags() {\n    var _this = this;\n    var _a = hooks_1.useState([]), tags = _a[0], setTags = _a[1];\n    var fetchPopularTags = function () { return __awaiter(_this, void 0, void 0, function () {\n        var tags;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.getAllTags()];\n                case 1:\n                    tags = _a.sent();\n                    setTags(tags);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    hooks_1.useEffect(function () {\n        fetchPopularTags();\n    }, []);\n    return (preact_1.h("div", { className: "sidebar" },\n        preact_1.h("p", null, "Popular Tags"),\n        preact_1.h("div", { className: "tag-list" }, tags.map(function (tag) { return (preact_1.h("a", { key: tag, href: "/tag/" + tag, className: "tag-pill tag-default" }, tag)); }))));\n}\nexports.default = PopularTags;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Qb3B1bGFyVGFncy50c3g/YjE2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgZ2V0QWxsVGFncyB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUG9wdWxhclRhZ3MoKSB7XG4gIGNvbnN0IFsgdGFncywgc2V0VGFncyBdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKVxuXG4gIGNvbnN0IGZldGNoUG9wdWxhclRhZ3MgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdGFncyA9IGF3YWl0IGdldEFsbFRhZ3MoKVxuICAgIHNldFRhZ3ModGFncylcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgZmV0Y2hQb3B1bGFyVGFncygpXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzaWRlYmFyXCI+XG4gICAgICA8cD5Qb3B1bGFyIFRhZ3M8L3A+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFnLWxpc3RcIj5cbiAgICAgICAge3RhZ3MubWFwKHRhZyA9PiAoXG4gICAgICAgICAgPGEga2V5PXt0YWd9IGhyZWY9e2AvdGFnLyR7dGFnfWB9IGNsYXNzTmFtZT1cInRhZy1waWxsIHRhZy1kZWZhdWx0XCI+e3RhZ308L2E+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFFQTs7OztBQUNBOztBQUFBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQU9BO0FBdkJBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar preact_router_1 = __webpack_require__(5);\nvar hooks_1 = __webpack_require__(2);\nvar store_1 = __webpack_require__(3);\nvar actions_1 = __webpack_require__(20);\nfunction Register() {\n    var _this = this;\n    var formRef = preact_1.createRef();\n    var _a = store_1.useRootState(), _b = _a[0], user = _b.user, errors = _b.errors, dispatch = _a[1];\n    var _c = hooks_1.useState({\n        email: \'\',\n        password: \'\',\n    }), form = _c[0], setForm = _c[1];\n    var onLogin = function (event) { return __awaiter(_this, void 0, void 0, function () {\n        var _a;\n        var _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    event.preventDefault();\n                    if (!((_b = formRef.current) === null || _b === void 0 ? void 0 : _b.checkValidity()))\n                        return [2 /*return*/];\n                    _a = dispatch;\n                    return [4 /*yield*/, actions_1.login(form)];\n                case 1:\n                    _a.apply(void 0, [_c.sent()]);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    // route to home page after user logged\n    hooks_1.useEffect(function () {\n        if (user)\n            preact_router_1.route(\'/\');\n    }, [user]);\n    return (preact_1.h("div", { className: "auth-page" },\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-md-6 offset-md-3 col-xs-12" },\n                    preact_1.h("h1", { className: "text-xs-center" }, "Sign in"),\n                    preact_1.h("p", { className: "text-xs-center" },\n                        preact_1.h(preact_router_1.Link, { href: "/register" }, "Need an account?")),\n                    preact_1.h("ul", { className: "error-messages" }, Object.entries(errors || {}).map(function (_a) {\n                        var field = _a[0], errors = _a[1];\n                        return (preact_1.h("li", { key: field },\n                            field,\n                            " ",\n                            errors[0]));\n                    })),\n                    preact_1.h("form", { ref: formRef, onSubmit: onLogin },\n                        preact_1.h("fieldset", { className: "form-group", "aria-required": true },\n                            preact_1.h("input", { value: form.email, className: "form-control form-control-lg", type: "email", required: true, placeholder: "Email", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { email: e.currentTarget.value })); }); } })),\n                        preact_1.h("fieldset", { className: "form-group" },\n                            preact_1.h("input", { value: form.password, className: "form-control form-control-lg", type: "password", required: true, placeholder: "Password", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { password: e.currentTarget.value })); }); } })),\n                        preact_1.h("button", { className: "btn btn-lg btn-primary pull-xs-right", disabled: !form.email || !form.password, type: "submit" }, "Sign in")))))));\n}\nexports.default = Register;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvTG9naW4udHN4Pzc4OTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUmVmLCBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgTGluaywgcm91dGUgfSBmcm9tICdwcmVhY3Qtcm91dGVyJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcbmltcG9ydCB7IHVzZVJvb3RTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJ1xuaW1wb3J0IHsgbG9naW4gfSBmcm9tICcuLi9zdG9yZS9hY3Rpb25zJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBSZWdpc3RlcigpIHtcbiAgY29uc3QgZm9ybVJlZiA9IGNyZWF0ZVJlZjxIVE1MRm9ybUVsZW1lbnQ+KClcbiAgY29uc3QgWyB7IHVzZXIsIGVycm9ycyB9LCBkaXNwYXRjaCBdID0gdXNlUm9vdFN0YXRlKClcbiAgY29uc3QgWyBmb3JtLCBzZXRGb3JtIF0gPSB1c2VTdGF0ZSh7XG4gICAgZW1haWw6ICcnLFxuICAgIHBhc3N3b3JkOiAnJyxcbiAgfSlcblxuICBjb25zdCBvbkxvZ2luID0gYXN5bmMgKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICBpZiAoIWZvcm1SZWYuY3VycmVudD8uY2hlY2tWYWxpZGl0eSgpKSByZXR1cm5cblxuICAgIGRpc3BhdGNoKGF3YWl0IGxvZ2luKGZvcm0pKVxuICB9XG5cbiAgLy8gcm91dGUgdG8gaG9tZSBwYWdlIGFmdGVyIHVzZXIgbG9nZ2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHVzZXIpIHJvdXRlKCcvJylcbiAgfSwgWyB1c2VyIF0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImF1dGgtcGFnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcGFnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBvZmZzZXQtbWQtMyBjb2wteHMtMTJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LXhzLWNlbnRlclwiPlNpZ24gaW48L2gxPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9yZWdpc3RlclwiPk5lZWQgYW4gYWNjb3VudD88L0xpbms+XG4gICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlc1wiPlxuICAgICAgICAgICAgICB7T2JqZWN0LmVudHJpZXMoZXJyb3JzIHx8IHt9KS5tYXAoKFsgZmllbGQsIGVycm9ycyBdKSA9PiAoXG4gICAgICAgICAgICAgICAgPGxpIGtleT17ZmllbGR9PntmaWVsZH0ge2Vycm9yc1swXX08L2xpPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICAgIDxmb3JtIHJlZj17Zm9ybVJlZn0gb25TdWJtaXQ9e29uTG9naW59PlxuICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiIGFyaWEtcmVxdWlyZWQ+XG4gICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLmVtYWlsfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZ1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW1haWxcIlxuICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRGb3JtKHByZXYgPT4gKHsgLi4ucHJldiwgZW1haWw6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZ1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRGb3JtKHByZXYgPT4gKHsgLi4ucHJldiwgcGFzc3dvcmQ6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBwdWxsLXhzLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWZvcm0uZW1haWwgfHwgIWZvcm0ucGFzc3dvcmR9XG4gICAgICAgICAgICAgICAgdHlwZT1cInN1Ym1pdFwiPlxuICAgICAgICAgICAgICAgIFNpZ24gaW5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBOztBQUFBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQURBO0FBS0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQU9BO0FBYUE7QUFuRUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nexports.login = void 0;\nvar services_1 = __webpack_require__(1);\nvar constants_1 = __webpack_require__(4);\nexports.login = function (form) { return __awaiter(void 0, void 0, void 0, function () {\n    var user, e_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                _a.trys.push([0, 2, , 3]);\n                return [4 /*yield*/, services_1.postLogin(form)];\n            case 1:\n                user = _a.sent();\n                return [2 /*return*/, {\n                        type: constants_1.UPDATE_USER,\n                        user: user,\n                    }];\n            case 2:\n                e_1 = _a.sent();\n                return [2 /*return*/, {\n                        type: constants_1.SET_ERRORS,\n                        errors: e_1.errors,\n                    }];\n            case 3: return [2 /*return*/];\n        }\n    });\n}); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvYWN0aW9ucy50cz9mYzYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvc3RMb2dpbiwgUG9zdExvZ2luRm9ybSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgU0VUX0VSUk9SUywgVVBEQVRFX1VTRVIgfSBmcm9tICcuL2NvbnN0YW50cydcblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gYXN5bmMgKGZvcm06IFBvc3RMb2dpbkZvcm0pOiBQcm9taXNlPEFjdGlvbj4gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwb3N0TG9naW4oZm9ybSlcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogVVBEQVRFX1VTRVIsXG4gICAgICB1c2VyLFxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBTRVRfRVJST1JTLFxuICAgICAgZXJyb3JzOiBlLmVycm9ycyxcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBOzs7Ozs7QUFFQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n')},function(module,exports,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nvar preact_router_1 = __webpack_require__(5);\nvar hooks_1 = __webpack_require__(2);\nfunction Register() {\n    var _this = this;\n    var formRef = preact_1.createRef();\n    var _a = hooks_1.useState({}), errors = _a[0], setErrors = _a[1];\n    var _b = hooks_1.useState({\n        username: \'\',\n        email: \'\',\n        password: \'\',\n    }), form = _b[0], setForm = _b[1];\n    var onRegister = function () { return __awaiter(_this, void 0, void 0, function () {\n        var user, e_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!((_a = formRef.current) === null || _a === void 0 ? void 0 : _a.checkValidity()))\n                        return [2 /*return*/];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, services_1.postRegister(form)];\n                case 2:\n                    user = _b.sent();\n                    global.localStorage.setItem(\'token\', JSON.stringify(user));\n                    preact_router_1.route(\'/\');\n                    return [3 /*break*/, 4];\n                case 3:\n                    e_1 = _b.sent();\n                    setErrors(e_1.errors);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (preact_1.h("div", { className: "auth-page" },\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-md-6 offset-md-3 col-xs-12" },\n                    preact_1.h("h1", { className: "text-xs-center" }, "Sign up"),\n                    preact_1.h("p", { className: "text-xs-center" },\n                        preact_1.h("a", { href: "/login" }, "Have an account?")),\n                    preact_1.h("ul", { className: "error-messages" }, Object.entries(errors || {}).map(function (_a) {\n                        var field = _a[0], errors = _a[1];\n                        return preact_1.h("li", { key: field },\n                            field,\n                            " ",\n                            errors[0]);\n                    })),\n                    preact_1.h("form", { ref: formRef },\n                        preact_1.h("fieldset", { className: "form-group" },\n                            preact_1.h("input", { className: "form-control form-control-lg", type: "text", placeholder: "Your Name", value: form.username, onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { username: e.currentTarget.value })); }); } })),\n                        preact_1.h("fieldset", { className: "form-group" },\n                            preact_1.h("input", { className: "form-control form-control-lg", type: "email", placeholder: "Email", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { email: e.currentTarget.value })); }); }, value: form.email })),\n                        preact_1.h("fieldset", { className: "form-group" },\n                            preact_1.h("input", { className: "form-control form-control-lg", type: "password", minLength: 8, placeholder: "Password", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { password: e.currentTarget.value })); }); }, value: form.password })),\n                        preact_1.h("button", { className: "btn btn-lg btn-primary pull-xs-right", disabled: !(form.email && form.username && form.password), onClick: onRegister }, "Sign up")))))));\n}\nexports.default = Register;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(7)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUmVnaXN0ZXIudHN4PzI5YTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUmVmLCBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgcG9zdFJlZ2lzdGVyIH0gZnJvbSAnLi4vc2VydmljZXMnXG5pbXBvcnQgeyByb3V0ZSB9IGZyb20gJ3ByZWFjdC1yb3V0ZXInXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUmVnaXN0ZXIoKSB7XG4gIGNvbnN0IGZvcm1SZWYgPSBjcmVhdGVSZWY8SFRNTEZvcm1FbGVtZW50PigpXG4gIGNvbnN0IFsgZXJyb3JzLCBzZXRFcnJvcnMgXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPj4oe30pXG4gIGNvbnN0IFsgZm9ybSwgc2V0Rm9ybSBdID0gdXNlU3RhdGUoe1xuICAgIHVzZXJuYW1lOiAnJyxcbiAgICBlbWFpbDogJycsXG4gICAgcGFzc3dvcmQ6ICcnLFxuICB9KVxuXG4gIGNvbnN0IG9uUmVnaXN0ZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFmb3JtUmVmLmN1cnJlbnQ/LmNoZWNrVmFsaWRpdHkoKSkgcmV0dXJuXG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHBvc3RSZWdpc3Rlcihmb3JtKVxuICAgICAgZ2xvYmFsLmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIEpTT04uc3RyaW5naWZ5KHVzZXIpKVxuICAgICAgcm91dGUoJy8nKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldEVycm9ycyhlLmVycm9ycylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiYXV0aC1wYWdlXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBwYWdlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC02IG9mZnNldC1tZC0zIGNvbC14cy0xMlwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteHMtY2VudGVyXCI+U2lnbiB1cDwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8YSBocmVmPVwiL2xvZ2luXCI+SGF2ZSBhbiBhY2NvdW50PzwvYT5cbiAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VzXCI+XG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhlcnJvcnMgfHwge30pLm1hcCgoWyBmaWVsZCwgZXJyb3JzIF0pID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiA8bGkga2V5PXtmaWVsZH0+e2ZpZWxkfSB7ZXJyb3JzWzBdfTwvbGk+XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC91bD5cblxuICAgICAgICAgICAgPGZvcm0gcmVmPXtmb3JtUmVmfT5cbiAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZ1wiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIllvdXIgTmFtZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybS51c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIHVzZXJuYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSkpfSAvPlxuICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWxnXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCJcbiAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIGVtYWlsOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSkpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2Zvcm0uZW1haWx9IC8+XG4gICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtbGdcIlxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aD17OH1cbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRGb3JtKHByZXYgPT4gKHsgLi4ucHJldiwgcGFzc3dvcmQ6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17Zm9ybS5wYXNzd29yZH0gLz5cbiAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLWxnIGJ0bi1wcmltYXJ5IHB1bGwteHMtcmlnaHRcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXshKGZvcm0uZW1haWwgJiYgZm9ybS51c2VybmFtZSAmJiBmb3JtLnBhc3N3b3JkKX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlZ2lzdGVyfT5cbiAgICAgICAgICAgICAgICBTaWduIHVwXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9mb3JtPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUNBO0FBQUE7Ozs7QUFHQTs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFFQTs7Ozs7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQUE7O0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBT0E7QUFZQTtBQTNFQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar store_1 = __webpack_require__(3);\nvar hooks_1 = __webpack_require__(2);\nvar preact_router_1 = __webpack_require__(5);\nvar services_1 = __webpack_require__(1);\nvar constants_1 = __webpack_require__(4);\nfunction Settings() {\n    var _a = store_1.useRootState(), user = _a[0].user, dispatch = _a[1];\n    var _b = hooks_1.useState({}), form = _b[0], setForm = _b[1];\n    function onLogout() {\n        dispatch({ type: constants_1.UPDATE_USER });\n    }\n    function onSubmit() {\n        return __awaiter(this, void 0, void 0, function () {\n            var filteredForm, profile;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        filteredForm = Object.entries(form).reduce(function (a, _a) {\n                            var _b;\n                            var k = _a[0], v = _a[1];\n                            return (v == null ? a : __assign(__assign({}, a), (_b = {}, _b[k] = v, _b)));\n                        }, {});\n                        return [4 /*yield*/, services_1.putProfile(filteredForm)];\n                    case 1:\n                        profile = _a.sent();\n                        dispatch({ type: constants_1.UPDATE_USER, user: profile });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    hooks_1.useEffect(function () {\n        if (!user) {\n            preact_router_1.route(\'/login\');\n        }\n        else {\n            setForm({\n                image: user.image || undefined,\n                username: user.username || undefined,\n                bio: user.bio || undefined,\n                email: user.email || undefined,\n            });\n        }\n    }, [user]);\n    if (!user)\n        return null;\n    var buttonDisabled = form.image == user.image\n        && form.username == user.username\n        && form.email == user.email\n        && form.bio == user.bio\n        && !form.password;\n    return (preact_1.h("div", { className: "settings-page" },\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-md-6 offset-md-3 col-xs-12" },\n                    preact_1.h("h1", { className: "text-xs-center" }, "Your Settings"),\n                    preact_1.h("form", null,\n                        preact_1.h("fieldset", null,\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.image, className: "form-control", type: "text", placeholder: "URL of profile picture", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { image: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.username, className: "form-control form-control-lg", type: "text", placeholder: "Your Name", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { username: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("textarea", { value: form.bio, className: "form-control form-control-lg", rows: 8, placeholder: "Short bio about you", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { bio: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.email, className: "form-control form-control-lg", type: "email", placeholder: "Email", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { email: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.password, className: "form-control form-control-lg", type: "password", placeholder: "Password", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { password: e.currentTarget.value })); }); } })),\n                            preact_1.h("button", { className: "btn btn-lg btn-primary pull-xs-right", disabled: buttonDisabled, onClick: onSubmit }, "Update Settings"))),\n                    preact_1.h("hr", null),\n                    preact_1.h("button", { className: "btn btn-outline-danger", onClick: onLogout }, "Or click here to logout."))))));\n}\nexports.default = Settings;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvU2V0dGluZ3MudHN4PzA4NTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IHVzZVJvb3RTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcbmltcG9ydCB7IHJvdXRlIH0gZnJvbSAncHJlYWN0LXJvdXRlcidcbmltcG9ydCB7IHB1dFByb2ZpbGUgfSBmcm9tICcuLi9zZXJ2aWNlcydcbmltcG9ydCB7IFVQREFURV9VU0VSIH0gZnJvbSAnLi4vc3RvcmUvY29uc3RhbnRzJ1xuXG5pbnRlcmZhY2UgRm9ybVN0YXRlIHtcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gIGJpbz86IHN0cmluZztcbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwYXNzd29yZD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2V0dGluZ3MoKSB7XG4gIGNvbnN0IFsgeyB1c2VyIH0sIGRpc3BhdGNoIF0gPSB1c2VSb290U3RhdGUoKVxuICBjb25zdCBbIGZvcm0sIHNldEZvcm0gXSA9IHVzZVN0YXRlPEZvcm1TdGF0ZT4oe30pXG5cbiAgZnVuY3Rpb24gb25Mb2dvdXQoKSB7XG4gICAgZGlzcGF0Y2goeyB0eXBlOiBVUERBVEVfVVNFUiB9KVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gb25TdWJtaXQoKSB7XG4gICAgLy8gZmlsdGVyIGVtcHR5IGZpZWxkcyBmcm9tIGZvcm1cbiAgICBjb25zdCBmaWx0ZXJlZEZvcm0gPSBPYmplY3QuZW50cmllcyhmb3JtKS5yZWR1Y2UoKGEsIFsgaywgdiBdKSA9PiAodiA9PSBudWxsID8gYSA6IHsgLi4uYSwgW2tdOiB2IH0pLCB7fSlcbiAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgcHV0UHJvZmlsZShmaWx0ZXJlZEZvcm0pXG4gICAgZGlzcGF0Y2goeyB0eXBlOiBVUERBVEVfVVNFUiwgdXNlcjogcHJvZmlsZSB9KVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXVzZXIpIHtyb3V0ZSgnL2xvZ2luJyl9IGVsc2Uge1xuICAgICAgc2V0Rm9ybSh7XG4gICAgICAgIGltYWdlOiB1c2VyLmltYWdlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfHwgdW5kZWZpbmVkLFxuICAgICAgICBiaW86IHVzZXIuYmlvIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZW1haWw6IHVzZXIuZW1haWwgfHwgdW5kZWZpbmVkLFxuICAgICAgfSlcbiAgICB9XG4gIH0sIFsgdXNlciBdKVxuXG4gIGlmICghdXNlcikgcmV0dXJuIG51bGxcblxuICBjb25zdCBidXR0b25EaXNhYmxlZCA9IGZvcm0uaW1hZ2UgPT0gdXNlci5pbWFnZVxuICAgICYmIGZvcm0udXNlcm5hbWUgPT0gdXNlci51c2VybmFtZVxuICAgICYmIGZvcm0uZW1haWwgPT0gdXNlci5lbWFpbFxuICAgICYmIGZvcm0uYmlvID09IHVzZXIuYmlvXG4gICAgJiYgIWZvcm0ucGFzc3dvcmRcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwic2V0dGluZ3MtcGFnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcGFnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtNiBvZmZzZXQtbWQtMyBjb2wteHMtMTJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LXhzLWNlbnRlclwiPllvdXIgU2V0dGluZ3M8L2gxPlxuXG4gICAgICAgICAgICA8Zm9ybT5cbiAgICAgICAgICAgICAgPGZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdmFsdWU9e2Zvcm0uaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVUkwgb2YgcHJvZmlsZSBwaWN0dXJlXCJcbiAgICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRGb3JtKHByZXYgPT4gKHsgLi4ucHJldiwgaW1hZ2U6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIllvdXIgTmFtZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIHVzZXJuYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSkpfSAvPlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSB2YWx1ZT17Zm9ybS5iaW99XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtbGdcIlxuICAgICAgICAgICAgICAgICAgICByb3dzPXs4fVxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNob3J0IGJpbyBhYm91dCB5b3VcIlxuICAgICAgICAgICAgICAgICAgICBvbklucHV0PXtlID0+IHNldEZvcm0ocHJldiA9PiAoeyAuLi5wcmV2LCBiaW86IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLmVtYWlsfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIGVtYWlsOiBlLmN1cnJlbnRUYXJnZXQudmFsdWUgfSkpfSAvPlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17Zm9ybS5wYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sIGZvcm0tY29udHJvbC1sZ1wiXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICBvbklucHV0PXtlID0+IHNldEZvcm0ocHJldiA9PiAoeyAuLi5wcmV2LCBwYXNzd29yZDogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pKX0gLz5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1sZyBidG4tcHJpbWFyeSBwdWxsLXhzLXJpZ2h0XCIgZGlzYWJsZWQ9e2J1dHRvbkRpc2FibGVkfSBvbkNsaWNrPXtvblN1Ym1pdH0+XG4gICAgICAgICAgICAgICAgICBVcGRhdGUgU2V0dGluZ3NcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgIDwvZm9ybT5cblxuICAgICAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGJ0bi1vdXRsaW5lLWRhbmdlclwiIG9uQ2xpY2s9e29uTG9nb3V0fT5PciBjbGljayBoZXJlIHRvIGxvZ291dC48L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUVBOztBQUFBO0FBQUE7QUFBQTtBQUNBOztBQUFBO0FBQ0E7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBTUE7QUFFQTtBQU1BO0FBN0ZBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nvar hooks_1 = __webpack_require__(2);\nvar ArticleMeta_1 = __importDefault(__webpack_require__(24));\nvar ArticleCommentCard_1 = __importDefault(__webpack_require__(25));\nvar store_1 = __webpack_require__(3);\nvar constants_1 = __webpack_require__(4);\nfunction ArticlePage(props) {\n    var _this = this;\n    var slug = props.slug;\n    var _a = hooks_1.useState({ author: {} }), article = _a[0], setArticle = _a[1];\n    var _b = hooks_1.useState([]), comments = _b[0], setComments = _b[1];\n    var _c = hooks_1.useState(\'\'), commentBody = _c[0], setCommentBody = _c[1];\n    var user = store_1.useRootState()[0].user;\n    var fetchArticle = function () { return __awaiter(_this, void 0, void 0, function () {\n        var article;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.getArticle(slug)];\n                case 1:\n                    article = _a.sent();\n                    setArticle(article);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var fetchComments = function () { return __awaiter(_this, void 0, void 0, function () {\n        var comments;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.getCommentsByArticle(slug)];\n                case 1:\n                    comments = _a.sent();\n                    setComments(comments);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var onDeleteComment = function (commentId) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.deleteComment(slug, commentId)];\n                case 1:\n                    _a.sent();\n                    setComments(function (prevState) { return prevState.filter(function (c) { return c.id !== commentId; }); });\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var onPostComment = function () { return __awaiter(_this, void 0, void 0, function () {\n        var comment;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.postComment(slug, commentBody)];\n                case 1:\n                    comment = _a.sent();\n                    setCommentBody(\'\');\n                    setComments(function (prevComments) { return __spreadArrays([comment], prevComments); });\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    hooks_1.useEffect(function () {\n        (function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0: return [4 /*yield*/, fetchArticle()];\n                        case 1:\n                            _a.sent();\n                            return [4 /*yield*/, fetchComments()];\n                        case 2:\n                            _a.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        })();\n    }, [slug]);\n    return (preact_1.h("div", { className: "article-page" },\n        preact_1.h("div", { className: "banner" },\n            preact_1.h("div", { className: "container" },\n                preact_1.h("h1", null, article.title),\n                preact_1.h(ArticleMeta_1.default, { article: article, setArticle: setArticle }))),\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row article-content" },\n                preact_1.h("div", { className: "col-md-12" }, article.body)),\n            preact_1.h("hr", null),\n            preact_1.h("div", { className: "article-actions" },\n                preact_1.h(ArticleMeta_1.default, { article: article, setArticle: setArticle })),\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-xs-12 col-md-8 offset-md-2" },\n                    preact_1.h("form", { className: "card comment-form" },\n                        preact_1.h("div", { className: "card-block" },\n                            preact_1.h("textarea", { value: commentBody, className: "form-control", placeholder: "Write a comment...", rows: 3, onInput: function (e) { return setCommentBody(e.currentTarget.value); } })),\n                        preact_1.h("div", { className: "card-footer" },\n                            preact_1.h("img", { src: (user === null || user === void 0 ? void 0 : user.image) || constants_1.DEFAULT_AVATAR, className: "comment-author-img" }),\n                            preact_1.h("button", { className: "btn btn-sm btn-primary", onClick: onPostComment }, "Post Comment"))),\n                    comments.map(function (comment) { return (preact_1.h(ArticleCommentCard_1.default, { key: comment.id, comment: comment, onDelete: onDeleteComment })); }))))));\n}\nexports.default = ArticlePage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvQXJ0aWNsZVBhZ2UudHN4P2ZhNzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IGRlbGV0ZUNvbW1lbnQsIGdldEFydGljbGUsIGdldENvbW1lbnRzQnlBcnRpY2xlLCBwb3N0Q29tbWVudCB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcbmltcG9ydCBBcnRpY2xlTWV0YSBmcm9tICcuLi9jb21wb25lbnRzL0FydGljbGVNZXRhJ1xuaW1wb3J0IEFydGljbGVDb21tZW50Q2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0FydGljbGVDb21tZW50Q2FyZCdcbmltcG9ydCB7IHVzZVJvb3RTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJ1xuaW1wb3J0IHsgREVGQVVMVF9BVkFUQVIgfSBmcm9tICcuLi9zdG9yZS9jb25zdGFudHMnXG5cbmludGVyZmFjZSBBcnRpY2xlUGFnZVByb3BzIHtcbiAgc2x1Zzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcnRpY2xlUGFnZShwcm9wczogQXJ0aWNsZVBhZ2VQcm9wcykge1xuICBjb25zdCB7IHNsdWcgfSA9IHByb3BzXG4gIGNvbnN0IFsgYXJ0aWNsZSwgc2V0QXJ0aWNsZSBdID0gdXNlU3RhdGUoeyBhdXRob3I6IHt9IH0gYXMgQXJ0aWNsZSlcbiAgY29uc3QgWyBjb21tZW50cywgc2V0Q29tbWVudHMgXSA9IHVzZVN0YXRlPEFydGljbGVDb21tZW50W10+KFtdKVxuICBjb25zdCBbIGNvbW1lbnRCb2R5LCBzZXRDb21tZW50Qm9keSBdID0gdXNlU3RhdGUoJycpXG4gIGNvbnN0IFsgeyB1c2VyIH0gXSA9IHVzZVJvb3RTdGF0ZSgpXG5cbiAgY29uc3QgZmV0Y2hBcnRpY2xlID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFydGljbGUgPSBhd2FpdCBnZXRBcnRpY2xlKHNsdWcpXG4gICAgc2V0QXJ0aWNsZShhcnRpY2xlKVxuICB9XG5cbiAgY29uc3QgZmV0Y2hDb21tZW50cyA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IGdldENvbW1lbnRzQnlBcnRpY2xlKHNsdWcpXG4gICAgc2V0Q29tbWVudHMoY29tbWVudHMpXG4gIH1cblxuICBjb25zdCBvbkRlbGV0ZUNvbW1lbnQgPSBhc3luYyAoY29tbWVudElkOiBudW1iZXIpID0+IHtcbiAgICBhd2FpdCBkZWxldGVDb21tZW50KHNsdWcsIGNvbW1lbnRJZClcbiAgICBzZXRDb21tZW50cyhwcmV2U3RhdGUgPT4gcHJldlN0YXRlLmZpbHRlcihjID0+IGMuaWQgIT09IGNvbW1lbnRJZCkpXG4gIH1cblxuICBjb25zdCBvblBvc3RDb21tZW50ID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCBwb3N0Q29tbWVudChzbHVnLCBjb21tZW50Qm9keSlcbiAgICBzZXRDb21tZW50Qm9keSgnJylcbiAgICBzZXRDb21tZW50cyhwcmV2Q29tbWVudHMgPT4gWyBjb21tZW50LCAuLi5wcmV2Q29tbWVudHMgXSlcbiAgfVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGF3YWl0IGZldGNoQXJ0aWNsZSgpXG4gICAgICBhd2FpdCBmZXRjaENvbW1lbnRzKClcbiAgICB9KSgpXG4gIH0sIFsgc2x1ZyBdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhcnRpY2xlLXBhZ2VcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmFubmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgICAgPGgxPnthcnRpY2xlLnRpdGxlfTwvaDE+XG4gICAgICAgICAgPEFydGljbGVNZXRhIGFydGljbGU9e2FydGljbGV9IHNldEFydGljbGU9e3NldEFydGljbGV9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIHBhZ2VcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBhcnRpY2xlLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAge2FydGljbGUuYm9keX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGhyIC8+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhcnRpY2xlLWFjdGlvbnNcIj5cbiAgICAgICAgICA8QXJ0aWNsZU1ldGEgYXJ0aWNsZT17YXJ0aWNsZX0gc2V0QXJ0aWNsZT17c2V0QXJ0aWNsZX0gLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtOCBvZmZzZXQtbWQtMlwiPlxuICAgICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwiY2FyZCBjb21tZW50LWZvcm1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIHZhbHVlPXtjb21tZW50Qm9keX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldyaXRlIGEgY29tbWVudC4uLlwiXG4gICAgICAgICAgICAgICAgICByb3dzPXszfVxuICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRDb21tZW50Qm9keShlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXt1c2VyPy5pbWFnZSB8fCBERUZBVUxUX0FWQVRBUn1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvbW1lbnQtYXV0aG9yLWltZ1wiIC8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gYnRuLXNtIGJ0bi1wcmltYXJ5XCIgb25DbGljaz17b25Qb3N0Q29tbWVudH0+XG4gICAgICAgICAgICAgICAgICBQb3N0IENvbW1lbnRcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Zvcm0+XG5cbiAgICAgICAgICAgIHtjb21tZW50cy5tYXAoKGNvbW1lbnQpID0+IChcbiAgICAgICAgICAgICAgPEFydGljbGVDb21tZW50Q2FyZCBrZXk9e2NvbW1lbnQuaWR9XG4gICAgICAgICAgICAgICAgY29tbWVudD17Y29tbWVudH1cbiAgICAgICAgICAgICAgICBvbkRlbGV0ZT17b25EZWxldGVDb21tZW50fSAvPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFDQTs7OztBQUNBO0FBRUE7Ozs7QUFDQTs7QUFBQTtBQUNBOzs7O0FBQ0E7QUFFQTs7O0FBQ0E7O0FBQUE7QUFDQTs7OztBQUNBO0FBRUE7Ozs7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7Ozs7QUFDQTs7QUFBQTtBQUNBOztBQUFBOzs7OztBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBS0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFFQTtBQU1BO0FBVUE7QUF2RkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///23\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar filters_1 = __webpack_require__(10);\nvar constants_1 = __webpack_require__(4);\nvar services_1 = __webpack_require__(1);\nfunction ArticleMeta(props) {\n    var _this = this;\n    var article = props.article, _a = props.setArticle, setArticle = _a === void 0 ? function () { return void {}; } : _a;\n    var onFollowProfile = function () { return __awaiter(_this, void 0, void 0, function () {\n        var profile, profile;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!article.author.following) return [3 /*break*/, 2];\n                    return [4 /*yield*/, services_1.deleteFollowProfile(article.author.username)];\n                case 1:\n                    profile = _a.sent();\n                    setArticle(__assign(__assign({}, article), { author: profile }));\n                    return [3 /*break*/, 4];\n                case 2: return [4 /*yield*/, services_1.postFollowProfile(article.author.username)];\n                case 3:\n                    profile = _a.sent();\n                    setArticle(__assign(__assign({}, article), { author: profile }));\n                    _a.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var onFavoriteArticle = function () { return __awaiter(_this, void 0, void 0, function () {\n        var newArticle, newArticle;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!article.favorited) return [3 /*break*/, 2];\n                    return [4 /*yield*/, services_1.deleteFavoriteArticle(article.slug)];\n                case 1:\n                    newArticle = _a.sent();\n                    setArticle(newArticle);\n                    return [3 /*break*/, 4];\n                case 2: return [4 /*yield*/, services_1.postFavoriteArticle(article.slug)];\n                case 3:\n                    newArticle = _a.sent();\n                    setArticle(newArticle);\n                    _a.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    var followButtonClass = article.author.following ? \'btn-secondary\' : \'btn-outline-secondary\';\n    var favoriteButtonClass = article.favorited ? \'btn-primary\' : \'btn-outline-primary\';\n    return (preact_1.h("div", { className: "article-meta" },\n        preact_1.h("a", { href: "/@" + article.author.username },\n            preact_1.h("img", { src: article.author.image || constants_1.DEFAULT_AVATAR })),\n        preact_1.h("div", { className: "info" },\n            preact_1.h("a", { href: "/@" + article.author.username, className: "author" }, article.author.username),\n            preact_1.h("span", { className: "date" }, filters_1.dateFilter(article.createdAt))),\n        preact_1.h("button", { className: "btn btn-sm " + followButtonClass, onClick: onFollowProfile },\n            preact_1.h("i", { className: "ion-plus-round" }),\n            " ",\n            article.author.following ? \'Unfollow\' : \'Follow\',\n            " ",\n            article.author.username),\n        "\\u00A0\\u00A0",\n        preact_1.h("button", { className: "btn btn-sm " + favoriteButtonClass, onClick: onFavoriteArticle },\n            preact_1.h("i", { className: "ion-heart" }),\n            "\\u00A0 Favorite Post ",\n            preact_1.h("span", { className: "counter" },\n                "(",\n                article.favoritesCount,\n                ")"))));\n}\nexports.default = ArticleMeta;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BcnRpY2xlTWV0YS50c3g/ZGM1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgZGF0ZUZpbHRlciB9IGZyb20gJy4uL3V0aWxzL2ZpbHRlcnMnXG5pbXBvcnQgeyBERUZBVUxUX0FWQVRBUiB9IGZyb20gJy4uL3N0b3JlL2NvbnN0YW50cydcbmltcG9ydCB7IGRlbGV0ZUZhdm9yaXRlQXJ0aWNsZSwgZGVsZXRlRm9sbG93UHJvZmlsZSwgcG9zdEZhdm9yaXRlQXJ0aWNsZSwgcG9zdEZvbGxvd1Byb2ZpbGUgfSBmcm9tICcuLi9zZXJ2aWNlcydcblxuaW50ZXJmYWNlIEFydGljbGVNZXRhUHJvcHMge1xuICBhcnRpY2xlOiBBcnRpY2xlO1xuICBzZXRBcnRpY2xlPzogKGFydGljbGU6IEFydGljbGUpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEFydGljbGVNZXRhKHByb3BzOiBBcnRpY2xlTWV0YVByb3BzKSB7XG4gIGNvbnN0IHsgYXJ0aWNsZSwgc2V0QXJ0aWNsZSA9ICgpID0+IHZvaWQge30gfSA9IHByb3BzXG5cbiAgY29uc3Qgb25Gb2xsb3dQcm9maWxlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChhcnRpY2xlLmF1dGhvci5mb2xsb3dpbmcpIHtcbiAgICAgIGNvbnN0IHByb2ZpbGUgPSBhd2FpdCBkZWxldGVGb2xsb3dQcm9maWxlKGFydGljbGUuYXV0aG9yLnVzZXJuYW1lKVxuICAgICAgc2V0QXJ0aWNsZSh7IC4uLmFydGljbGUsIGF1dGhvcjogcHJvZmlsZSB9KVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcm9maWxlID0gYXdhaXQgcG9zdEZvbGxvd1Byb2ZpbGUoYXJ0aWNsZS5hdXRob3IudXNlcm5hbWUpXG4gICAgICBzZXRBcnRpY2xlKHsgLi4uYXJ0aWNsZSwgYXV0aG9yOiBwcm9maWxlIH0pXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgb25GYXZvcml0ZUFydGljbGUgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGFydGljbGUuZmF2b3JpdGVkKSB7XG4gICAgICBjb25zdCBuZXdBcnRpY2xlID0gYXdhaXQgZGVsZXRlRmF2b3JpdGVBcnRpY2xlKGFydGljbGUuc2x1ZylcbiAgICAgIHNldEFydGljbGUobmV3QXJ0aWNsZSlcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbmV3QXJ0aWNsZSA9IGF3YWl0IHBvc3RGYXZvcml0ZUFydGljbGUoYXJ0aWNsZS5zbHVnKVxuICAgICAgc2V0QXJ0aWNsZShuZXdBcnRpY2xlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZvbGxvd0J1dHRvbkNsYXNzID0gYXJ0aWNsZS5hdXRob3IuZm9sbG93aW5nID8gJ2J0bi1zZWNvbmRhcnknIDogJ2J0bi1vdXRsaW5lLXNlY29uZGFyeSdcbiAgY29uc3QgZmF2b3JpdGVCdXR0b25DbGFzcyA9IGFydGljbGUuZmF2b3JpdGVkID8gJ2J0bi1wcmltYXJ5JyA6ICdidG4tb3V0bGluZS1wcmltYXJ5J1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJhcnRpY2xlLW1ldGFcIj5cbiAgICAgIDxhIGhyZWY9e2AvQCR7YXJ0aWNsZS5hdXRob3IudXNlcm5hbWV9YH0+PGltZyBzcmM9e2FydGljbGUuYXV0aG9yLmltYWdlIHx8IERFRkFVTFRfQVZBVEFSfSAvPjwvYT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5mb1wiPlxuICAgICAgICA8YSBocmVmPXtgL0Ake2FydGljbGUuYXV0aG9yLnVzZXJuYW1lfWB9IGNsYXNzTmFtZT1cImF1dGhvclwiPnthcnRpY2xlLmF1dGhvci51c2VybmFtZX08L2E+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGVcIj57ZGF0ZUZpbHRlcihhcnRpY2xlLmNyZWF0ZWRBdCl9PC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT17YGJ0biBidG4tc20gJHtmb2xsb3dCdXR0b25DbGFzc31gfSBvbkNsaWNrPXtvbkZvbGxvd1Byb2ZpbGV9PlxuICAgICAgICA8aSBjbGFzc05hbWU9XCJpb24tcGx1cy1yb3VuZFwiIC8+IHthcnRpY2xlLmF1dGhvci5mb2xsb3dpbmcgPyAnVW5mb2xsb3cnIDogJ0ZvbGxvdyd9IHthcnRpY2xlLmF1dGhvci51c2VybmFtZX1cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgJm5ic3A7Jm5ic3A7XG4gICAgICA8YnV0dG9uIGNsYXNzTmFtZT17YGJ0biBidG4tc20gJHtmYXZvcml0ZUJ1dHRvbkNsYXNzfWB9IG9uQ2xpY2s9e29uRmF2b3JpdGVBcnRpY2xlfT5cbiAgICAgICAgPGkgY2xhc3NOYW1lPVwiaW9uLWhlYXJ0XCIgLz5cbiAgICAgICAgJm5ic3A7XG4gICAgICAgIEZhdm9yaXRlIFBvc3QgPHNwYW4gY2xhc3NOYW1lPVwiY291bnRlclwiPih7YXJ0aWNsZS5mYXZvcml0ZXNDb3VudH0pPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFDQTs7QUFBQTtBQUNBOztBQUVBOztBQUFBO0FBQ0E7Ozs7O0FBRUE7QUFFQTs7Ozs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBRUE7O0FBQUE7QUFDQTs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUFBOztBQUFBOztBQUdBO0FBQ0E7O0FBRUE7O0FBQUE7QUFBQTtBQUlBO0FBNUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar filters_1 = __webpack_require__(10);\nvar store_1 = __webpack_require__(3);\nvar constants_1 = __webpack_require__(4);\nfunction ArticleCommentCard(props) {\n    var comment = props.comment, _a = props.onDelete, onDelete = _a === void 0 ? function () { return void {}; } : _a;\n    var user = store_1.useRootState()[0].user;\n    var isMineComment = (user === null || user === void 0 ? void 0 : user.username) === comment.author.username;\n    if (!comment.author)\n        return null;\n    return (preact_1.h("div", { className: "card" },\n        preact_1.h("div", { className: "card-block" },\n            preact_1.h("p", { className: "card-text" }, comment.body)),\n        preact_1.h("div", { className: "card-footer" },\n            preact_1.h("a", { href: "/@" + comment.author.username, className: "comment-author" },\n                preact_1.h("img", { src: comment.author.image || constants_1.DEFAULT_AVATAR, className: "comment-author-img" })),\n            "\\u00A0",\n            preact_1.h("a", { href: "/@" + comment.author.username, className: "comment-author" }, comment.author.username),\n            preact_1.h("span", { className: "date-posted" }, filters_1.dateFilter(comment.createdAt)),\n            preact_1.h("span", { className: "mod-options" }, isMineComment && (preact_1.h("i", { className: "ion-trash-a", onClick: function () { return onDelete(comment.id); } }))))));\n}\nexports.default = ArticleCommentCard;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9BcnRpY2xlQ29tbWVudENhcmQudHN4P2I5MWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IGRhdGVGaWx0ZXIgfSBmcm9tICcuLi91dGlscy9maWx0ZXJzJ1xuaW1wb3J0IHsgdXNlUm9vdFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnXG5pbXBvcnQgeyBERUZBVUxUX0FWQVRBUiB9IGZyb20gJy4uL3N0b3JlL2NvbnN0YW50cydcblxuaW50ZXJmYWNlIEFydGljbGVDb21tZW50Q2FyZFByb3BzIHtcbiAgY29tbWVudDogQXJ0aWNsZUNvbW1lbnQ7XG4gIG9uRGVsZXRlPzogKGNvbW1lbnRJZDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcnRpY2xlQ29tbWVudENhcmQocHJvcHM6IEFydGljbGVDb21tZW50Q2FyZFByb3BzKSB7XG4gIGNvbnN0IHsgY29tbWVudCwgb25EZWxldGUgPSAoKSA9PiB2b2lkIHt9IH0gPSBwcm9wc1xuICBjb25zdCBbIHsgdXNlciB9IF0gPSB1c2VSb290U3RhdGUoKVxuXG4gIGNvbnN0IGlzTWluZUNvbW1lbnQgPSB1c2VyPy51c2VybmFtZSA9PT0gY29tbWVudC5hdXRob3IudXNlcm5hbWVcblxuICBpZiAoIWNvbW1lbnQuYXV0aG9yKSByZXR1cm4gbnVsbFxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYmxvY2tcIj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwiY2FyZC10ZXh0XCI+e2NvbW1lbnQuYm9keX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1mb290ZXJcIj5cbiAgICAgICAgPGEgaHJlZj17YC9AJHtjb21tZW50LmF1dGhvci51c2VybmFtZX1gfSBjbGFzc05hbWU9XCJjb21tZW50LWF1dGhvclwiPlxuICAgICAgICAgIDxpbWcgc3JjPXtjb21tZW50LmF1dGhvci5pbWFnZSB8fCBERUZBVUxUX0FWQVRBUn0gY2xhc3NOYW1lPVwiY29tbWVudC1hdXRob3ItaW1nXCIgLz5cbiAgICAgICAgPC9hPlxuICAgICAgICAmbmJzcDtcbiAgICAgICAgPGEgaHJlZj17YC9AJHtjb21tZW50LmF1dGhvci51c2VybmFtZX1gfSBjbGFzc05hbWU9XCJjb21tZW50LWF1dGhvclwiPntjb21tZW50LmF1dGhvci51c2VybmFtZX08L2E+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGUtcG9zdGVkXCI+e2RhdGVGaWx0ZXIoY29tbWVudC5jcmVhdGVkQXQpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibW9kLW9wdGlvbnNcIj5cbiAgICAgICAgICB7Lyo8aSBjbGFzc05hbWU9XCJpb24tZWRpdFwiIC8+Ki99XG4gICAgICAgICAge2lzTWluZUNvbW1lbnQgJiYgKFxuICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaW9uLXRyYXNoLWFcIiBvbkNsaWNrPXsoKSA9PiBvbkRlbGV0ZShjb21tZW50LmlkKX0gLz5cbiAgICAgICAgICApfVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQVNBO0FBN0JBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar hooks_1 = __webpack_require__(2);\nvar services_1 = __webpack_require__(1);\nvar preact_router_1 = __webpack_require__(5);\nfunction EditArticle(props) {\n    var _a = hooks_1.useState({\n        title: \'\',\n        description: \'\',\n        body: \'\',\n        tagList: [],\n    }), form = _a[0], setForm = _a[1];\n    function onSubmit(e) {\n        return __awaiter(this, void 0, void 0, function () {\n            var article;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        e.preventDefault();\n                        if (!props.slug) return [3 /*break*/, 2];\n                        return [4 /*yield*/, services_1.putArticle(props.slug, form)];\n                    case 1:\n                        article = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, services_1.postArticle(form)];\n                    case 3:\n                        article = _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        preact_router_1.route("/article/" + article.slug);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    function fetchArticle(slug) {\n        return __awaiter(this, void 0, void 0, function () {\n            var article;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, services_1.getArticle(slug)];\n                    case 1:\n                        article = _a.sent();\n                        setForm({\n                            title: article.title,\n                            description: article.description,\n                            body: article.body,\n                            tagList: article.tagList,\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    hooks_1.useEffect(function () {\n        if (props.slug)\n            fetchArticle(props.slug);\n    }, []);\n    return (preact_1.h("div", { className: "editor-page" },\n        preact_1.h("div", { className: "container page" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-md-10 offset-md-1 col-xs-12" },\n                    preact_1.h("form", { onSubmit: onSubmit },\n                        preact_1.h("fieldset", null,\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.title, type: "text", className: "form-control form-control-lg", placeholder: "Article Title", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { title: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.description, type: "text", className: "form-control", placeholder: "What\'s this article about?", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { description: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("textarea", { value: form.body, className: "form-control", rows: 8, placeholder: "Write your article (in markdown)", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { body: e.currentTarget.value })); }); } })),\n                            preact_1.h("fieldset", { className: "form-group" },\n                                preact_1.h("input", { value: form.tagList.join(\' \'), type: "text", className: "form-control", placeholder: "Enter tags", onInput: function (e) { return setForm(function (prev) { return (__assign(__assign({}, prev), { tagList: e.currentTarget.value.split(\' \') })); }); } }),\n                                preact_1.h("div", { className: "tag-list" })),\n                            preact_1.h("button", { disabled: !(form.title && form.description && form.body), className: "btn btn-lg pull-xs-right btn-primary", type: "submit" }, "Publish Article"))))))));\n}\nexports.default = EditArticle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvRWRpdEFydGljbGUudHN4PzE2Y2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdwcmVhY3QvaG9va3MnXG5pbXBvcnQgeyBnZXRBcnRpY2xlLCBwb3N0QXJ0aWNsZSwgcHV0QXJ0aWNsZSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgcm91dGUgfSBmcm9tICdwcmVhY3Qtcm91dGVyJ1xuXG5pbnRlcmZhY2UgRWRpdEFydGljbGVQcm9wcyB7XG4gIHNsdWc/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBGb3JtU3RhdGUge1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG4gIHRhZ0xpc3Q6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFZGl0QXJ0aWNsZShwcm9wczogRWRpdEFydGljbGVQcm9wcykge1xuICBjb25zdCBbIGZvcm0sIHNldEZvcm0gXSA9IHVzZVN0YXRlPEZvcm1TdGF0ZT4oe1xuICAgIHRpdGxlOiAnJyxcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgYm9keTogJycsXG4gICAgdGFnTGlzdDogW10sXG4gIH0pXG5cbiAgYXN5bmMgZnVuY3Rpb24gb25TdWJtaXQoZTogRXZlbnQpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcblxuICAgIGxldCBhcnRpY2xlOiBBcnRpY2xlXG4gICAgaWYgKHByb3BzLnNsdWcpIHtcbiAgICAgIGFydGljbGUgPSBhd2FpdCBwdXRBcnRpY2xlKHByb3BzLnNsdWcsIGZvcm0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGFydGljbGUgPSBhd2FpdCBwb3N0QXJ0aWNsZShmb3JtKVxuICAgIH1cbiAgICByb3V0ZShgL2FydGljbGUvJHthcnRpY2xlLnNsdWd9YClcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGZldGNoQXJ0aWNsZShzbHVnOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhcnRpY2xlID0gYXdhaXQgZ2V0QXJ0aWNsZShzbHVnKVxuICAgIHNldEZvcm0oe1xuICAgICAgdGl0bGU6IGFydGljbGUudGl0bGUsXG4gICAgICBkZXNjcmlwdGlvbjogYXJ0aWNsZS5kZXNjcmlwdGlvbixcbiAgICAgIGJvZHk6IGFydGljbGUuYm9keSxcbiAgICAgIHRhZ0xpc3Q6IGFydGljbGUudGFnTGlzdCxcbiAgICB9KVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMuc2x1ZykgZmV0Y2hBcnRpY2xlKHByb3BzLnNsdWcpXG4gIH0sIFtdKVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3ItcGFnZVwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgcGFnZVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTAgb2Zmc2V0LW1kLTEgY29sLXhzLTEyXCI+XG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17b25TdWJtaXR9PlxuICAgICAgICAgICAgICA8ZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgPGZpZWxkc2V0IGNsYXNzTmFtZT1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB2YWx1ZT17Zm9ybS50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2wgZm9ybS1jb250cm9sLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJBcnRpY2xlIFRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgb25JbnB1dD17ZSA9PiBzZXRGb3JtKHByZXYgPT4gKHsgLi4ucHJldiwgdGl0bGU6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLmRlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiV2hhdCdzIHRoaXMgYXJ0aWNsZSBhYm91dD9cIlxuICAgICAgICAgICAgICAgICAgICBvbklucHV0PXtlID0+IHNldEZvcm0ocHJldiA9PiAoeyAuLi5wcmV2LCBkZXNjcmlwdGlvbjogZS5jdXJyZW50VGFyZ2V0LnZhbHVlIH0pKX0gLz5cbiAgICAgICAgICAgICAgICA8L2ZpZWxkc2V0PlxuICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzc05hbWU9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgdmFsdWU9e2Zvcm0uYm9keX0gY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgICAgcm93cz17OH1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJXcml0ZSB5b3VyIGFydGljbGUgKGluIG1hcmtkb3duKVwiXG4gICAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIGJvZHk6IGUuY3VycmVudFRhcmdldC52YWx1ZSB9KSl9IC8+XG4gICAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgICAgICA8ZmllbGRzZXQgY2xhc3NOYW1lPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICAgICAgICAgICAgPGlucHV0IHZhbHVlPXtmb3JtLnRhZ0xpc3Quam9pbignICcpfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgdGFnc1wiXG4gICAgICAgICAgICAgICAgICAgIG9uSW5wdXQ9e2UgPT4gc2V0Rm9ybShwcmV2ID0+ICh7IC4uLnByZXYsIHRhZ0xpc3Q6IGUuY3VycmVudFRhcmdldC52YWx1ZS5zcGxpdCgnICcpIH0pKX0gLz5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFnLWxpc3RcIiAvPlxuICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBkaXNhYmxlZD17IShmb3JtLnRpdGxlICYmIGZvcm0uZGVzY3JpcHRpb24gJiYgZm9ybS5ib2R5KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tbGcgcHVsbC14cy1yaWdodCBidG4tcHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCI+XG4gICAgICAgICAgICAgICAgICBQdWJsaXNoIEFydGljbGVcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9maWVsZHNldD5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7OztBQUNBO0FBR0E7QUFDQTs7QUFBQTs7QUFFQTs7QUFBQTs7O0FBRUE7Ozs7O0FBQ0E7QUFFQTs7Ozs7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBS0E7QUFDQTtBQUtBO0FBRUE7QUFhQTtBQW5GQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n')},function(module,exports,__webpack_require__){"use strict";eval('\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { "default": mod };\n};\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nvar services_1 = __webpack_require__(1);\nvar hooks_1 = __webpack_require__(2);\nvar ArticlePreview_1 = __importDefault(__webpack_require__(8));\nvar Pagination_1 = __importDefault(__webpack_require__(9));\nvar store_1 = __webpack_require__(3);\nfunction Profile(props) {\n    var _this = this;\n    var _a;\n    var username = ((_a = props.username) === null || _a === void 0 ? void 0 : _a.replace(/^@/, \'\')) || \'\';\n    var _b = hooks_1.useState({}), user = _b[0], setUser = _b[1];\n    var _c = hooks_1.useState([]), articles = _c[0], setArticles = _c[1];\n    var _d = hooks_1.useState(0), articlesCount = _d[0], setArticlesCount = _d[1];\n    var _e = hooks_1.useState(1), page = _e[0], setPage = _e[1];\n    var loggedUser = store_1.useRootState()[0].user;\n    var fetchProfile = function () { return __awaiter(_this, void 0, void 0, function () {\n        var user;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, services_1.getProfile(username)];\n                case 1:\n                    user = _a.sent();\n                    setUser(user);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var fetchArticles = function () { return __awaiter(_this, void 0, void 0, function () {\n        var _a, articles, articlesCount;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, services_1.getProfileArticles(username, page)];\n                case 1:\n                    _a = _b.sent(), articles = _a.articles, articlesCount = _a.articlesCount;\n                    setArticles(articles);\n                    setArticlesCount(articlesCount);\n                    return [2 /*return*/];\n            }\n        });\n    }); };\n    var setArticle = function (articleIndex, article) {\n        var articlesCopy = __spreadArrays(articles);\n        articlesCopy[articleIndex] = article;\n        setArticles(articlesCopy);\n    };\n    var onFollowUser = function () { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!user.following) return [3 /*break*/, 2];\n                    setUser(function (prev) { return (__assign(__assign({}, prev), { following: false })); });\n                    return [4 /*yield*/, services_1.deleteFollowProfile(username)];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    setUser(function (prev) { return (__assign(__assign({}, prev), { following: true })); });\n                    return [4 /*yield*/, services_1.postFollowProfile(username)];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    hooks_1.useEffect(function () {\n        fetchProfile();\n        fetchArticles();\n    }, [username]);\n    return (preact_1.h("div", { className: "profile-page" },\n        preact_1.h("div", { className: "user-info" },\n            preact_1.h("div", { className: "container" },\n                preact_1.h("div", { className: "row" },\n                    preact_1.h("div", { className: "col-xs-12 col-md-10 offset-md-1" },\n                        preact_1.h("img", { src: user.image, className: "user-img" }),\n                        preact_1.h("h4", null, username),\n                        preact_1.h("p", null, user.bio),\n                        loggedUser ? (preact_1.h("a", { href: "/settings", className: "btn btn-sm btn-outline-secondary action-btn" },\n                            preact_1.h("i", { className: "ion-gear-a" }),\n                            "\\u00A0 Edit profile settings")) : (preact_1.h("button", { className: "btn btn-sm btn-outline-secondary action-btn", onClick: onFollowUser },\n                            preact_1.h("i", { className: "ion-plus-round" }),\n                            "\\u00A0",\n                            user.following ? \'Unfollow\' : \'Follow\',\n                            " ",\n                            username)))))),\n        preact_1.h("div", { className: "container" },\n            preact_1.h("div", { className: "row" },\n                preact_1.h("div", { className: "col-xs-12 col-md-10 offset-md-1" },\n                    preact_1.h("div", { className: "articles-toggle" },\n                        preact_1.h("ul", { className: "nav nav-pills outline-active" },\n                            preact_1.h("li", { className: "nav-item" },\n                                preact_1.h("a", { className: "nav-link active", href: "" }, "My Articles")),\n                            preact_1.h("li", { className: "nav-item" },\n                                preact_1.h("a", { className: "nav-link", href: "" }, "Favorited Articles")))),\n                    articles.map(function (article, index) { return (preact_1.h(ArticlePreview_1.default, { key: article.slug, article: article, setArticle: function (article) { return setArticle(index, article); } })); }),\n                    preact_1.h(Pagination_1.default, { count: articlesCount, page: page, setPage: setPage }))))));\n}\nexports.default = Profile;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUHJvZmlsZS50c3g/MjRhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoIH0gZnJvbSAncHJlYWN0J1xuaW1wb3J0IHsgZGVsZXRlRm9sbG93UHJvZmlsZSwgZ2V0UHJvZmlsZSwgZ2V0UHJvZmlsZUFydGljbGVzLCBwb3N0Rm9sbG93UHJvZmlsZSB9IGZyb20gJy4uL3NlcnZpY2VzJ1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3ByZWFjdC9ob29rcydcbmltcG9ydCBBcnRpY2xlUHJldmlldyBmcm9tICcuLi9jb21wb25lbnRzL0FydGljbGVQcmV2aWV3J1xuaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9QYWdpbmF0aW9uJ1xuaW1wb3J0IHsgdXNlUm9vdFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnXG5cbmludGVyZmFjZSBQcm9maWxlUHJvcHMge1xuICB1c2VybmFtZT86IHN0cmluZztcbiAgZmF2b3JpdGVzPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUHJvZmlsZShwcm9wczogUHJvZmlsZVByb3BzKSB7XG4gIGNvbnN0IHVzZXJuYW1lID0gcHJvcHMudXNlcm5hbWU/LnJlcGxhY2UoL15ALywgJycpIHx8ICcnXG4gIGNvbnN0IFsgdXNlciwgc2V0VXNlciBdID0gdXNlU3RhdGUoe30gYXMgUHJvZmlsZSlcbiAgY29uc3QgWyBhcnRpY2xlcywgc2V0QXJ0aWNsZXMgXSA9IHVzZVN0YXRlPEFydGljbGVbXT4oW10pXG4gIGNvbnN0IFsgYXJ0aWNsZXNDb3VudCwgc2V0QXJ0aWNsZXNDb3VudCBdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgWyBwYWdlLCBzZXRQYWdlIF0gPSB1c2VTdGF0ZSgxKVxuICBjb25zdCBbIHsgdXNlcjogbG9nZ2VkVXNlciB9IF0gPSB1c2VSb290U3RhdGUoKVxuXG4gIGNvbnN0IGZldGNoUHJvZmlsZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0UHJvZmlsZSh1c2VybmFtZSlcbiAgICBzZXRVc2VyKHVzZXIpXG4gIH1cblxuICBjb25zdCBmZXRjaEFydGljbGVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHsgYXJ0aWNsZXMsIGFydGljbGVzQ291bnQgfSA9IGF3YWl0IGdldFByb2ZpbGVBcnRpY2xlcyh1c2VybmFtZSwgcGFnZSlcbiAgICBzZXRBcnRpY2xlcyhhcnRpY2xlcylcbiAgICBzZXRBcnRpY2xlc0NvdW50KGFydGljbGVzQ291bnQpXG4gIH1cblxuICBjb25zdCBzZXRBcnRpY2xlID0gKGFydGljbGVJbmRleDogbnVtYmVyLCBhcnRpY2xlOiBBcnRpY2xlKSA9PiB7XG4gICAgY29uc3QgYXJ0aWNsZXNDb3B5ID0gWyAuLi5hcnRpY2xlcyBdXG4gICAgYXJ0aWNsZXNDb3B5W2FydGljbGVJbmRleF0gPSBhcnRpY2xlXG4gICAgc2V0QXJ0aWNsZXMoYXJ0aWNsZXNDb3B5KVxuICB9XG5cbiAgY29uc3Qgb25Gb2xsb3dVc2VyID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICh1c2VyLmZvbGxvd2luZykge1xuICAgICAgc2V0VXNlcihwcmV2ID0+ICh7IC4uLnByZXYsIGZvbGxvd2luZzogZmFsc2UgfSkpXG4gICAgICBhd2FpdCBkZWxldGVGb2xsb3dQcm9maWxlKHVzZXJuYW1lKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXRVc2VyKHByZXYgPT4gKHsgLi4ucHJldiwgZm9sbG93aW5nOiB0cnVlIH0pKVxuICAgICAgYXdhaXQgcG9zdEZvbGxvd1Byb2ZpbGUodXNlcm5hbWUpXG4gICAgfVxuICB9XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBmZXRjaFByb2ZpbGUoKVxuICAgIGZldGNoQXJ0aWNsZXMoKVxuICB9LCBbIHVzZXJuYW1lIF0pXG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInByb2ZpbGUtcGFnZVwiPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInVzZXItaW5mb1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMTAgb2Zmc2V0LW1kLTFcIj5cbiAgICAgICAgICAgICAgPGltZyBzcmM9e3VzZXIuaW1hZ2V9IGNsYXNzTmFtZT1cInVzZXItaW1nXCIgLz5cbiAgICAgICAgICAgICAgPGg0Pnt1c2VybmFtZX08L2g0PlxuICAgICAgICAgICAgICA8cD57dXNlci5iaW99PC9wPlxuICAgICAgICAgICAgICB7bG9nZ2VkVXNlciA/IChcbiAgICAgICAgICAgICAgICA8YSBocmVmPVwiL3NldHRpbmdzXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zbSBidG4tb3V0bGluZS1zZWNvbmRhcnkgYWN0aW9uLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaW9uLWdlYXItYVwiIC8+XG4gICAgICAgICAgICAgICAgICAmbmJzcDtcbiAgICAgICAgICAgICAgICAgIEVkaXQgcHJvZmlsZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGFjdGlvbi1idG5cIiBvbkNsaWNrPXtvbkZvbGxvd1VzZXJ9PlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwiaW9uLXBsdXMtcm91bmRcIiAvPlxuICAgICAgICAgICAgICAgICAgJm5ic3A7XG4gICAgICAgICAgICAgICAgICB7dXNlci5mb2xsb3dpbmcgPyAnVW5mb2xsb3cnIDogJ0ZvbGxvdyd9IHt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC14cy0xMiBjb2wtbWQtMTAgb2Zmc2V0LW1kLTFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYXJ0aWNsZXMtdG9nZ2xlXCI+XG4gICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJuYXYgbmF2LXBpbGxzIG91dGxpbmUtYWN0aXZlXCI+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cIm5hdi1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICA8YSBjbGFzc05hbWU9XCJuYXYtbGluayBhY3RpdmVcIiBocmVmPVwiXCI+TXkgQXJ0aWNsZXM8L2E+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPVwibmF2LWl0ZW1cIj5cbiAgICAgICAgICAgICAgICAgIDxhIGNsYXNzTmFtZT1cIm5hdi1saW5rXCIgaHJlZj1cIlwiPkZhdm9yaXRlZCBBcnRpY2xlczwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHthcnRpY2xlcy5tYXAoKGFydGljbGUsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxBcnRpY2xlUHJldmlldyBrZXk9e2FydGljbGUuc2x1Z30gYXJ0aWNsZT17YXJ0aWNsZX0gc2V0QXJ0aWNsZT17YXJ0aWNsZSA9PiBzZXRBcnRpY2xlKGluZGV4LCBhcnRpY2xlKX0gLz5cbiAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICA8UGFnaW5hdGlvbiBjb3VudD17YXJ0aWNsZXNDb3VudH0gcGFnZT17cGFnZX0gc2V0UGFnZT17c2V0UGFnZX0gLz5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUNBOztBQUFBO0FBQ0E7Ozs7QUFDQTtBQUVBOzs7O0FBQ0E7O0FBQUE7QUFDQTtBQUNBOzs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7OztBQUVBO0FBQ0E7O0FBQUE7Ozs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTs7QUFFQTs7QUFBQTtBQVNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBSUE7QUFPQTtBQS9GQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///27\n')},function(module,exports,__webpack_require__){"use strict";eval('\nObject.defineProperty(exports, "__esModule", { value: true });\nvar preact_1 = __webpack_require__(0);\nfunction Footer() {\n    return (preact_1.h("footer", null,\n        preact_1.h("div", { className: "container" },\n            preact_1.h("a", { href: "/", className: "logo-font" }, "conduit"),\n            preact_1.h("span", { className: "attribution" },\n                "An interactive learning project from ",\n                preact_1.h("a", { href: "https://thinkster.io" }, "Thinkster"),\n                ". Code & design licensed under MIT."))));\n}\nexports.default = Footer;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9Gb290ZXIudHN4PzZmNmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaCB9IGZyb20gJ3ByZWFjdCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRm9vdGVyKCkge1xuICByZXR1cm4gKFxuICAgIDxmb290ZXI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lclwiPlxuICAgICAgICA8YSBocmVmPVwiL1wiIGNsYXNzTmFtZT1cImxvZ28tZm9udFwiPmNvbmR1aXQ8L2E+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImF0dHJpYnV0aW9uXCI+XG4gICAgICAgICAgQW4gaW50ZXJhY3RpdmUgbGVhcm5pbmcgcHJvamVjdCBmcm9tIDxhIGhyZWY9XCJodHRwczovL3RoaW5rc3Rlci5pb1wiPlRoaW5rc3RlcjwvYT4uIENvZGUgJmFtcDsgZGVzaWduIGxpY2Vuc2VkIHVuZGVyIE1JVC5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgPC9mb290ZXI+XG4gIClcbn1cbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUlBO0FBWEE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///28\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"createBrowserHistory\", function() { return /* binding */ createBrowserHistory; });\n__webpack_require__.d(__webpack_exports__, \"createHashHistory\", function() { return /* binding */ createHashHistory; });\n__webpack_require__.d(__webpack_exports__, \"createMemoryHistory\", function() { return /* binding */ createMemoryHistory; });\n__webpack_require__.d(__webpack_exports__, \"createLocation\", function() { return /* binding */ createLocation; });\n__webpack_require__.d(__webpack_exports__, \"locationsAreEqual\", function() { return /* binding */ locationsAreEqual; });\n__webpack_require__.d(__webpack_exports__, \"parsePath\", function() { return /* binding */ parsePath; });\n__webpack_require__.d(__webpack_exports__, \"createPath\", function() { return /* binding */ createPath; });\n\n// CONCATENATED MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n// CONCATENATED MODULE: ./node_modules/resolve-pathname/esm/resolve-pathname.js\nfunction isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\n/* harmony default export */ var resolve_pathname = (resolvePathname);\n\n// CONCATENATED MODULE: ./node_modules/value-equal/esm/value-equal.js\nfunction value_equal_valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = value_equal_valueOf(a);\n    var bValue = value_equal_valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\n/* harmony default export */ var value_equal = (valueEqual);\n\n// CONCATENATED MODULE: ./node_modules/tiny-invariant/dist/tiny-invariant.esm.js\nvar isProduction = \"production\" === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    throw new Error(prefix + \": \" + (message || ''));\n}\n\n/* harmony default export */ var tiny_invariant_esm = (invariant);\n\n// CONCATENATED MODULE: ./node_modules/history/esm/history.js\n\n\n\n\n\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolve_pathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && value_equal(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n     false ? undefined : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n           false ? undefined : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ?  false ? undefined : tiny_invariant_esm(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n     false ? undefined : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n     false ? undefined : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n         false ? undefined : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n     false ? undefined : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n         false ? undefined : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ?  false ? undefined : tiny_invariant_esm(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n     false ? undefined : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n     false ? undefined : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n         false ? undefined : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n     false ? undefined : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n     false ? undefined : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n     false ? undefined : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n     false ? undefined : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcy5qcz9jMzFkIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvbHZlLXBhdGhuYW1lL2VzbS9yZXNvbHZlLXBhdGhuYW1lLmpzPzk0MjEiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3ZhbHVlLWVxdWFsL2VzbS92YWx1ZS1lcXVhbC5qcz9jNjE5Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LWludmFyaWFudC9kaXN0L3RpbnktaW52YXJpYW50LmVzbS5qcz9mNTFmIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oaXN0b3J5L2VzbS9oaXN0b3J5LmpzPzJlMTAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn0iLCJmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGhuYW1lKSB7XG4gIHJldHVybiBwYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJztcbn1cblxuLy8gQWJvdXQgMS41eCBmYXN0ZXIgdGhhbiB0aGUgdHdvLWFyZyB2ZXJzaW9uIG9mIEFycmF5I3NwbGljZSgpXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICh2YXIgaSA9IGluZGV4LCBrID0gaSArIDEsIG4gPSBsaXN0Lmxlbmd0aDsgayA8IG47IGkgKz0gMSwgayArPSAxKSB7XG4gICAgbGlzdFtpXSA9IGxpc3Rba107XG4gIH1cblxuICBsaXN0LnBvcCgpO1xufVxuXG4vLyBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGJhc2VkIGhlYXZpbHkgb24gbm9kZSdzIHVybC5wYXJzZVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGhuYW1lKHRvLCBmcm9tKSB7XG4gIGlmIChmcm9tID09PSB1bmRlZmluZWQpIGZyb20gPSAnJztcblxuICB2YXIgdG9QYXJ0cyA9ICh0byAmJiB0by5zcGxpdCgnLycpKSB8fCBbXTtcbiAgdmFyIGZyb21QYXJ0cyA9IChmcm9tICYmIGZyb20uc3BsaXQoJy8nKSkgfHwgW107XG5cbiAgdmFyIGlzVG9BYnMgPSB0byAmJiBpc0Fic29sdXRlKHRvKTtcbiAgdmFyIGlzRnJvbUFicyA9IGZyb20gJiYgaXNBYnNvbHV0ZShmcm9tKTtcbiAgdmFyIG11c3RFbmRBYnMgPSBpc1RvQWJzIHx8IGlzRnJvbUFicztcblxuICBpZiAodG8gJiYgaXNBYnNvbHV0ZSh0bykpIHtcbiAgICAvLyB0byBpcyBhYnNvbHV0ZVxuICAgIGZyb21QYXJ0cyA9IHRvUGFydHM7XG4gIH0gZWxzZSBpZiAodG9QYXJ0cy5sZW5ndGgpIHtcbiAgICAvLyB0byBpcyByZWxhdGl2ZSwgZHJvcCB0aGUgZmlsZW5hbWVcbiAgICBmcm9tUGFydHMucG9wKCk7XG4gICAgZnJvbVBhcnRzID0gZnJvbVBhcnRzLmNvbmNhdCh0b1BhcnRzKTtcbiAgfVxuXG4gIGlmICghZnJvbVBhcnRzLmxlbmd0aCkgcmV0dXJuICcvJztcblxuICB2YXIgaGFzVHJhaWxpbmdTbGFzaDtcbiAgaWYgKGZyb21QYXJ0cy5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdCA9IGZyb21QYXJ0c1tmcm9tUGFydHMubGVuZ3RoIC0gMV07XG4gICAgaGFzVHJhaWxpbmdTbGFzaCA9IGxhc3QgPT09ICcuJyB8fCBsYXN0ID09PSAnLi4nIHx8IGxhc3QgPT09ICcnO1xuICB9IGVsc2Uge1xuICAgIGhhc1RyYWlsaW5nU2xhc2ggPSBmYWxzZTtcbiAgfVxuXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBmcm9tUGFydHMubGVuZ3RoOyBpID49IDA7IGktLSkge1xuICAgIHZhciBwYXJ0ID0gZnJvbVBhcnRzW2ldO1xuXG4gICAgaWYgKHBhcnQgPT09ICcuJykge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnLi4nKSB7XG4gICAgICBzcGxpY2VPbmUoZnJvbVBhcnRzLCBpKTtcbiAgICAgIHVwKys7XG4gICAgfSBlbHNlIGlmICh1cCkge1xuICAgICAgc3BsaWNlT25lKGZyb21QYXJ0cywgaSk7XG4gICAgICB1cC0tO1xuICAgIH1cbiAgfVxuXG4gIGlmICghbXVzdEVuZEFicykgZm9yICg7IHVwLS07IHVwKSBmcm9tUGFydHMudW5zaGlmdCgnLi4nKTtcblxuICBpZiAoXG4gICAgbXVzdEVuZEFicyAmJlxuICAgIGZyb21QYXJ0c1swXSAhPT0gJycgJiZcbiAgICAoIWZyb21QYXJ0c1swXSB8fCAhaXNBYnNvbHV0ZShmcm9tUGFydHNbMF0pKVxuICApXG4gICAgZnJvbVBhcnRzLnVuc2hpZnQoJycpO1xuXG4gIHZhciByZXN1bHQgPSBmcm9tUGFydHMuam9pbignLycpO1xuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIHJlc3VsdC5zdWJzdHIoLTEpICE9PSAnLycpIHJlc3VsdCArPSAnLyc7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVzb2x2ZVBhdGhuYW1lO1xuIiwiZnVuY3Rpb24gdmFsdWVPZihvYmopIHtcbiAgcmV0dXJuIG9iai52YWx1ZU9mID8gb2JqLnZhbHVlT2YoKSA6IE9iamVjdC5wcm90b3R5cGUudmFsdWVPZi5jYWxsKG9iaik7XG59XG5cbmZ1bmN0aW9uIHZhbHVlRXF1YWwoYSwgYikge1xuICAvLyBUZXN0IGZvciBzdHJpY3QgZXF1YWxpdHkgZmlyc3QuXG4gIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBPdGhlcndpc2UsIGlmIGVpdGhlciBvZiB0aGVtID09IG51bGwgdGhleSBhcmUgbm90IGVxdWFsLlxuICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGEpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIEFycmF5LmlzQXJyYXkoYikgJiZcbiAgICAgIGEubGVuZ3RoID09PSBiLmxlbmd0aCAmJlxuICAgICAgYS5ldmVyeShmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICByZXR1cm4gdmFsdWVFcXVhbChpdGVtLCBiW2luZGV4XSk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBiID09PSAnb2JqZWN0Jykge1xuICAgIHZhciBhVmFsdWUgPSB2YWx1ZU9mKGEpO1xuICAgIHZhciBiVmFsdWUgPSB2YWx1ZU9mKGIpO1xuXG4gICAgaWYgKGFWYWx1ZSAhPT0gYSB8fCBiVmFsdWUgIT09IGIpIHJldHVybiB2YWx1ZUVxdWFsKGFWYWx1ZSwgYlZhbHVlKTtcblxuICAgIHJldHVybiBPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBhLCBiKSkuZXZlcnkoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gdmFsdWVFcXVhbChhW2tleV0sIGJba2V5XSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbHVlRXF1YWw7XG4iLCJ2YXIgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbnZhciBwcmVmaXggPSAnSW52YXJpYW50IGZhaWxlZCc7XG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1Byb2R1Y3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpbnZhcmlhbnQ7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kcyc7XG5pbXBvcnQgcmVzb2x2ZVBhdGhuYW1lIGZyb20gJ3Jlc29sdmUtcGF0aG5hbWUnO1xuaW1wb3J0IHZhbHVlRXF1YWwgZnJvbSAndmFsdWUtZXF1YWwnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAndGlueS13YXJuaW5nJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAndGlueS1pbnZhcmlhbnQnO1xuXG5mdW5jdGlvbiBhZGRMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGggOiAnLycgKyBwYXRoO1xufVxuZnVuY3Rpb24gc3RyaXBMZWFkaW5nU2xhc2gocGF0aCkge1xuICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbn1cbmZ1bmN0aW9uIGhhc0Jhc2VuYW1lKHBhdGgsIHByZWZpeCkge1xuICByZXR1cm4gcGF0aC50b0xvd2VyQ2FzZSgpLmluZGV4T2YocHJlZml4LnRvTG93ZXJDYXNlKCkpID09PSAwICYmICcvPyMnLmluZGV4T2YocGF0aC5jaGFyQXQocHJlZml4Lmxlbmd0aCkpICE9PSAtMTtcbn1cbmZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aCwgcHJlZml4KSB7XG4gIHJldHVybiBoYXNCYXNlbmFtZShwYXRoLCBwcmVmaXgpID8gcGF0aC5zdWJzdHIocHJlZml4Lmxlbmd0aCkgOiBwYXRoO1xufVxuZnVuY3Rpb24gc3RyaXBUcmFpbGluZ1NsYXNoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckF0KHBhdGgubGVuZ3RoIC0gMSkgPT09ICcvJyA/IHBhdGguc2xpY2UoMCwgLTEpIDogcGF0aDtcbn1cbmZ1bmN0aW9uIHBhcnNlUGF0aChwYXRoKSB7XG4gIHZhciBwYXRobmFtZSA9IHBhdGggfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gJyc7XG4gIHZhciBoYXNoID0gJyc7XG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG5cbiAgaWYgKGhhc2hJbmRleCAhPT0gLTEpIHtcbiAgICBoYXNoID0gcGF0aG5hbWUuc3Vic3RyKGhhc2hJbmRleCk7XG4gICAgcGF0aG5hbWUgPSBwYXRobmFtZS5zdWJzdHIoMCwgaGFzaEluZGV4KTtcbiAgfVxuXG4gIHZhciBzZWFyY2hJbmRleCA9IHBhdGhuYW1lLmluZGV4T2YoJz8nKTtcblxuICBpZiAoc2VhcmNoSW5kZXggIT09IC0xKSB7XG4gICAgc2VhcmNoID0gcGF0aG5hbWUuc3Vic3RyKHNlYXJjaEluZGV4KTtcbiAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnN1YnN0cigwLCBzZWFyY2hJbmRleCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGhuYW1lOiBwYXRobmFtZSxcbiAgICBzZWFyY2g6IHNlYXJjaCA9PT0gJz8nID8gJycgOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCA9PT0gJyMnID8gJycgOiBoYXNoXG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVQYXRoKGxvY2F0aW9uKSB7XG4gIHZhciBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoLFxuICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIHZhciBwYXRoID0gcGF0aG5hbWUgfHwgJy8nO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gJz8nKSBwYXRoICs9IHNlYXJjaC5jaGFyQXQoMCkgPT09ICc/JyA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSAnIycpIHBhdGggKz0gaGFzaC5jaGFyQXQoMCkgPT09ICcjJyA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG4gIHJldHVybiBwYXRoO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwga2V5LCBjdXJyZW50TG9jYXRpb24pIHtcbiAgdmFyIGxvY2F0aW9uO1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBUd28tYXJnIGZvcm06IHB1c2gocGF0aCwgc3RhdGUpXG4gICAgbG9jYXRpb24gPSBwYXJzZVBhdGgocGF0aCk7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBzdGF0ZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBPbmUtYXJnIGZvcm06IHB1c2gobG9jYXRpb24pXG4gICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgcGF0aCk7XG4gICAgaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSB1bmRlZmluZWQpIGxvY2F0aW9uLnBhdGhuYW1lID0gJyc7XG5cbiAgICBpZiAobG9jYXRpb24uc2VhcmNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uc2VhcmNoLmNoYXJBdCgwKSAhPT0gJz8nKSBsb2NhdGlvbi5zZWFyY2ggPSAnPycgKyBsb2NhdGlvbi5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLnNlYXJjaCA9ICcnO1xuICAgIH1cblxuICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XG4gICAgICBpZiAobG9jYXRpb24uaGFzaC5jaGFyQXQoMCkgIT09ICcjJykgbG9jYXRpb24uaGFzaCA9ICcjJyArIGxvY2F0aW9uLmhhc2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2F0aW9uLmhhc2ggPSAnJztcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBsb2NhdGlvbi5zdGF0ZSA9PT0gdW5kZWZpbmVkKSBsb2NhdGlvbi5zdGF0ZSA9IHN0YXRlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGRlY29kZVVSSShsb2NhdGlvbi5wYXRobmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVSSUVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgVVJJRXJyb3IoJ1BhdGhuYW1lIFwiJyArIGxvY2F0aW9uLnBhdGhuYW1lICsgJ1wiIGNvdWxkIG5vdCBiZSBkZWNvZGVkLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBhbiBpbnZhbGlkIHBlcmNlbnQtZW5jb2RpbmcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGtleSkgbG9jYXRpb24ua2V5ID0ga2V5O1xuXG4gIGlmIChjdXJyZW50TG9jYXRpb24pIHtcbiAgICAvLyBSZXNvbHZlIGluY29tcGxldGUvcmVsYXRpdmUgcGF0aG5hbWUgcmVsYXRpdmUgdG8gY3VycmVudCBsb2NhdGlvbi5cbiAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgICB9IGVsc2UgaWYgKGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICBsb2NhdGlvbi5wYXRobmFtZSA9IHJlc29sdmVQYXRobmFtZShsb2NhdGlvbi5wYXRobmFtZSwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gV2hlbiB0aGVyZSBpcyBubyBwcmlvciBsb2NhdGlvbiBhbmQgcGF0aG5hbWUgaXMgZW1wdHksIHNldCBpdCB0byAvXG4gICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZSkge1xuICAgICAgbG9jYXRpb24ucGF0aG5hbWUgPSAnLyc7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwoYSwgYikge1xuICByZXR1cm4gYS5wYXRobmFtZSA9PT0gYi5wYXRobmFtZSAmJiBhLnNlYXJjaCA9PT0gYi5zZWFyY2ggJiYgYS5oYXNoID09PSBiLmhhc2ggJiYgYS5rZXkgPT09IGIua2V5ICYmIHZhbHVlRXF1YWwoYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zaXRpb25NYW5hZ2VyKCkge1xuICB2YXIgcHJvbXB0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBzZXRQcm9tcHQobmV4dFByb21wdCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcocHJvbXB0ID09IG51bGwsICdBIGhpc3Rvcnkgc3VwcG9ydHMgb25seSBvbmUgcHJvbXB0IGF0IGEgdGltZScpIDogdm9pZCAwO1xuICAgIHByb21wdCA9IG5leHRQcm9tcHQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChwcm9tcHQgPT09IG5leHRQcm9tcHQpIHByb21wdCA9IG51bGw7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgY2FsbGJhY2spIHtcbiAgICAvLyBUT0RPOiBJZiBhbm90aGVyIHRyYW5zaXRpb24gc3RhcnRzIHdoaWxlIHdlJ3JlIHN0aWxsIGNvbmZpcm1pbmdcbiAgICAvLyB0aGUgcHJldmlvdXMgb25lLCB3ZSBtYXkgZW5kIHVwIGluIGEgd2VpcmQgc3RhdGUuIEZpZ3VyZSBvdXQgdGhlXG4gICAgLy8gYmVzdCB3YXkgdG8gaGFuZGxlIHRoaXMuXG4gICAgaWYgKHByb21wdCAhPSBudWxsKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdHlwZW9mIHByb21wdCA9PT0gJ2Z1bmN0aW9uJyA/IHByb21wdChsb2NhdGlvbiwgYWN0aW9uKSA6IHByb21wdDtcblxuICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ2V0VXNlckNvbmZpcm1hdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGdldFVzZXJDb25maXJtYXRpb24ocmVzdWx0LCBjYWxsYmFjayk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0EgaGlzdG9yeSBuZWVkcyBhIGdldFVzZXJDb25maXJtYXRpb24gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIGEgcHJvbXB0IG1lc3NhZ2UnKSA6IHZvaWQgMDtcbiAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGZyb20gYSB0cmFuc2l0aW9uIGhvb2sgdG8gY2FuY2VsIHRoZSB0cmFuc2l0aW9uLlxuICAgICAgICBjYWxsYmFjayhyZXN1bHQgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGFwcGVuZExpc3RlbmVyKGZuKSB7XG4gICAgdmFyIGlzQWN0aXZlID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGxpc3RlbmVyKCkge1xuICAgICAgaWYgKGlzQWN0aXZlKSBmbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbSAhPT0gbGlzdGVuZXI7XG4gICAgICB9KTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5TGlzdGVuZXJzKCkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBsaXN0ZW5lci5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXRQcm9tcHQ6IHNldFByb21wdCxcbiAgICBjb25maXJtVHJhbnNpdGlvblRvOiBjb25maXJtVHJhbnNpdGlvblRvLFxuICAgIGFwcGVuZExpc3RlbmVyOiBhcHBlbmRMaXN0ZW5lcixcbiAgICBub3RpZnlMaXN0ZW5lcnM6IG5vdGlmeUxpc3RlbmVyc1xuICB9O1xufVxuXG52YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbmZ1bmN0aW9uIGdldENvbmZpcm1hdGlvbihtZXNzYWdlLCBjYWxsYmFjaykge1xuICBjYWxsYmFjayh3aW5kb3cuY29uZmlybShtZXNzYWdlKSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tYWxlcnRcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBpcyBzdXBwb3J0ZWQuIFRha2VuIGZyb20gTW9kZXJuaXpyLlxuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Nb2Rlcm5penIvTW9kZXJuaXpyL2Jsb2IvbWFzdGVyL2ZlYXR1cmUtZGV0ZWN0cy9oaXN0b3J5LmpzXG4gKiBjaGFuZ2VkIHRvIGF2b2lkIGZhbHNlIG5lZ2F0aXZlcyBmb3IgV2luZG93cyBQaG9uZXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgaWYgKCh1YS5pbmRleE9mKCdBbmRyb2lkIDIuJykgIT09IC0xIHx8IHVhLmluZGV4T2YoJ0FuZHJvaWQgNC4wJykgIT09IC0xKSAmJiB1YS5pbmRleE9mKCdNb2JpbGUgU2FmYXJpJykgIT09IC0xICYmIHVhLmluZGV4T2YoJ0Nocm9tZScpID09PSAtMSAmJiB1YS5pbmRleE9mKCdXaW5kb3dzIFBob25lJykgPT09IC0xKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGJyb3dzZXIgZmlyZXMgcG9wc3RhdGUgb24gaGFzaCBjaGFuZ2UuXG4gKiBJRTEwIGFuZCBJRTExIGRvIG5vdC5cbiAqL1xuXG5mdW5jdGlvbiBzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignVHJpZGVudCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyBmYWxzZSBpZiB1c2luZyBnbyhuKSB3aXRoIGhhc2ggaGlzdG9yeSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkLlxuICovXG5cbmZ1bmN0aW9uIHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCkge1xuICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID09PSAtMTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZ2l2ZW4gcG9wc3RhdGUgZXZlbnQgaXMgYW4gZXh0cmFuZW91cyBXZWJLaXQgZXZlbnQuXG4gKiBBY2NvdW50cyBmb3IgdGhlIGZhY3QgdGhhdCBDaHJvbWUgb24gaU9TIGZpcmVzIHJlYWwgcG9wc3RhdGUgZXZlbnRzXG4gKiBjb250YWluaW5nIHVuZGVmaW5lZCBzdGF0ZSB3aGVuIHByZXNzaW5nIHRoZSBiYWNrIGJ1dHRvbi5cbiAqL1xuXG5mdW5jdGlvbiBpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiBldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkICYmIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ3JpT1MnKSA9PT0gLTE7XG59XG5cbnZhciBQb3BTdGF0ZUV2ZW50ID0gJ3BvcHN0YXRlJztcbnZhciBIYXNoQ2hhbmdlRXZlbnQgPSAnaGFzaGNoYW5nZSc7XG5cbmZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93Lmhpc3Rvcnkuc3RhdGUgfHwge307XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBJRSAxMSBzb21ldGltZXMgdGhyb3dzIHdoZW4gYWNjZXNzaW5nIHdpbmRvdy5oaXN0b3J5LnN0YXRlXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9SZWFjdFRyYWluaW5nL2hpc3RvcnkvcHVsbC8yODlcbiAgICByZXR1cm4ge307XG4gIH1cbn1cbi8qKlxuICogQ3JlYXRlcyBhIGhpc3Rvcnkgb2JqZWN0IHRoYXQgdXNlcyB0aGUgSFRNTDUgaGlzdG9yeSBBUEkgaW5jbHVkaW5nXG4gKiBwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gICFjYW5Vc2VET00gPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gIHZhciBnbG9iYWxIaXN0b3J5ID0gd2luZG93Lmhpc3Rvcnk7XG4gIHZhciBjYW5Vc2VIaXN0b3J5ID0gc3VwcG9ydHNIaXN0b3J5KCk7XG4gIHZhciBuZWVkc0hhc2hDaGFuZ2VMaXN0ZW5lciA9ICFzdXBwb3J0c1BvcFN0YXRlT25IYXNoQ2hhbmdlKCk7XG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIF9wcm9wcyRmb3JjZVJlZnJlc2ggPSBfcHJvcHMuZm9yY2VSZWZyZXNoLFxuICAgICAgZm9yY2VSZWZyZXNoID0gX3Byb3BzJGZvcmNlUmVmcmVzaCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkZm9yY2VSZWZyZXNoLFxuICAgICAgX3Byb3BzJGdldFVzZXJDb25maXJtID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzJGdldFVzZXJDb25maXJtID09PSB2b2lkIDAgPyBnZXRDb25maXJtYXRpb24gOiBfcHJvcHMkZ2V0VXNlckNvbmZpcm0sXG4gICAgICBfcHJvcHMka2V5TGVuZ3RoID0gX3Byb3BzLmtleUxlbmd0aCxcbiAgICAgIGtleUxlbmd0aCA9IF9wcm9wcyRrZXlMZW5ndGggPT09IHZvaWQgMCA/IDYgOiBfcHJvcHMka2V5TGVuZ3RoO1xuICB2YXIgYmFzZW5hbWUgPSBwcm9wcy5iYXNlbmFtZSA/IHN0cmlwVHJhaWxpbmdTbGFzaChhZGRMZWFkaW5nU2xhc2gocHJvcHMuYmFzZW5hbWUpKSA6ICcnO1xuXG4gIGZ1bmN0aW9uIGdldERPTUxvY2F0aW9uKGhpc3RvcnlTdGF0ZSkge1xuICAgIHZhciBfcmVmID0gaGlzdG9yeVN0YXRlIHx8IHt9LFxuICAgICAgICBrZXkgPSBfcmVmLmtleSxcbiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlO1xuXG4gICAgdmFyIF93aW5kb3ckbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXG4gICAgICAgIHBhdGhuYW1lID0gX3dpbmRvdyRsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgc2VhcmNoID0gX3dpbmRvdyRsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc2ggPSBfd2luZG93JGxvY2F0aW9uLmhhc2g7XG4gICAgdmFyIHBhdGggPSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghYmFzZW5hbWUgfHwgaGFzQmFzZW5hbWUocGF0aCwgYmFzZW5hbWUpLCAnWW91IGFyZSBhdHRlbXB0aW5nIHRvIHVzZSBhIGJhc2VuYW1lIG9uIGEgcGFnZSB3aG9zZSBVUkwgcGF0aCBkb2VzIG5vdCBiZWdpbiAnICsgJ3dpdGggdGhlIGJhc2VuYW1lLiBFeHBlY3RlZCBwYXRoIFwiJyArIHBhdGggKyAnXCIgdG8gYmVnaW4gd2l0aCBcIicgKyBiYXNlbmFtZSArICdcIi4nKSA6IHZvaWQgMDtcbiAgICBpZiAoYmFzZW5hbWUpIHBhdGggPSBzdHJpcEJhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKTtcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wU3RhdGUoZXZlbnQpIHtcbiAgICAvLyBJZ25vcmUgZXh0cmFuZW91cyBwb3BzdGF0ZSBldmVudHMgaW4gV2ViS2l0LlxuICAgIGlmIChpc0V4dHJhbmVvdXNQb3BzdGF0ZUV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuICAgIGhhbmRsZVBvcChnZXRET01Mb2NhdGlvbihldmVudC5zdGF0ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlSGFzaENoYW5nZSgpIHtcbiAgICBoYW5kbGVQb3AoZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpKTtcbiAgfVxuXG4gIHZhciBmb3JjZU5leHRQb3AgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBoYW5kbGVQb3AobG9jYXRpb24pIHtcbiAgICBpZiAoZm9yY2VOZXh0UG9wKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSBmYWxzZTtcbiAgICAgIHNldFN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhY3Rpb24gPSAnUE9QJztcbiAgICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICAgIGlmIChvaykge1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2ZXJ0UG9wKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV2ZXJ0UG9wKGZyb21Mb2NhdGlvbikge1xuICAgIHZhciB0b0xvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjsgLy8gVE9ETzogV2UgY291bGQgcHJvYmFibHkgbWFrZSB0aGlzIG1vcmUgcmVsaWFibGUgYnlcbiAgICAvLyBrZWVwaW5nIGEgbGlzdCBvZiBrZXlzIHdlJ3ZlIHNlZW4gaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgLy8gSW5zdGVhZCwgd2UganVzdCBkZWZhdWx0IHRvIDAgZm9yIGtleXMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsS2V5cy5pbmRleE9mKHRvTG9jYXRpb24ua2V5KTtcbiAgICBpZiAodG9JbmRleCA9PT0gLTEpIHRvSW5kZXggPSAwO1xuICAgIHZhciBmcm9tSW5kZXggPSBhbGxLZXlzLmluZGV4T2YoZnJvbUxvY2F0aW9uLmtleSk7XG4gICAgaWYgKGZyb21JbmRleCA9PT0gLTEpIGZyb21JbmRleCA9IDA7XG4gICAgdmFyIGRlbHRhID0gdG9JbmRleCAtIGZyb21JbmRleDtcblxuICAgIGlmIChkZWx0YSkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gdHJ1ZTtcbiAgICAgIGdvKGRlbHRhKTtcbiAgICB9XG4gIH1cblxuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oZ2V0SGlzdG9yeVN0YXRlKCkpO1xuICB2YXIgYWxsS2V5cyA9IFtpbml0aWFsTG9jYXRpb24ua2V5XTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYobG9jYXRpb24pIHtcbiAgICByZXR1cm4gYmFzZW5hbWUgKyBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHB1c2ggd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdQVVNIJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgaHJlZiA9IGNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgICAgdmFyIGtleSA9IGxvY2F0aW9uLmtleSxcbiAgICAgICAgICBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlO1xuXG4gICAgICBpZiAoY2FuVXNlSGlzdG9yeSkge1xuICAgICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgIH0sIG51bGwsIGhyZWYpO1xuXG4gICAgICAgIGlmIChmb3JjZVJlZnJlc2gpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZJbmRleCA9IGFsbEtleXMuaW5kZXhPZihoaXN0b3J5LmxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgdmFyIG5leHRLZXlzID0gYWxsS2V5cy5zbGljZSgwLCBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgICBuZXh0S2V5cy5wdXNoKGxvY2F0aW9uLmtleSk7XG4gICAgICAgICAgYWxsS2V5cyA9IG5leHRLZXlzO1xuICAgICAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0Jyb3dzZXIgaGlzdG9yeSBjYW5ub3QgcHVzaCBzdGF0ZSBpbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IEhUTUw1IGhpc3RvcnknKSA6IHZvaWQgMDtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoISh0eXBlb2YgcGF0aCA9PT0gJ29iamVjdCcgJiYgcGF0aC5zdGF0ZSAhPT0gdW5kZWZpbmVkICYmIHN0YXRlICE9PSB1bmRlZmluZWQpLCAnWW91IHNob3VsZCBhdm9pZCBwcm92aWRpbmcgYSAybmQgc3RhdGUgYXJndW1lbnQgdG8gcmVwbGFjZSB3aGVuIHRoZSAxc3QgJyArICdhcmd1bWVudCBpcyBhIGxvY2F0aW9uLWxpa2Ugb2JqZWN0IHRoYXQgYWxyZWFkeSBoYXMgc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1JFUExBQ0UnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHN0YXRlLCBjcmVhdGVLZXkoKSwgaGlzdG9yeS5sb2NhdGlvbik7XG4gICAgdHJhbnNpdGlvbk1hbmFnZXIuY29uZmlybVRyYW5zaXRpb25Ubyhsb2NhdGlvbiwgYWN0aW9uLCBnZXRVc2VyQ29uZmlybWF0aW9uLCBmdW5jdGlvbiAob2spIHtcbiAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgIHZhciBocmVmID0gY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgICB2YXIga2V5ID0gbG9jYXRpb24ua2V5LFxuICAgICAgICAgIHN0YXRlID0gbG9jYXRpb24uc3RhdGU7XG5cbiAgICAgIGlmIChjYW5Vc2VIaXN0b3J5KSB7XG4gICAgICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgfSwgbnVsbCwgaHJlZik7XG5cbiAgICAgICAgaWYgKGZvcmNlUmVmcmVzaCkge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGhyZWYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxLZXlzLmluZGV4T2YoaGlzdG9yeS5sb2NhdGlvbi5rZXkpO1xuICAgICAgICAgIGlmIChwcmV2SW5kZXggIT09IC0xKSBhbGxLZXlzW3ByZXZJbmRleF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhzdGF0ZSA9PT0gdW5kZWZpbmVkLCAnQnJvd3NlciBoaXN0b3J5IGNhbm5vdCByZXBsYWNlIHN0YXRlIGluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgSFRNTDUgaGlzdG9yeScpIDogdm9pZCAwO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShocmVmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29CYWNrKCkge1xuICAgIGdvKC0xKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvRm9yd2FyZCgpIHtcbiAgICBnbygxKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RPTUxpc3RlbmVycyhkZWx0YSkge1xuICAgIGxpc3RlbmVyQ291bnQgKz0gZGVsdGE7XG5cbiAgICBpZiAobGlzdGVuZXJDb3VudCA9PT0gMSAmJiBkZWx0YSA9PT0gMSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAobGlzdGVuZXJDb3VudCA9PT0gMCkge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudCwgaGFuZGxlUG9wU3RhdGUpO1xuICAgICAgaWYgKG5lZWRzSGFzaENoYW5nZUxpc3RlbmVyKSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQsIGhhbmRsZUhhc2hDaGFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpc0Jsb2NrZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBibG9jayhwcm9tcHQpIHtcbiAgICBpZiAocHJvbXB0ID09PSB2b2lkIDApIHtcbiAgICAgIHByb21wdCA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciB1bmJsb2NrID0gdHJhbnNpdGlvbk1hbmFnZXIuc2V0UHJvbXB0KHByb21wdCk7XG5cbiAgICBpZiAoIWlzQmxvY2tlZCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoMSk7XG4gICAgICBpc0Jsb2NrZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgIGlzQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1bmJsb2NrKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIHZhciB1bmxpc3RlbiA9IHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY2hlY2tET01MaXN0ZW5lcnMoLTEpO1xuICAgICAgdW5saXN0ZW4oKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIGhpc3RvcnkgPSB7XG4gICAgbGVuZ3RoOiBnbG9iYWxIaXN0b3J5Lmxlbmd0aCxcbiAgICBhY3Rpb246ICdQT1AnLFxuICAgIGxvY2F0aW9uOiBpbml0aWFsTG9jYXRpb24sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGJsb2NrOiBibG9jayxcbiAgICBsaXN0ZW46IGxpc3RlblxuICB9O1xuICByZXR1cm4gaGlzdG9yeTtcbn1cblxudmFyIEhhc2hDaGFuZ2VFdmVudCQxID0gJ2hhc2hjaGFuZ2UnO1xudmFyIEhhc2hQYXRoQ29kZXJzID0ge1xuICBoYXNoYmFuZzoge1xuICAgIGVuY29kZVBhdGg6IGZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xuICAgICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnIScgPyBwYXRoIDogJyEvJyArIHN0cmlwTGVhZGluZ1NsYXNoKHBhdGgpO1xuICAgIH0sXG4gICAgZGVjb2RlUGF0aDogZnVuY3Rpb24gZGVjb2RlUGF0aChwYXRoKSB7XG4gICAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICchJyA/IHBhdGguc3Vic3RyKDEpIDogcGF0aDtcbiAgICB9XG4gIH0sXG4gIG5vc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBzdHJpcExlYWRpbmdTbGFzaCxcbiAgICBkZWNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2hcbiAgfSxcbiAgc2xhc2g6IHtcbiAgICBlbmNvZGVQYXRoOiBhZGRMZWFkaW5nU2xhc2gsXG4gICAgZGVjb2RlUGF0aDogYWRkTGVhZGluZ1NsYXNoXG4gIH1cbn07XG5cbmZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XG4gIHJldHVybiBoYXNoSW5kZXggPT09IC0xID8gdXJsIDogdXJsLnNsaWNlKDAsIGhhc2hJbmRleCk7XG59XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHZhciBocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gIHZhciBoYXNoSW5kZXggPSBocmVmLmluZGV4T2YoJyMnKTtcbiAgcmV0dXJuIGhhc2hJbmRleCA9PT0gLTEgPyAnJyA6IGhyZWYuc3Vic3RyaW5nKGhhc2hJbmRleCArIDEpO1xufVxuXG5mdW5jdGlvbiBwdXNoSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24uaGFzaCA9IHBhdGg7XG59XG5cbmZ1bmN0aW9uIHJlcGxhY2VIYXNoUGF0aChwYXRoKSB7XG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHN0cmlwSGFzaCh3aW5kb3cubG9jYXRpb24uaHJlZikgKyAnIycgKyBwYXRoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSGFzaEhpc3RvcnkocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgIWNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgJ0hhc2ggaGlzdG9yeSBuZWVkcyBhIERPTScpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgdmFyIGdsb2JhbEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcbiAgdmFyIGNhbkdvV2l0aG91dFJlbG9hZCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoKCk7XG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9IF9wcm9wcy5nZXRVc2VyQ29uZmlybWF0aW9uLFxuICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbiA9IF9wcm9wcyRnZXRVc2VyQ29uZmlybSA9PT0gdm9pZCAwID8gZ2V0Q29uZmlybWF0aW9uIDogX3Byb3BzJGdldFVzZXJDb25maXJtLFxuICAgICAgX3Byb3BzJGhhc2hUeXBlID0gX3Byb3BzLmhhc2hUeXBlLFxuICAgICAgaGFzaFR5cGUgPSBfcHJvcHMkaGFzaFR5cGUgPT09IHZvaWQgMCA/ICdzbGFzaCcgOiBfcHJvcHMkaGFzaFR5cGU7XG4gIHZhciBiYXNlbmFtZSA9IHByb3BzLmJhc2VuYW1lID8gc3RyaXBUcmFpbGluZ1NsYXNoKGFkZExlYWRpbmdTbGFzaChwcm9wcy5iYXNlbmFtZSkpIDogJyc7XG4gIHZhciBfSGFzaFBhdGhDb2RlcnMkaGFzaFQgPSBIYXNoUGF0aENvZGVyc1toYXNoVHlwZV0sXG4gICAgICBlbmNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmVuY29kZVBhdGgsXG4gICAgICBkZWNvZGVQYXRoID0gX0hhc2hQYXRoQ29kZXJzJGhhc2hULmRlY29kZVBhdGg7XG5cbiAgZnVuY3Rpb24gZ2V0RE9NTG9jYXRpb24oKSB7XG4gICAgdmFyIHBhdGggPSBkZWNvZGVQYXRoKGdldEhhc2hQYXRoKCkpO1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoIWJhc2VuYW1lIHx8IGhhc0Jhc2VuYW1lKHBhdGgsIGJhc2VuYW1lKSwgJ1lvdSBhcmUgYXR0ZW1wdGluZyB0byB1c2UgYSBiYXNlbmFtZSBvbiBhIHBhZ2Ugd2hvc2UgVVJMIHBhdGggZG9lcyBub3QgYmVnaW4gJyArICd3aXRoIHRoZSBiYXNlbmFtZS4gRXhwZWN0ZWQgcGF0aCBcIicgKyBwYXRoICsgJ1wiIHRvIGJlZ2luIHdpdGggXCInICsgYmFzZW5hbWUgKyAnXCIuJykgOiB2b2lkIDA7XG4gICAgaWYgKGJhc2VuYW1lKSBwYXRoID0gc3RyaXBCYXNlbmFtZShwYXRoLCBiYXNlbmFtZSk7XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKHBhdGgpO1xuICB9XG5cbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBnbG9iYWxIaXN0b3J5Lmxlbmd0aDtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5ub3RpZnlMaXN0ZW5lcnMoaGlzdG9yeS5sb2NhdGlvbiwgaGlzdG9yeS5hY3Rpb24pO1xuICB9XG5cbiAgdmFyIGZvcmNlTmV4dFBvcCA9IGZhbHNlO1xuICB2YXIgaWdub3JlUGF0aCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gbG9jYXRpb25zQXJlRXF1YWwkJDEoYSwgYikge1xuICAgIHJldHVybiBhLnBhdGhuYW1lID09PSBiLnBhdGhuYW1lICYmIGEuc2VhcmNoID09PSBiLnNlYXJjaCAmJiBhLmhhc2ggPT09IGIuaGFzaDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUhhc2hDaGFuZ2UoKSB7XG4gICAgdmFyIHBhdGggPSBnZXRIYXNoUGF0aCgpO1xuICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgocGF0aCk7XG5cbiAgICBpZiAocGF0aCAhPT0gZW5jb2RlZFBhdGgpIHtcbiAgICAgIC8vIEVuc3VyZSB3ZSBhbHdheXMgaGF2ZSBhIHByb3Blcmx5LWVuY29kZWQgaGFzaC5cbiAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhdGlvbiA9IGdldERPTUxvY2F0aW9uKCk7XG4gICAgICB2YXIgcHJldkxvY2F0aW9uID0gaGlzdG9yeS5sb2NhdGlvbjtcbiAgICAgIGlmICghZm9yY2VOZXh0UG9wICYmIGxvY2F0aW9uc0FyZUVxdWFsJCQxKHByZXZMb2NhdGlvbiwgbG9jYXRpb24pKSByZXR1cm47IC8vIEEgaGFzaGNoYW5nZSBkb2Vzbid0IGFsd2F5cyA9PSBsb2NhdGlvbiBjaGFuZ2UuXG5cbiAgICAgIGlmIChpZ25vcmVQYXRoID09PSBjcmVhdGVQYXRoKGxvY2F0aW9uKSkgcmV0dXJuOyAvLyBJZ25vcmUgdGhpcyBjaGFuZ2U7IHdlIGFscmVhZHkgc2V0U3RhdGUgaW4gcHVzaC9yZXBsYWNlLlxuXG4gICAgICBpZ25vcmVQYXRoID0gbnVsbDtcbiAgICAgIGhhbmRsZVBvcChsb2NhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKGxvY2F0aW9uKSB7XG4gICAgaWYgKGZvcmNlTmV4dFBvcCkge1xuICAgICAgZm9yY2VOZXh0UG9wID0gZmFsc2U7XG4gICAgICBzZXRTdGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWN0aW9uID0gJ1BPUCc7XG4gICAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldmVydFBvcChsb2NhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldmVydFBvcChmcm9tTG9jYXRpb24pIHtcbiAgICB2YXIgdG9Mb2NhdGlvbiA9IGhpc3RvcnkubG9jYXRpb247IC8vIFRPRE86IFdlIGNvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyBtb3JlIHJlbGlhYmxlIGJ5XG4gICAgLy8ga2VlcGluZyBhIGxpc3Qgb2YgcGF0aHMgd2UndmUgc2VlbiBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAvLyBJbnN0ZWFkLCB3ZSBqdXN0IGRlZmF1bHQgdG8gMCBmb3IgcGF0aHMgd2UgZG9uJ3Qga25vdy5cblxuICAgIHZhciB0b0luZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aCh0b0xvY2F0aW9uKSk7XG4gICAgaWYgKHRvSW5kZXggPT09IC0xKSB0b0luZGV4ID0gMDtcbiAgICB2YXIgZnJvbUluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChmcm9tTG9jYXRpb24pKTtcbiAgICBpZiAoZnJvbUluZGV4ID09PSAtMSkgZnJvbUluZGV4ID0gMDtcbiAgICB2YXIgZGVsdGEgPSB0b0luZGV4IC0gZnJvbUluZGV4O1xuXG4gICAgaWYgKGRlbHRhKSB7XG4gICAgICBmb3JjZU5leHRQb3AgPSB0cnVlO1xuICAgICAgZ28oZGVsdGEpO1xuICAgIH1cbiAgfSAvLyBFbnN1cmUgdGhlIGhhc2ggaXMgZW5jb2RlZCBwcm9wZXJseSBiZWZvcmUgZG9pbmcgYW55dGhpbmcgZWxzZS5cblxuXG4gIHZhciBwYXRoID0gZ2V0SGFzaFBhdGgoKTtcbiAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChwYXRoKTtcbiAgaWYgKHBhdGggIT09IGVuY29kZWRQYXRoKSByZXBsYWNlSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICB2YXIgaW5pdGlhbExvY2F0aW9uID0gZ2V0RE9NTG9jYXRpb24oKTtcbiAgdmFyIGFsbFBhdGhzID0gW2NyZWF0ZVBhdGgoaW5pdGlhbExvY2F0aW9uKV07IC8vIFB1YmxpYyBpbnRlcmZhY2VcblxuICBmdW5jdGlvbiBjcmVhdGVIcmVmKGxvY2F0aW9uKSB7XG4gICAgdmFyIGJhc2VUYWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJyk7XG4gICAgdmFyIGhyZWYgPSAnJztcblxuICAgIGlmIChiYXNlVGFnICYmIGJhc2VUYWcuZ2V0QXR0cmlidXRlKCdocmVmJykpIHtcbiAgICAgIGhyZWYgPSBzdHJpcEhhc2god2luZG93LmxvY2F0aW9uLmhyZWYpO1xuICAgIH1cblxuICAgIHJldHVybiBocmVmICsgJyMnICsgZW5jb2RlUGF0aChiYXNlbmFtZSArIGNyZWF0ZVBhdGgobG9jYXRpb24pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2gocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKHN0YXRlID09PSB1bmRlZmluZWQsICdIYXNoIGhpc3RvcnkgY2Fubm90IHB1c2ggc3RhdGU7IGl0IGlzIGlnbm9yZWQnKSA6IHZvaWQgMDtcbiAgICB2YXIgYWN0aW9uID0gJ1BVU0gnO1xuICAgIHZhciBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHBhdGgsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHBhdGggPSBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgICAgIHZhciBlbmNvZGVkUGF0aCA9IGVuY29kZVBhdGgoYmFzZW5hbWUgKyBwYXRoKTtcbiAgICAgIHZhciBoYXNoQ2hhbmdlZCA9IGdldEhhc2hQYXRoKCkgIT09IGVuY29kZWRQYXRoO1xuXG4gICAgICBpZiAoaGFzaENoYW5nZWQpIHtcbiAgICAgICAgLy8gV2UgY2Fubm90IHRlbGwgaWYgYSBoYXNoY2hhbmdlIHdhcyBjYXVzZWQgYnkgYSBQVVNILCBzbyB3ZSdkXG4gICAgICAgIC8vIHJhdGhlciBzZXRTdGF0ZSBoZXJlIGFuZCBpZ25vcmUgdGhlIGhhc2hjaGFuZ2UuIFRoZSBjYXZlYXQgaGVyZVxuICAgICAgICAvLyBpcyB0aGF0IG90aGVyIGhhc2ggaGlzdG9yaWVzIGluIHRoZSBwYWdlIHdpbGwgY29uc2lkZXIgaXQgYSBQT1AuXG4gICAgICAgIGlnbm9yZVBhdGggPSBwYXRoO1xuICAgICAgICBwdXNoSGFzaFBhdGgoZW5jb2RlZFBhdGgpO1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsUGF0aHMubGFzdEluZGV4T2YoY3JlYXRlUGF0aChoaXN0b3J5LmxvY2F0aW9uKSk7XG4gICAgICAgIHZhciBuZXh0UGF0aHMgPSBhbGxQYXRocy5zbGljZSgwLCBwcmV2SW5kZXggKyAxKTtcbiAgICAgICAgbmV4dFBhdGhzLnB1c2gocGF0aCk7XG4gICAgICAgIGFsbFBhdGhzID0gbmV4dFBhdGhzO1xuICAgICAgICBzZXRTdGF0ZSh7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyhmYWxzZSwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgUFVTSCB0aGUgc2FtZSBwYXRoOyBhIG5ldyBlbnRyeSB3aWxsIG5vdCBiZSBhZGRlZCB0byB0aGUgaGlzdG9yeSBzdGFjaycpIDogdm9pZCAwO1xuICAgICAgICBzZXRTdGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZShwYXRoLCBzdGF0ZSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHdhcm5pbmcoc3RhdGUgPT09IHVuZGVmaW5lZCwgJ0hhc2ggaGlzdG9yeSBjYW5ub3QgcmVwbGFjZSBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUkVQTEFDRSc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICB2YXIgcGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgdmFyIGVuY29kZWRQYXRoID0gZW5jb2RlUGF0aChiYXNlbmFtZSArIHBhdGgpO1xuICAgICAgdmFyIGhhc2hDaGFuZ2VkID0gZ2V0SGFzaFBhdGgoKSAhPT0gZW5jb2RlZFBhdGg7XG5cbiAgICAgIGlmIChoYXNoQ2hhbmdlZCkge1xuICAgICAgICAvLyBXZSBjYW5ub3QgdGVsbCBpZiBhIGhhc2hjaGFuZ2Ugd2FzIGNhdXNlZCBieSBhIFJFUExBQ0UsIHNvIHdlJ2RcbiAgICAgICAgLy8gcmF0aGVyIHNldFN0YXRlIGhlcmUgYW5kIGlnbm9yZSB0aGUgaGFzaGNoYW5nZS4gVGhlIGNhdmVhdCBoZXJlXG4gICAgICAgIC8vIGlzIHRoYXQgb3RoZXIgaGFzaCBoaXN0b3JpZXMgaW4gdGhlIHBhZ2Ugd2lsbCBjb25zaWRlciBpdCBhIFBPUC5cbiAgICAgICAgaWdub3JlUGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcGxhY2VIYXNoUGF0aChlbmNvZGVkUGF0aCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcmV2SW5kZXggPSBhbGxQYXRocy5pbmRleE9mKGNyZWF0ZVBhdGgoaGlzdG9yeS5sb2NhdGlvbikpO1xuICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIGFsbFBhdGhzW3ByZXZJbmRleF0gPSBwYXRoO1xuICAgICAgc2V0U3RhdGUoe1xuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKG4pIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKGNhbkdvV2l0aG91dFJlbG9hZCwgJ0hhc2ggaGlzdG9yeSBnbyhuKSBjYXVzZXMgYSBmdWxsIHBhZ2UgcmVsb2FkIGluIHRoaXMgYnJvd3NlcicpIDogdm9pZCAwO1xuICAgIGdsb2JhbEhpc3RvcnkuZ28obik7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgdmFyIGxpc3RlbmVyQ291bnQgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRE9NTGlzdGVuZXJzKGRlbHRhKSB7XG4gICAgbGlzdGVuZXJDb3VudCArPSBkZWx0YTtcblxuICAgIGlmIChsaXN0ZW5lckNvdW50ID09PSAxICYmIGRlbHRhID09PSAxKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChsaXN0ZW5lckNvdW50ID09PSAwKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihIYXNoQ2hhbmdlRXZlbnQkMSwgaGFuZGxlSGFzaENoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIHVuYmxvY2sgPSB0cmFuc2l0aW9uTWFuYWdlci5zZXRQcm9tcHQocHJvbXB0KTtcblxuICAgIGlmICghaXNCbG9ja2VkKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygxKTtcbiAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpc0Jsb2NrZWQpIHtcbiAgICAgICAgaXNCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIGNoZWNrRE9NTGlzdGVuZXJzKC0xKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuYmxvY2soKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgdmFyIHVubGlzdGVuID0gdHJhbnNpdGlvbk1hbmFnZXIuYXBwZW5kTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIGNoZWNrRE9NTGlzdGVuZXJzKDEpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGVja0RPTUxpc3RlbmVycygtMSk7XG4gICAgICB1bmxpc3RlbigpO1xuICAgIH07XG4gIH1cblxuICB2YXIgaGlzdG9yeSA9IHtcbiAgICBsZW5ndGg6IGdsb2JhbEhpc3RvcnkubGVuZ3RoLFxuICAgIGFjdGlvbjogJ1BPUCcsXG4gICAgbG9jYXRpb246IGluaXRpYWxMb2NhdGlvbixcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLFxuICAgIHB1c2g6IHB1c2gsXG4gICAgcmVwbGFjZTogcmVwbGFjZSxcbiAgICBnbzogZ28sXG4gICAgZ29CYWNrOiBnb0JhY2ssXG4gICAgZ29Gb3J3YXJkOiBnb0ZvcndhcmQsXG4gICAgYmxvY2s6IGJsb2NrLFxuICAgIGxpc3RlbjogbGlzdGVuXG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG5mdW5jdGlvbiBjbGFtcChuLCBsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCBsb3dlckJvdW5kKSwgdXBwZXJCb3VuZCk7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBoaXN0b3J5IG9iamVjdCB0aGF0IHN0b3JlcyBsb2NhdGlvbnMgaW4gbWVtb3J5LlxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBnZXRVc2VyQ29uZmlybWF0aW9uID0gX3Byb3BzLmdldFVzZXJDb25maXJtYXRpb24sXG4gICAgICBfcHJvcHMkaW5pdGlhbEVudHJpZXMgPSBfcHJvcHMuaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsRW50cmllcyA9IF9wcm9wcyRpbml0aWFsRW50cmllcyA9PT0gdm9pZCAwID8gWycvJ10gOiBfcHJvcHMkaW5pdGlhbEVudHJpZXMsXG4gICAgICBfcHJvcHMkaW5pdGlhbEluZGV4ID0gX3Byb3BzLmluaXRpYWxJbmRleCxcbiAgICAgIGluaXRpYWxJbmRleCA9IF9wcm9wcyRpbml0aWFsSW5kZXggPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkaW5pdGlhbEluZGV4LFxuICAgICAgX3Byb3BzJGtleUxlbmd0aCA9IF9wcm9wcy5rZXlMZW5ndGgsXG4gICAgICBrZXlMZW5ndGggPSBfcHJvcHMka2V5TGVuZ3RoID09PSB2b2lkIDAgPyA2IDogX3Byb3BzJGtleUxlbmd0aDtcbiAgdmFyIHRyYW5zaXRpb25NYW5hZ2VyID0gY3JlYXRlVHJhbnNpdGlvbk1hbmFnZXIoKTtcblxuICBmdW5jdGlvbiBzZXRTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICBfZXh0ZW5kcyhoaXN0b3J5LCBuZXh0U3RhdGUpO1xuXG4gICAgaGlzdG9yeS5sZW5ndGggPSBoaXN0b3J5LmVudHJpZXMubGVuZ3RoO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLm5vdGlmeUxpc3RlbmVycyhoaXN0b3J5LmxvY2F0aW9uLCBoaXN0b3J5LmFjdGlvbik7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVLZXkoKSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCBrZXlMZW5ndGgpO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gY2xhbXAoaW5pdGlhbEluZGV4LCAwLCBpbml0aWFsRW50cmllcy5sZW5ndGggLSAxKTtcbiAgdmFyIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ3N0cmluZycgPyBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBjcmVhdGVLZXkoKSkgOiBjcmVhdGVMb2NhdGlvbihlbnRyeSwgdW5kZWZpbmVkLCBlbnRyeS5rZXkgfHwgY3JlYXRlS2V5KCkpO1xuICB9KTsgLy8gUHVibGljIGludGVyZmFjZVxuXG4gIHZhciBjcmVhdGVIcmVmID0gY3JlYXRlUGF0aDtcblxuICBmdW5jdGlvbiBwdXNoKHBhdGgsIHN0YXRlKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gd2FybmluZyghKHR5cGVvZiBwYXRoID09PSAnb2JqZWN0JyAmJiBwYXRoLnN0YXRlICE9PSB1bmRlZmluZWQgJiYgc3RhdGUgIT09IHVuZGVmaW5lZCksICdZb3Ugc2hvdWxkIGF2b2lkIHByb3ZpZGluZyBhIDJuZCBzdGF0ZSBhcmd1bWVudCB0byBwdXNoIHdoZW4gdGhlIDFzdCAnICsgJ2FyZ3VtZW50IGlzIGEgbG9jYXRpb24tbGlrZSBvYmplY3QgdGhhdCBhbHJlYWR5IGhhcyBzdGF0ZTsgaXQgaXMgaWdub3JlZCcpIDogdm9pZCAwO1xuICAgIHZhciBhY3Rpb24gPSAnUFVTSCc7XG4gICAgdmFyIGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24ocGF0aCwgc3RhdGUsIGNyZWF0ZUtleSgpLCBoaXN0b3J5LmxvY2F0aW9uKTtcbiAgICB0cmFuc2l0aW9uTWFuYWdlci5jb25maXJtVHJhbnNpdGlvblRvKGxvY2F0aW9uLCBhY3Rpb24sIGdldFVzZXJDb25maXJtYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKCFvaykgcmV0dXJuO1xuICAgICAgdmFyIHByZXZJbmRleCA9IGhpc3RvcnkuaW5kZXg7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gcHJldkluZGV4ICsgMTtcbiAgICAgIHZhciBuZXh0RW50cmllcyA9IGhpc3RvcnkuZW50cmllcy5zbGljZSgwKTtcblxuICAgICAgaWYgKG5leHRFbnRyaWVzLmxlbmd0aCA+IG5leHRJbmRleCkge1xuICAgICAgICBuZXh0RW50cmllcy5zcGxpY2UobmV4dEluZGV4LCBuZXh0RW50cmllcy5sZW5ndGggLSBuZXh0SW5kZXgsIGxvY2F0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRFbnRyaWVzLnB1c2gobG9jYXRpb24pO1xuICAgICAgfVxuXG4gICAgICBzZXRTdGF0ZSh7XG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgIGluZGV4OiBuZXh0SW5kZXgsXG4gICAgICAgIGVudHJpZXM6IG5leHRFbnRyaWVzXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UocGF0aCwgc3RhdGUpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyB3YXJuaW5nKCEodHlwZW9mIHBhdGggPT09ICdvYmplY3QnICYmIHBhdGguc3RhdGUgIT09IHVuZGVmaW5lZCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSwgJ1lvdSBzaG91bGQgYXZvaWQgcHJvdmlkaW5nIGEgMm5kIHN0YXRlIGFyZ3VtZW50IHRvIHJlcGxhY2Ugd2hlbiB0aGUgMXN0ICcgKyAnYXJndW1lbnQgaXMgYSBsb2NhdGlvbi1saWtlIG9iamVjdCB0aGF0IGFscmVhZHkgaGFzIHN0YXRlOyBpdCBpcyBpZ25vcmVkJykgOiB2b2lkIDA7XG4gICAgdmFyIGFjdGlvbiA9ICdSRVBMQUNFJztcbiAgICB2YXIgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihwYXRoLCBzdGF0ZSwgY3JlYXRlS2V5KCksIGhpc3RvcnkubG9jYXRpb24pO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAoIW9rKSByZXR1cm47XG4gICAgICBoaXN0b3J5LmVudHJpZXNbaGlzdG9yeS5pbmRleF0gPSBsb2NhdGlvbjtcbiAgICAgIHNldFN0YXRlKHtcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhuKSB7XG4gICAgdmFyIG5leHRJbmRleCA9IGNsYW1wKGhpc3RvcnkuaW5kZXggKyBuLCAwLCBoaXN0b3J5LmVudHJpZXMubGVuZ3RoIC0gMSk7XG4gICAgdmFyIGFjdGlvbiA9ICdQT1AnO1xuICAgIHZhciBsb2NhdGlvbiA9IGhpc3RvcnkuZW50cmllc1tuZXh0SW5kZXhdO1xuICAgIHRyYW5zaXRpb25NYW5hZ2VyLmNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGFjdGlvbiwgZ2V0VXNlckNvbmZpcm1hdGlvbiwgZnVuY3Rpb24gKG9rKSB7XG4gICAgICBpZiAob2spIHtcbiAgICAgICAgc2V0U3RhdGUoe1xuICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBpbmRleDogbmV4dEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gTWltaWMgdGhlIGJlaGF2aW9yIG9mIERPTSBoaXN0b3JpZXMgYnlcbiAgICAgICAgLy8gY2F1c2luZyBhIHJlbmRlciBhZnRlciBhIGNhbmNlbGxlZCBQT1AuXG4gICAgICAgIHNldFN0YXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuR28obikge1xuICAgIHZhciBuZXh0SW5kZXggPSBoaXN0b3J5LmluZGV4ICsgbjtcbiAgICByZXR1cm4gbmV4dEluZGV4ID49IDAgJiYgbmV4dEluZGV4IDwgaGlzdG9yeS5lbnRyaWVzLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJsb2NrKHByb21wdCkge1xuICAgIGlmIChwcm9tcHQgPT09IHZvaWQgMCkge1xuICAgICAgcHJvbXB0ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLnNldFByb21wdChwcm9tcHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlzdGVuKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIHRyYW5zaXRpb25NYW5hZ2VyLmFwcGVuZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0ge1xuICAgIGxlbmd0aDogZW50cmllcy5sZW5ndGgsXG4gICAgYWN0aW9uOiAnUE9QJyxcbiAgICBsb2NhdGlvbjogZW50cmllc1tpbmRleF0sXG4gICAgaW5kZXg6IGluZGV4LFxuICAgIGVudHJpZXM6IGVudHJpZXMsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNhbkdvOiBjYW5HbyxcbiAgICBibG9jazogYmxvY2ssXG4gICAgbGlzdGVuOiBsaXN0ZW5cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUJyb3dzZXJIaXN0b3J5LCBjcmVhdGVIYXNoSGlzdG9yeSwgY3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlTG9jYXRpb24sIGxvY2F0aW9uc0FyZUVxdWFsLCBwYXJzZVBhdGgsIGNyZWF0ZVBhdGggfTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDMUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///29\n")}]);